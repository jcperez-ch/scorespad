{"version":3,"sources":["themes/dark.js","themes/girlish.js","themes/colors.js","themes/screenSizes.js","themes/index.js","themes/minimal.js","common/Layout.js","common/Txt.jsx","common/Snackbar.js","common/StickyFabButton.jsx","components/game/context/Store.js","common/WarnPlaceholder.js","components/game/list/Empty.jsx","common/SlideItem.js","common/SlideLongRippleSwitch.jsx","common/useLongRipple.js","common/CommaList.jsx","common/button/Extended.js","common/styled/NameForm.js","utils/handlers.js","common/NameField.jsx","common/modal/Actions.js","common/modal/Content.js","common/modal/Confirm.jsx","components/game/action/Remove.jsx","components/game/actionCreators.js","common/SlideUp.jsx","common/dialog/Title.jsx","common/dialog/Headline.js","components/game/action/Share.js","utils/validation.js","components/game/form/useValidation.js","components/game/form/Update.jsx","components/game/list/Item.jsx","components/game/list/List.jsx","components/PageViewTracker.jsx","components/Landing.js","components/game/Guard.jsx","components/game/useGame.js","components/game/context/Used.js","components/game/team/list/Empty.jsx","common/Flex.jsx","utils/flexStyles.js","components/game/team/action/Remove.jsx","components/game/team/actionCreators.js","components/game/team/form/useValidation.js","components/game/team/form/Update.jsx","components/game/team/Championship.jsx","components/game/team/list/Item.jsx","components/game/team/list/List.jsx","components/game/action/Start.js","components/Game.js","components/game/round/Guard.js","common/ButtonsWrapper.js","components/game/context/Scores.js","common/card/Header.js","common/StyledScore.js","components/game/round/form/ScoreRemove.jsx","components/game/round/actionCreators.js","components/game/round/Score.jsx","components/game/round/Sum.jsx","components/game/round/list/Field.jsx","components/game/round/list/Item.jsx","components/game/round/list/Wrapper.js","components/game/round/list/List.jsx","components/game/round/action/End.jsx","components/game/Scores.jsx","components/game/round/Championship.jsx","components/Round.jsx","common/bar/Toolbar.jsx","common/bar/Title.js","common/EmptyBlock.jsx","components/locale/Context.js","components/locale/Menu.jsx","components/theme/Context.js","components/theme/Menu.jsx","components/Top.jsx","utils/store.js","common/Storage.js","components/theme/Provider.js","common/Spinner.jsx","components/locale/Provider.jsx","utils/gaTracking.js","components/game/team/reducer.js","components/game/reducer.js","components/game/Provider.jsx","components/game/team/form/Create.jsx","common/styled/RoutePaper.js","components/game/form/ByName.js","utils/isSafari.js","common/qr/VideoStream.js","common/qr/Scan.js","components/game/form/ByScan.js","components/game/form/Create.js","components/Root.js","i18n/index.js","serviceWorker.js","index.js"],"names":["fonts","screenSizes","smallerScreenMin","smallerScreenMax","smallScreenMin","smallScreenMax","mediumScreenMin","mediumScreenMax","largeScreenMin","largeScreenMax","extraLargeScreenMin","mui","createMuiTheme","palette","primary","main","light","dark","contrastText","secondary","background","default","paper","error","text","disabled","divider","typography","useNextVariants","fontFamily","fontSize","body1","body2","fontWeight","globalStyle","createGlobalStyle","themeColors","theme","paperBackground","border","actionDisabled","action","textDisabled","foregroundOnBackground","foregroundOnPrimary","foregroundOnSecondary","primaryDark","primaryLight","secondaryDark","secondaryLight","errorDark","errorLight","themeScreenSizes","minimal","overrides","girlish","Layout","styled","div","Txt","id","useTranslation","t","CommonSnackbar","onClose","props","Snackbar","anchorOrigin","vertical","horizontal","ContentProps","message","Button","key","variant","color","size","onClick","IconButton","aria-label","useStyles","makeStyles","fab","position","bottom","spacing","right","StickyFabButton","icon","tooltip","Tooltip","title","Fab","className","Icon","createContext","FullViewportHeight","path","get","WarnPlaceholder","Typography","component","GameListEmpty","SlideItem","ul","active","SlideLongRippleSwitch","children","count","Children","map","child","useLongRipple","onLongPress","noop","rippleDelay","useState","ripple","setRipple","handleTouchStart","handleTouchEnd","e","preventDefault","useEffect","timeout","setTimeout","clearTimeout","onMouseDown","onTouchStart","onTouchEnd","StyledCommaListItem","span","CommaList","items","attribute","keyedBy","item","startIcon","marginLeft","marginRight","ButtonExtended","label","hideLabel","classes","undefined","StyledNameForm","TARGET_NAME","Symbol","onEnter","cb","next","event","keyCode","onChange","prop","target","name","value","isNil","isFunction","NameField","handleChange","handleEnter","validation","errors","touched","reset","TextField","fullWidth","helperText","onKeyDown","ModalActions","ModalContent","shadows","maxWidth","ModalConfirm","cancelText","confirmText","buttonText","subtitle","onConfirm","open","setOpen","toggleOpen","aria-owns","aria-haspopup","Modal","aria-labelledby","aria-describedby","autoFocus","GameActionRemove","onSuccess","useContext","GameStoreContext","dispatch","type","removeGame","forwardRef","ref","Slide","direction","StyledWrapper","h4","StyledContainer","StyledText","attrs","DialogHeadline","gutterBottom","GameActionShare","games","dataUrl","setDataUrl","matchesLarge","useMediaQuery","handleGenerate","useCallback","async","QRCode","toDataURL","document","getElementById","code","width","game","JSON","stringify","Dialog","fullScreen","TransitionComponent","SlideUp","DialogContent","useMemo","style","textAlign","src","alt","DialogActions","validators","isEmpty","useValidation","model","schema","messages","inputs","setErrors","setTouched","mapValues","rules","modelErrors","rule","ruleName","find","isString","touch","valid","every","required","useGameValidation","GameFormUpdate","handleRename","renameGame","GameListItem","teams","newName","setNewName","handleViewMode","createdAt","Date","parseInt","rippleProps","ListItem","button","ListItemText","disableTypography","date","toDateString","length","GameList","onItemClick","List","PageViewTracker","memo","uri","window","ga","Landing","navigate","GameGuard","fallback","useGame","gameKey","_","GameUsedContext","TeamListEmpty","Flex","Cmp","display","basis","flex","justify","wrap","shrink","grow","Object","assign","flexDirection","flexBasis","alignItems","justifyContent","flexWrap","flexRow","flexCenterBetween","TeamActionRemove","index","teamName","removeTeam","useTeamValidation","renameTeam","StyledIcon","StyledButton","TeamChampionship","championship","handleClick","TeamListItem","championships","rounds","round","onClickChampionship","reduce","sum","TeamList","team","GameActionStart","onStart","newRound","now","toString","addRound","Game","goToRound","Provider","RoundGuard","some","keys","includes","ButtonsWrapper","CardHeader","MuiCardHeader","StyledScore","align","StyledListItemText","RoundScoreRemove","score","scoreIndex","removeScore","GameRoundScore","canClose","setCanClose","dense","StyledListItem","GameRoundSum","RoundListField","margin","StyledRoundListItemContent","RoundListItem","teamScores","GameScoresContext","roundScores","setRoundScores","teamScoreValue","Card","titleTypographyProps","inputProps","tabIndex","pattern","i","RoundListWrapper","RoundList","onSubmit","RoundActionEnd","onEnd","endRound","GameScores","initialState","Array","from","state","handleSubmit","scores","setScores","Number","addScores","StyledSumScore","Championship","sortedTeams","sortBy","Round","isActive","StyledAppBar","StyledToolbar","BarToolbar","BarTitle","h2","pl","EmptyBlock","LocaleMenu","el","setEl","LocaleContext","locale","setLocale","currentTarget","Menu","anchorEl","Boolean","MenuItem","selected","ThemeMenu","ThemeContext","setTheme","TopLanding","TopRound","TopGame","disableTouchListener","store","Store","LocalStorage","set","ThemeProvider","initial","themes","Global","themeRef","Storage","MuiThemeProvider","spinKeyframe","keyframes","SpinnerElement","Spinner","role","LocaleProvider","i18n","language","changeLanguage","gaTrackingEnhancer","reducer","payload","toISOString","reduceTeam","reduceFunction","reducedTeam","filter","isNameUsed","createTeam","isNaN","addChampionship","reduceGame","gameTeamsReducer","teamsReducer","selectRound","totals","winnerIndex","winner","createGame","importGame","k","GameProvider","gameStore","useReducer","gaTracking","gameState","TeamFormCreate","setName","handleClose","handleAdd","root","padding","CommonRoutePaper","Paper","elevation","GameFormByName","isSafari","ua","navigator","userAgent","toLowerCase","indexOf","videoStyles","CommonVideoStream","Component","stream","streamWidth","streamHeight","video","canvasContext","stopCamera","this","getTracks","stop","startCamera","mediaDevices","getUserMedia","Error","cameras","enumerateDevices","device","kind","videoMode","facingMode","cameraIndex","rearCamera","cameraEnv","exact","deviceId","audio","srcObject","mozSrcObject","URL","createObjectURL","webkitURL","playsInline","play","streamLoadedPromise","videoWidth","videoHeight","canvas","createElement","height","getContext","Promise","resolve","reject","addEventListener","once","captureFrame","drawImage","getImageData","drawFrame","requestAnimationFrame","data","onFrame","onInit","strean","setState","componentWillUnmount","render","v","defaultProps","CommonQrScan","videoStyle","shouldDecode","fallbackCode","fallbackMedia","tryAgainButtonLabel","giveUpButtonLabel","onCode","webWorker","useRef","drawVideoFrame","codeError","setCodeError","onFrameDecoded","parse","current","Worker","process","terminate","appliedStyle","overflow","paddingRight","VideoStream","frameData","postMessage","GameFormByScan","setCode","handleScan","console","log","subheader","newGame","GameFormCreate","goToGame","Tabs","route","Tab","Fragoute","Root","hasUpdate","onUpdate","updateWarning","setUpdateWarning","basepath","Fragment","to","getI18n","use","initReactI18next","init","fallbackLng","lng","debug","resources","es","translation","en","fr","isLocalhost","location","hostname","match","registerValidSW","swUrl","config","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","catch","rootElement","start","all","localStorage","browserGames","getItem","browserTheme","browserLocale","clear","getInitialState","href","origin","fetch","response","contentType","headers","status","ready","unregister","reload","checkValidServiceWorker","caches","cache","requests","request","delete"],"mappings":"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","file":"static/js/main.14d08f0f.chunk.js","sourcesContent":["import { createGlobalStyle } from 'styled-components';\nimport { createMuiTheme } from '@material-ui/core/styles';\n\nconst mui = createMuiTheme({\n  palette: {\n    primary: {\n      main: '#607d8b',\n      light: '#ffff00',\n      dark: '#78909c',\n      contrastText: '#eceff1',\n    },\n    secondary: {\n      main: '#b0bec5',\n      light: '#90a4ae',\n      dark: '#60748e',\n      contrastText: '#cfd8dc',\n    },\n    background: {\n      default: '#212121',\n      paper: '#455a64',\n    },\n    error: {\n      main: '#d84315',\n    },\n    text: {\n      primary: '#e0e0e0',\n      secondary: '#eeeeee',\n      disabled: '#9e9e9e',\n    },\n    divider: 'rgba(200, 210, 220, 0.42)',\n  },\n  typography: {\n    useNextVariants: true,\n    fontFamily: ['Raleway'],\n    fontSize: 17,\n    body1: {\n      fontSize: '1.4rem',\n    },\n    body2: {\n      fontWeight: 400,\n      fontSize: '0.8rem',\n    },\n  },\n});\n\nexport default {\n  fonts: ['Raleway'],\n  screenSizes: {\n    smallerScreenMin: '321px',\n    smallerScreenMax: '480px',\n    smallScreenMin: '481px',\n    smallScreenMax: '768px',\n    mediumScreenMin: '769px',\n    mediumScreenMax: '1024px',\n    largeScreenMin: '1025px',\n    largeScreenMax: '1440px',\n    extraLargeScreenMin: '1441px',\n  },\n  mui,\n  globalStyle: createGlobalStyle`\n    @import url('https://fonts.googleapis.com/css?family=Raleway&display=swap');\n  `,\n};\n","import { createGlobalStyle } from 'styled-components';\nimport { createMuiTheme } from '@material-ui/core/styles';\n\nconst mui = createMuiTheme({\n  palette: {\n    primary: {\n      main: '#e91e63',\n      light: '#f06292',\n      dark: '#c2185b',\n      contrastText: '#fce4ec',\n    },\n    secondary: {\n      main: '#b50b70',\n      light: '#c33b8c',\n      dark: '#7e074e',\n      contrastText: '#ffffff',\n    },\n    background: {\n      default: '#78d7e6',\n      paper: '#fce4ec',\n    },\n    error: {\n      main: '#ffeb3b',\n    },\n    text: {\n      primary: '#ad1457',\n      secondary: '#ec407a',\n      disabled: '#FD1687',\n    },\n    divider: 'rgba(0, 0, 0, 0.42)',\n  },\n  typography: {\n    useNextVariants: true,\n    fontFamily: ['Fredoka One'],\n    fontSize: 17,\n    body1: {\n      fontSize: '1.4rem',\n    },\n    body2: {\n      fontWeight: 400,\n      fontSize: '0.8rem',\n    },\n  },\n});\n\nexport default {\n  fonts: ['Fredoka One'],\n  screenSizes: {\n    smallerScreenMin: '321px',\n    smallerScreenMax: '480px',\n    smallScreenMin: '481px',\n    smallScreenMax: '768px',\n    mediumScreenMin: '769px',\n    mediumScreenMax: '1024px',\n    largeScreenMin: '1025px',\n    largeScreenMax: '1440px',\n    extraLargeScreenMin: '1441px',\n  },\n  mui,\n  globalStyle: createGlobalStyle`\n    @import url('https://fonts.googleapis.com/css?family=Fredoka+One');\n  `,\n};\n","const themeColors = {\n  background: ({ theme = {} } = {}) => theme.mui.palette.background.default,\n  paperBackground: ({ theme = {} } = {}) => theme.mui.palette.background.paper,\n  border: ({ theme = {} } = {}) => theme.mui.palette.divider,\n  actionDisabled: ({ theme = {} } = {}) => theme.mui.palette.action.disabled,\n  textDisabled: ({ theme = {} } = {}) => theme.mui.palette.text.disabled,\n  foregroundOnBackground: ({ theme = {} } = {}) => theme.mui.palette.secondary.main,\n  foregroundOnPrimary: ({ theme = {} } = {}) => theme.mui.palette.primary.contrastText,\n  foregroundOnSecondary: ({ theme = {} } = {}) => theme.mui.palette.secondary.contrastText,\n  primary: ({ theme = {} } = {}) => theme.mui.palette.primary.main,\n  primaryDark: ({ theme = {} } = {}) => theme.mui.palette.primary.dark,\n  primaryLight: ({ theme = {} } = {}) => theme.mui.palette.primary.light,\n  secondary: ({ theme = {} } = {}) => theme.mui.palette.secondary.main,\n  secondaryDark: ({ theme = {} } = {}) => theme.mui.palette.secondary.dark,\n  secondaryLight: ({ theme = {} } = {}) => theme.mui.palette.secondary.light,\n  error: ({ theme = {} } = {}) => theme.mui.palette.error.main,\n  errorDark: ({ theme = {} } = {}) => theme.mui.palette.error.dark,\n  errorLight: ({ theme = {} } = {}) => theme.mui.palette.error.light,\n}\n\nexport default themeColors\n","const themeScreenSizes = {\n  smallerScreenMin: ({ theme = {} } = {}) => theme.screenSizes.smallerScreenMin,\n  smallerScreenMax: ({ theme = {} } = {}) => theme.screenSizes.smallerScreenMax,\n  smallScreenMin: ({ theme = {} } = {}) => theme.screenSizes.smallScreenMin,\n  smallScreenMax: ({ theme = {} } = {}) => theme.screenSizes.smallScreenMax,\n  mediumScreenMin: ({ theme = {} } = {}) => theme.screenSizes.mediumScreenMin,\n  mediumScreenMax: ({ theme = {} } = {}) => theme.screenSizes.mediumScreenMax,\n  largeScreenMin: ({ theme = {} } = {}) => theme.screenSizes.largeScreenMin,\n  largeScreenMax: ({ theme = {} } = {}) => theme.screenSizes.largeScreenMax,\n  extraLargeScreenMin: ({ theme = {} } = {}) => theme.screenSizes.extraLargeScreenMin,\n}\n\nexport default themeScreenSizes\n","import { get } from 'lodash'\n\nimport dark from './dark'\nimport girlish from './girlish'\nimport minimal from './minimal'\nimport themeColors from './colors'\nimport themeScreenSizes from './screenSizes'\n\nconst themeMui = (path) => ({ theme = {} } = {}) => get(theme.mui, path, null)\n\nexport { themeColors, themeScreenSizes, themeMui }\n\nexport default { minimal, girlish, dark }\n","import { createGlobalStyle } from 'styled-components';\nimport { createMuiTheme } from '@material-ui/core/styles';\n\nconst mui = createMuiTheme({\n  palette: {\n    primary: {\n      main: '#2b73bd',\n      light: '#558fca',\n      dark: '#1e5084',\n      contrastText: '#FFFFFF',\n    },\n    secondary: {\n      main: '#03a9f4',\n      light: '#35baf6',\n      dark: '#0276aa',\n      contrastText: '#CCCCCC',\n    },\n    background: {\n      default: '#f3f3f3',\n      paper: '#fff',\n    },\n    error: {\n      main: '#d9534f',\n    },\n  },\n  typography: {\n    useNextVariants: true,\n    fontFamily: ['Montserrat Alternates'],\n    fontSize: 16,\n    body1: {\n      fontSize: '1.2rem',\n    },\n    body2: {\n      fontWeight: 400,\n      fontSize: '0.75rem',\n    },\n  },\n  overrides: {},\n})\n\nexport default {\n  fonts: ['Montserrat Alternates'],\n  screenSizes: {\n    smallerScreenMin: '321px',\n    smallerScreenMax: '480px',\n    smallScreenMin: '481px',\n    smallScreenMax: '768px',\n    mediumScreenMin: '769px',\n    mediumScreenMax: '1024px',\n    largeScreenMin: '1025px',\n    largeScreenMax: '1440px',\n    extraLargeScreenMin: '1441px',\n  },\n  mui,\n  globalStyle: createGlobalStyle`\n    @import url('https://fonts.googleapis.com/css?family=Montserrat+Alternates:400,500,800&subset=latin-ext');\n  `,\n}\n","import styled from 'styled-components'\nimport { themeColors } from 'themes'\n\nconst Layout = styled.div`\n  background-color: ${themeColors.background};\n  color: ${themeColors.foregroundOnBackground};\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  height: auto;\n  min-height: 100vh;\n`\n\nexport default Layout\n","import { useTranslation } from 'react-i18next'\n\nconst Txt = ({ id }) => {\n  const [t] = useTranslation()\n\n  return t(id)\n}\n\nexport default Txt\n","import React from 'react'\nimport Button from '@material-ui/core/Button'\nimport Snackbar from '@material-ui/core/Snackbar'\nimport IconButton from '@material-ui/core/IconButton'\nimport CloseIcon from '@material-ui/icons/Close'\n\nimport Txt from 'common/Txt'\n\nconst CommonSnackbar = ({ onClose, ...props }) => (\n  <Snackbar\n    anchorOrigin={{\n      vertical: 'bottom',\n      horizontal: 'center',\n    }}\n    ContentProps={{\n      'aria-describedby': 'message-id',\n    }}\n    message={(\n      <span id=\"message-id\">\n        <Txt id=\"text.newVersion\" />\n      </span>\n    )}\n    action={[\n      <Button key=\"undo\" variant=\"outlined\" color=\"primary\" size=\"small\" onClick={onClose}>\n        <Txt id=\"button.update\" />\n      </Button>,\n      <IconButton\n        key=\"close\"\n        aria-label=\"close\"\n        color=\"primary\"\n        onClick={onClose}\n      >\n        <CloseIcon />\n      </IconButton>,\n    ]}\n    {...props}\n    onClose={onClose}\n  />\n)\n\nexport default CommonSnackbar\n","import React from 'react'\nimport Fab from '@material-ui/core/Fab'\nimport Icon from '@material-ui/core/Icon'\nimport Tooltip from '@material-ui/core/Tooltip'\nimport { makeStyles } from '@material-ui/styles'\n\nconst useStyles = makeStyles((theme) => ({\n  fab: {\n    position: 'absolute',\n    bottom: theme.spacing(2),\n    right: theme.spacing(2),\n  },\n}))\n\nconst StickyFabButton = ({ icon, tooltip, ...props }) => {\n  const { fab } = useStyles()\n  return (\n    <Tooltip title={tooltip}>\n      <Fab className={fab} {...props}>\n        <Icon>{icon}</Icon>\n      </Fab>\n    </Tooltip>\n  )\n}\n\nexport default StickyFabButton\n","import { createContext } from 'react';\n\nexport default createContext(null);\n","import React from 'react';\nimport styled from 'styled-components';\nimport Icon from '@material-ui/core/Icon';\nimport Typography from '@material-ui/core/Typography';\nimport { themeColors, themeScreenSizes, themeMui } from 'themes';\n\nconst FullViewportHeight = styled.div`\n  align-items: center;\n  background-color: ${themeColors.paperBackground};\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  max-height: 100vh;\n  justify-content: center;\n\n  > aside {\n    flex: 0 0 auto;\n    font-size: 60vw;\n\n    @media (min-width: ${themeScreenSizes.smallScreenMin}) {\n      font-size: 35vw;\n    }\n    @media (min-width: ${themeScreenSizes.mediumScreenMin}) {\n      font-size: 400px;\n    }\n  }\n  > div {\n    flex: 0 0 auto;\n    padding: ${themeMui('spacing.unit')}px;\n    text-align: center;\n  }\n`;\n\nconst WarnPlaceholder = ({ color = 'primary', icon, message }) => (\n  <FullViewportHeight>\n    <aside>\n      <Icon color={color} fontSize=\"inherit\">\n        {icon}\n      </Icon>\n    </aside>\n    <Typography color={color} component=\"div\" variant=\"body1\">\n      {message}\n    </Typography>\n  </FullViewportHeight>\n);\n\nexport default WarnPlaceholder;\n","import React from 'react'\nimport { useTranslation } from 'react-i18next'\nimport WarnPlaceholder from 'common/WarnPlaceholder'\n\nconst GameListEmpty = () => {\n  const [t] = useTranslation()\n  return <WarnPlaceholder icon=\"games\" message={t('text.noGames')} />\n}\n\nexport default GameListEmpty\n","import styled from 'styled-components'\n\nconst SlideItem = styled.ul`\n  display: grid;\n  grid-template: 1fr / 1fr;\n  position: relative;\n\n  & > * {\n    grid-area: 1 / 1 / 1 / 1;\n    transition: transform 250ms ease, visibility 0s ease 250ms, max-height 200ms linear;\n\n    &:first-child {\n      ${({ active }) => (active ? 'transform: translateX(-100%);visibility:hidden;max-height:0;' : 'transform: none;transition-delay: 0s;')}\n    }\n    &:last-child {\n      ${({ active = false }) => (active ? 'transform: none;transition-delay: 0s;' : 'transform: translateX(100%);visibility:hidden;max-height:0;')}\n    }\n  }\n`\n\nexport default SlideItem\n","import React, { Children } from 'react'\nimport SlideItem from 'common/SlideItem'\n\nconst SlideLongRippleSwitch = ({\n  children, active = 0,\n}) => {\n  const count = Children.count(children)\n  return (\n    <SlideItem active={active} count={count}>\n      {Children.map(children, (child) => (\n        <li key={child.key}>{child}</li>\n      ))}\n    </SlideItem>\n  )\n}\n\nexport default SlideLongRippleSwitch\n","import { useState, useEffect } from 'react'\nimport { noop } from 'lodash'\n\nconst useLongRipple = ({\n  onLongPress = noop,\n  onClick = noop,\n  rippleDelay = 800,\n}) => {\n  const [ripple, setRipple] = useState(null)\n  const handleTouchStart = () => setRipple(true)\n  const handleTouchEnd = (e) => {\n    e.preventDefault()\n    if (ripple) {\n      onClick(e)\n      setRipple(null)\n    } else if (ripple === false) {\n      setRipple(null)\n    }\n  }\n  useEffect(() => {\n    if (ripple) {\n      const timeout = setTimeout(() => {\n        setRipple(false)\n        onLongPress()\n      }, rippleDelay)\n      return () => clearTimeout(timeout)\n    }\n    return noop\n  }, [ripple, onLongPress, rippleDelay])\n  return {\n    onMouseDown: handleTouchStart,\n    onTouchStart: handleTouchStart,\n    onTouchEnd: handleTouchEnd,\n    onClick: handleTouchEnd,\n  }\n}\n\nexport default useLongRipple\n","import React from 'react'\nimport styled from 'styled-components'\n\nconst StyledCommaListItem = styled.span`\n  &:after {\n    content: ', ';\n  }\n  &:last-child:after {\n    content: none;\n  }\n`\n\nconst CommaList = ({ items, attribute = 'name', keyedBy = 'id' }) => items.map((item) => (\n  <StyledCommaListItem key={item[keyedBy]}>\n    {item[attribute]}\n  </StyledCommaListItem>\n))\n\nexport default CommaList\n","import React from 'react'\nimport Button from '@material-ui/core/Button'\nimport Icon from '@material-ui/core/Icon'\nimport { makeStyles } from '@material-ui/styles'\n\nconst useStyles = makeStyles({\n  startIcon: {\n    marginLeft: '0',\n    marginRight: '0',\n  },\n})\n\nconst ButtonExtended = ({\n  label, hideLabel = false, icon, color = 'primary', size = 'small', ...props\n}) => {\n  const { startIcon } = useStyles()\n  return (\n    <Button\n      variant=\"outlined\"\n      classes={hideLabel ? { startIcon } : undefined}\n      startIcon={typeof icon === 'string' ? <Icon className=\"icon\">{icon}</Icon> : icon}\n      aria-label={label}\n      color={color}\n      size={size}\n      {...props}\n    >\n      {!hideLabel && <span className=\"label\">{label}</span>}\n    </Button>\n  )\n}\n\nexport default ButtonExtended\n","import styled from 'styled-components'\n\nconst StyledNameForm = styled.div`\n  display: grid;\n  gap: 10px;\n  padding: 10px;\n\n  > .field {\n    display: grid;\n    gap: 10px;\n    grid-template-columns: 1fr auto;\n  }\n  > .buttons {\n    display: grid;\n    gap: 10px;\n    grid-auto-flow: column;\n    justify-content: start;\n  }\n`\n\nexport default StyledNameForm\n","import { isFunction, isNil, noop } from 'lodash';\n\nexport const TARGET_NAME = Symbol('TARGET_NAME');\n\nexport const onEnter = (cb, next = noop) => (event) => {\n  if (event.keyCode === 13) {\n    event.preventDefault();\n    cb();\n  }\n  next(event);\n};\n\nexport const onChange = (cb, prop = null, next = noop) => (event) => {\n  event.preventDefault();\n  const { name, value } = event.target;\n  if (isNil(prop) || isFunction(prop)) {\n    cb(value);\n  } else {\n    cb(prop === TARGET_NAME ? { [name]: value } : { [prop]: value });\n  }\n\n  if (isFunction(prop)) {\n    prop(event);\n  } else {\n    next(event);\n  }\n};\n\nconst handlers = {\n  onEnter,\n};\n\nexport default handlers;\n","import React from 'react'\nimport { noop } from 'lodash'\nimport TextField from '@material-ui/core/TextField'\n\nimport { onChange, onEnter } from 'utils/handlers'\n\nconst NameField = ({\n  onChange: handleChange,\n  onEnter: handleEnter,\n  validation = {},\n  ...props\n}) => {\n  const { errors = {}, touched = false, reset = noop } = validation\n\n  return (\n    <TextField\n      error={touched && !!errors.name}\n      fullWidth\n      helperText={touched && errors.name}\n      onChange={onChange(handleChange, reset)}\n      onKeyDown={onEnter(handleEnter)}\n      {...props}\n    />\n  )\n}\n\nexport default NameField\n","import styled from 'styled-components'\n\nconst ModalActions = styled.div`\n  padding: 2.5rem 0 0;\n  display: grid;\n  gap: 10px;\n  grid-auto-flow: column;\n  justify-content: end;\n`\n\nexport default ModalActions\n","import styled from 'styled-components'\nimport { themeColors, themeScreenSizes } from 'themes'\n\nconst ModalContent = styled.div`\n  background-color: ${themeColors.paperBackground};\n  box-shadow: ${({ theme = {} } = {}) => theme.mui.shadows[5]};\n  left: 50%;\n  padding: 1.5rem;\n  position: absolute;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  width: 80vw;\n\n  @media (min-width: ${themeScreenSizes.smallScreenMin}) {\n    width: auto;\n    max-width: 65vw;\n  }\n  @media (min-width: ${themeScreenSizes.mediumScreenMin}) {\n    max-width: ${(props) => props.maxWidth || '400px'};\n  }\n`\n\nexport default ModalContent\n","import React, { useState } from 'react'\nimport Button from '@material-ui/core/Button'\nimport IconButton from '@material-ui/core/IconButton'\nimport Icon from '@material-ui/core/Icon'\nimport Modal from '@material-ui/core/Modal'\nimport Typography from '@material-ui/core/Typography'\n\nimport ButtonExtended from '../button/Extended'\nimport ModalActions from './Actions'\nimport ModalContent from './Content'\n\nconst ModalConfirm = ({\n  children,\n  cancelText,\n  confirmText,\n  buttonText = confirmText,\n  title,\n  subtitle,\n  icon = 'delete_outline',\n  fab = false,\n  onConfirm,\n  ...props\n}) => {\n  const [open, setOpen] = useState(false)\n  const toggleOpen = () => setOpen(!open)\n  const handleClose = () => setOpen(false)\n  return (\n    <>\n      {fab ? (\n        <ButtonExtended {...props} icon={icon} label={buttonText} onClick={toggleOpen} />\n      ) : (\n        <IconButton\n          {...props}\n          aria-label={buttonText}\n          aria-owns={open ? 'confirm-dialog' : undefined}\n          aria-haspopup=\"true\"\n          onClick={toggleOpen}\n        >\n          <Icon>{icon}</Icon>\n        </IconButton>\n      )}\n      <Modal\n        id=\"confirm-dialog\"\n        aria-labelledby=\"confirm-title\"\n        aria-describedby=\"confirm-description\"\n        open={open}\n        onClose={toggleOpen}\n      >\n        <ModalContent>\n          <Typography variant=\"h6\" id=\"confirm-title\">\n            {title}\n          </Typography>\n          <Typography variant=\"subtitle1\" id=\"confirm-description\">\n            {subtitle}\n          </Typography>\n          {children}\n          <ModalActions>\n            {cancelText && <Button variant=\"contained\" onClick={toggleOpen}>{cancelText}</Button>}\n            <Button variant=\"contained\" color=\"primary\" autoFocus onClick={onConfirm || handleClose}>\n              {confirmText}\n            </Button>\n          </ModalActions>\n        </ModalContent>\n      </Modal>\n    </>\n  )\n}\n\nexport default ModalConfirm\n","import React, { useContext } from 'react'\nimport { noop } from 'lodash'\nimport { useTranslation } from 'react-i18next'\n\nimport ModalConfirm from 'common/modal/Confirm'\n\nimport GameStoreContext from 'components/game/context/Store'\nimport { removeGame } from '../actionCreators'\n\nconst GameActionRemove = ({ id, onSuccess = noop }) => {\n  const [, dispatch] = useContext(GameStoreContext)\n  const [t] = useTranslation()\n  const handleRemove = () => {\n    dispatch(removeGame(id))\n    onSuccess()\n  }\n  return (\n    <ModalConfirm\n      cancelText={t('button.cancel')}\n      confirmText={t('button.remove')}\n      title={t('title.removeGame')}\n      subtitle={t('messages.confirmRemoveGame')}\n      hideLabel\n      fab\n      color=\"primary\"\n      size=\"small\"\n      onConfirm={handleRemove}\n    />\n  )\n}\n\nexport default GameActionRemove\n","export const createState = (state) => ({\n  type: '-- --',\n  ...state,\n})\n\nexport const createGame = (key, name) => ({\n  type: 'G+',\n  key,\n  name,\n})\n\nexport const importGame = (key, game) => ({\n  type: 'G++',\n  key,\n  game,\n})\n\nexport const removeGame = (key) => ({\n  type: 'G-',\n  key,\n})\n\nexport const renameGame = (key, name) => ({\n  type: 'G=',\n  key,\n  name,\n})\n\nexport const endRound = (key, round) => ({\n  type: 'G$',\n  key,\n  round,\n})\n\nexport const addRound = (key, round) => ({\n  type: 'R+',\n  key,\n  round,\n})\n","import React, { forwardRef } from 'react'\nimport Slide from '@material-ui/core/Slide'\n\nconst SlideUp = (props, ref) => <Slide ref={ref} direction=\"up\" {...props} />\n\nexport default forwardRef(SlideUp)\n","import React, { forwardRef } from 'react'\nimport IconButton from '@material-ui/core/IconButton'\nimport Icon from '@material-ui/core/Icon'\nimport Typography from '@material-ui/core/Typography'\nimport styled from 'styled-components'\n\nimport { themeColors } from 'themes'\n\nconst StyledWrapper = styled.h4`\n  border-bottom: 1px solid ${themeColors.border};\n`\n\nconst StyledContainer = styled.div`\n  align-items: center;\n  display: flex;\n  justify-content: flex-start;\n`\n\nconst StyledText = styled(Typography).attrs({\n  component: 'h4',\n  variant: 'overline',\n})`\n  && {\n    margin-left: 0.75rem;\n  }\n`\n\nconst DialogTitle = ({ children, onClose, ...props }, ref) => (\n  <StyledWrapper ref={ref} {...props}>\n    <StyledContainer>\n      <IconButton color=\"primary\" onClick={onClose}>\n        <Icon>close</Icon>\n      </IconButton>\n      <StyledText>{children}</StyledText>\n    </StyledContainer>\n  </StyledWrapper>\n)\n\nexport default forwardRef(DialogTitle)\n","import styled from 'styled-components';\nimport Typography from '@material-ui/core/Typography';\n\nconst DialogHeadline = styled(Typography).attrs({\n  variant: 'body2',\n  gutterBottom: true,\n})`\n  padding: 1rem 0 0.5rem;\n`;\n\nexport default DialogHeadline;\n","import React, {\n  useCallback, useContext, useEffect, useMemo, useState,\n} from 'react'\nimport { useTranslation } from 'react-i18next'\nimport QRCode from 'qrcode'\nimport Button from '@material-ui/core/Button'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport useMediaQuery from '@material-ui/core/useMediaQuery'\n\nimport SlideUp from 'common/SlideUp'\nimport ButtonExtended from 'common/button/Extended'\nimport DialogTitle from 'common/dialog/Title'\nimport DialogHeadline from 'common/dialog/Headline'\nimport GameStoreContext from 'components/game/context/Store'\n\nconst GameActionShare = ({ id, onClose }) => {\n  const [games] = useContext(GameStoreContext)\n  const [dataUrl, setDataUrl] = useState()\n  const [open, setOpen] = useState(false)\n  const [t] = useTranslation()\n  const matchesLarge = useMediaQuery('(min-width: 481px)')\n  const toggleOpen = () => setOpen(!open)\n  const handleClose = () => {\n    setOpen(false)\n    onClose()\n  }\n\n  const handleGenerate = useCallback(async (code) => {\n    setDataUrl(await QRCode.toDataURL(document.getElementById('qrcode'), code, { width: 290 }))\n  }, [])\n\n  useEffect(() => {\n    const game = games[id]\n    if (game) {\n      handleGenerate(JSON.stringify({ id, ...game }))\n    }\n  }, [id, games, handleGenerate])\n  return (\n    <>\n      <ButtonExtended icon=\"mobile_screen_share\" label={t('button.share')} onClick={toggleOpen} />\n      <Dialog\n        fullScreen\n        id=\"game-share-dialog\"\n        aria-labelledby=\"game-share-dialog-title\"\n        open={open}\n        TransitionComponent={SlideUp}\n        onClose={toggleOpen}\n      >\n        <DialogTitle id=\"game-share-dialog-title\" onClose={toggleOpen}>\n          {t('title.shareGame')}\n        </DialogTitle>\n        <DialogContent>\n          <DialogHeadline>{t('messages.confirmShareGame')}</DialogHeadline>\n          {useMemo(\n            () => (\n              <div style={matchesLarge ? {} : { textAlign: 'center' }}>{dataUrl && <img src={dataUrl} alt=\"qr code\" />}</div>\n            ),\n            [dataUrl, matchesLarge],\n          )}\n          <DialogHeadline>\n            {t('messages.confirmShareGame_step1')}\n            <br />\n            {t('messages.confirmShareGame_step2')}\n            <br />\n            {t('messages.confirmShareGame_step3')}\n            <br />\n            {t('messages.confirmShareGame_step4')}\n          </DialogHeadline>\n        </DialogContent>\n        <DialogActions>\n          <Button variant=\"contained\" color=\"primary\" autoFocus onClick={handleClose}>\n            {t('button.ok')}\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </>\n  )\n}\n\nexport default GameActionShare\n","import { useEffect, useState } from 'react';\nimport {\n  every, find, get, isEmpty, isString, mapValues,\n} from 'lodash';\n\nconst required = ({ value }) => !isEmpty(value);\nconst gt = (context) => ({ value }) => value > context;\nconst allOf = (context) => ({ value, model }) => context.every((validator) => validator({ value, model }));\nconst someOf = (context) => ({ value, model }) => context.some((validator) => validator({ value, model }));\n\nexport const validators = {\n  allOf,\n  gt,\n  required,\n  someOf,\n};\n\nexport const useValidation = (model, schema, messages, inputs = []) => {\n  const [errors, setErrors] = useState({});\n  const [touched, setTouched] = useState(false);\n  useEffect(() => {\n    setErrors(\n      mapValues(schema, (rules, key) => {\n        const modelErrors = mapValues(rules, (rule, ruleName) => (rule({ model, value: model[key] })\n          ? null\n          : get(messages, `${key}.${ruleName}`, null)));\n        return find(modelErrors, isString) || null;\n      }),\n    );\n  }, [model, schema, messages, inputs]);\n\n  const valid = every(errors, isEmpty);\n\n  return {\n    errors,\n    touch: () => setTouched(true),\n    reset: () => setTouched(false),\n    touched,\n    valid,\n  };\n};\n\nexport default useValidation;\n","import { useTranslation } from 'react-i18next'\nimport { useValidation, validators } from 'utils/validation'\n\nconst { required } = validators\n\nconst useGameValidation = ({ name }) => {\n  const [t] = useTranslation()\n  const schema = {\n    name: { required },\n  }\n  const messages = {\n    name: {\n      required: t('errors.requiredGameName'),\n    },\n  }\n  return useValidation({ name }, schema, messages, [t])\n}\n\nexport default useGameValidation\n","import React, { useContext } from 'react'\nimport { useTranslation } from 'react-i18next'\nimport { noop } from 'lodash'\nimport Fab from '@material-ui/core/Fab'\nimport Icon from '@material-ui/core/Icon'\n\nimport ButtonExtended from 'common/button/Extended'\nimport StyledNameForm from 'common/styled/NameForm'\nimport NameField from 'common/NameField'\nimport GameStoreContext from 'components/game/context/Store'\n\nimport GameActionRemove from '../action/Remove'\nimport GameActionShare from '../action/Share'\nimport { renameGame } from '../actionCreators'\n\nimport useGameValidation from './useValidation'\n\nconst GameFormUpdate = ({\n  id,\n  name,\n  onChange = noop,\n  onSuccess = noop,\n  onClose = noop,\n}) => {\n  const [, dispatch] = useContext(GameStoreContext)\n  const [t] = useTranslation()\n  const validation = useGameValidation({ name })\n  const { touch, valid, reset } = validation\n  const handleRename = () => {\n    touch()\n    if (valid) {\n      reset()\n      dispatch(renameGame(id, name))\n      onSuccess()\n    }\n  }\n\n  return (\n    <StyledNameForm component=\"div\">\n      <div className=\"field\">\n        <NameField\n          label={t('placeholder.gameName')}\n          onChange={onChange}\n          onEnter={handleRename}\n          validation={validation}\n          value={name}\n        />\n        <Fab color=\"primary\" size=\"small\" aria-label={t('button.rename')} onClick={handleRename}>\n          <Icon>check</Icon>\n        </Fab>\n      </div>\n      <div className=\"buttons\">\n        <ButtonExtended icon=\"cancel\" label={t('button.cancel')} onClick={onClose} />\n        <GameActionShare id={id} onClose={onClose} />\n        <GameActionRemove id={id} />\n      </div>\n    </StyledNameForm>\n  )\n}\n\nexport default GameFormUpdate\n","import React, { useState } from 'react'\nimport { useTranslation } from 'react-i18next'\nimport ListItem from '@material-ui/core/ListItem'\nimport Typography from '@material-ui/core/Typography'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport SlideLongRippleSwitch from 'common/SlideLongRippleSwitch'\nimport useLongRipple from 'common/useLongRipple'\nimport CommaList from 'common/CommaList'\n\nimport GameFormUpdate from '../form/Update'\n\nconst GameListItem = ({\n  onClick, id, name, teams,\n}) => {\n  const [newName, setNewName] = useState(null)\n  const [t] = useTranslation()\n  const handleEditMode = () => setNewName(name)\n  const handleViewMode = () => setNewName(null)\n  const handleClick = () => onClick(id)\n  const createdAt = new Date(parseInt(id, 36))\n  const rippleProps = useLongRipple({ onLongPress: handleEditMode, onClick: handleClick })\n\n  return (\n    <SlideLongRippleSwitch active={newName === null ? 1 : 0}>\n      <GameFormUpdate\n        id={id}\n        name={newName || ''}\n        onChange={setNewName}\n        onClose={handleViewMode}\n        onSuccess={handleViewMode}\n      />\n      <ListItem button {...rippleProps}>\n        <ListItemText\n          disableTypography\n          secondary={(\n            <>\n              <Typography variant=\"body2\">\n                {t('messages.createdAt', { date: createdAt.toDateString() })}\n              </Typography>\n              {teams.length > 0 && (\n                <Typography variant=\"overline\">\n                  <CommaList items={teams} keyedBy=\"name\" attribute=\"name\" />\n                </Typography>\n              )}\n            </>\n          )}\n        >\n          <Typography variant=\"body1\">{name}</Typography>\n        </ListItemText>\n      </ListItem>\n    </SlideLongRippleSwitch>\n  )\n}\n\nexport default GameListItem\n","import React, { useContext } from 'react'\nimport { isEmpty, map } from 'lodash'\nimport List from '@material-ui/core/List'\n\nimport GameStoreContext from 'components/game/context/Store'\nimport GameListEmpty from './Empty'\nimport GameListItem from './Item'\n\nconst GameList = ({ onItemClick }) => {\n  const [games] = useContext(GameStoreContext)\n  return isEmpty(games) ? (\n    <GameListEmpty />\n  ) : (\n    <List component=\"div\">\n      {map(games, (game, key) => (\n        <GameListItem key={key} id={key} onClick={onItemClick} {...game} />\n      ))}\n    </List>\n  )\n}\n\nexport default GameList\n","import { memo } from 'react'\n\nconst PageViewTracker = memo(({ uri }) => {\n  if (window.ga) {\n    window.ga('send', 'pageview', uri)\n  }\n  return null\n})\n\nexport default PageViewTracker\n","import React from 'react'\nimport { useTranslation } from 'react-i18next'\nimport StickyFabButton from 'common/StickyFabButton'\n\nimport GameList from './game/list/List'\nimport PageViewTracker from './PageViewTracker'\n\nconst Landing = ({ navigate, uri }) => {\n  const [t] = useTranslation()\n  const goToGame = (id) => navigate(`games/${id}`)\n  const goToCreateGame = () => navigate('game')\n\n  return (\n    <>\n      <GameList onItemClick={goToGame} />\n      <StickyFabButton\n        tooltip={t('button.createGame')}\n        color=\"primary\"\n        aria-haspopup=\"true\"\n        aria-label={t('button.createGame')}\n        icon=\"add\"\n        onClick={goToCreateGame}\n      />\n      <PageViewTracker uri={uri} />\n    </>\n  )\n}\n\nexport default Landing\n","import React from 'react'\nimport { useTranslation } from 'react-i18next'\nimport WarnPlaceholder from 'common/WarnPlaceholder'\n\nconst GameGuard = ({ children, game, fallback }) => {\n  const [t] = useTranslation()\n\n  if (game) {\n    return children\n  }\n\n  return fallback === undefined ? (\n    <WarnPlaceholder icon=\"warning\" message={t('text.gameNotFound')} />\n  ) : (\n    fallback\n  )\n}\n\nexport default GameGuard\n","import { useContext, useMemo } from 'react';\nimport { find } from 'lodash';\n\nimport GameStoreContext from 'components/game/context/Store';\n\nconst useGame = ({ gameKey }) => {\n  const [games] = useContext(GameStoreContext);\n  return useMemo(() => find(games, (_, key) => gameKey === key), [\n    games,\n    gameKey,\n  ]);\n};\n\nexport default useGame;\n","import { createContext } from 'react';\n\nconst GameUsedContext = createContext(null);\n\nexport default GameUsedContext;\n","import React from 'react'\nimport { useTranslation } from 'react-i18next'\nimport WarnPlaceholder from 'common/WarnPlaceholder'\n\nconst TeamListEmpty = () => {\n  const [t] = useTranslation()\n  return <WarnPlaceholder icon=\"people\" message={t('text.noTeams')} />\n}\n\nexport default TeamListEmpty\n","import React from 'react'\n\nconst Flex = ({\n  component: Cmp = 'div',\n  display,\n  basis,\n  direction,\n  flex,\n  items,\n  justify,\n  wrap,\n  children,\n  shrink,\n  grow,\n  ...props\n}) => {\n  const style = Object.assign(\n    display ? { display: 'flex' } : {},\n    flex ? { flex } : {},\n    direction ? { flexDirection: direction } : {},\n    basis ? { flexBasis: basis } : {},\n    items ? { alignItems: items } : {},\n    justify ? { justifyContent: justify } : {},\n    wrap ? { flexWrap: wrap } : {},\n    shrink ? { flexWrap: shrink } : {},\n    grow ? { flexWrap: grow } : {},\n  )\n  return (\n    <Cmp style={style} {...props}>\n      {children}\n    </Cmp>\n  )\n}\n\nexport default Flex\n","export const flexRow = {\n  display: 'flex',\n  flexDirection: 'row',\n};\n\nexport const flexCenterBetween = {\n  ...flexRow,\n  alignItems: 'center',\n  justifyContent: 'space-between',\n};\n\nexport const flexCenterEnd = {\n  ...flexRow,\n  alignItems: 'center',\n  justifyContent: 'flex-end',\n};\n\nexport const flexCenterStart = {\n  ...flexRow,\n  alignItems: 'center',\n  justifyContent: 'flex-start',\n};\n\nexport const flexCenterWrap = {\n  ...flexRow,\n  flexWrap: 'wrap',\n  alignItems: 'center',\n  justifyContent: 'center',\n};\n\nconst flexStyles = {\n  flexCenterBetween,\n  flexCenterStart,\n  flexCenterWrap,\n};\n\nexport default flexStyles;\n","import React, { useContext } from 'react'\nimport { noop } from 'lodash'\nimport { useTranslation } from 'react-i18next'\n\nimport ModalConfirm from 'common/modal/Confirm'\nimport GameStoreContext from 'components/game/context/Store'\nimport GameUsedContext from 'components/game/context/Used'\nimport { removeTeam } from '../actionCreators'\n\nconst TeamActionRemove = ({ index, name, onSuccess = noop }) => {\n  const [, dispatch] = useContext(GameStoreContext)\n  const [gameKey] = useContext(GameUsedContext)\n  const [t] = useTranslation()\n  const handleRemove = () => {\n    dispatch(removeTeam(gameKey, index))\n    onSuccess()\n  }\n  return (\n    <ModalConfirm\n      cancelText={t('button.cancel')}\n      confirmText={t('button.remove')}\n      title={t('title.removeTeam')}\n      subtitle={t('messages.confirmRemoveTeam', { teamName: name })}\n      fab\n      color=\"primary\"\n      size=\"small\"\n      onConfirm={handleRemove}\n    />\n  )\n}\n\nexport default TeamActionRemove\n","export const createTeam = (key, round, name) => ({\n  type: 'T+',\n  key,\n  round,\n  name,\n});\n\nexport const removeTeam = (key, index) => ({\n  type: 'T-',\n  key,\n  index,\n});\n\nexport const renameTeam = (key, index, name) => ({\n  type: 'T=',\n  key,\n  index,\n  name,\n});\n","import { useTranslation } from 'react-i18next';\nimport { useValidation, validators } from 'utils/validation';\n\nconst { required } = validators;\n\nconst useTeamValidation = ({ name }) => {\n  const [t] = useTranslation();\n  const schema = {\n    name: { required },\n  };\n  const messages = {\n    name: {\n      required: t('errors.requiredTeamName'),\n    },\n  };\n  return useValidation({ name }, schema, messages, [t]);\n};\n\nexport default useTeamValidation;\n","import React, { useContext } from 'react'\nimport { useTranslation } from 'react-i18next'\nimport { noop } from 'lodash'\nimport Fab from '@material-ui/core/Fab'\nimport Icon from '@material-ui/core/Icon'\n\nimport ButtonExtended from 'common/button/Extended'\nimport StyledNameForm from 'common/styled/NameForm'\nimport NameField from 'common/NameField'\nimport GameStoreContext from 'components/game/context/Store'\nimport GameUsedContext from 'components/game/context/Used'\nimport TeamActionRemove from '../action/Remove'\nimport { renameTeam } from '../actionCreators'\n\nimport useGameValidation from './useValidation'\n\nconst GameFormUpdate = ({\n  index,\n  name,\n  onChange = noop,\n  onSuccess = noop,\n  onClose = noop,\n}) => {\n  const [, dispatch] = useContext(GameStoreContext)\n  const [gameKey] = useContext(GameUsedContext)\n  const [t] = useTranslation()\n  const validation = useGameValidation({ name })\n  const { touch, valid, reset } = validation\n  const handleRename = () => {\n    touch()\n    if (valid) {\n      reset()\n      dispatch(renameTeam(gameKey, index, name))\n      onSuccess()\n    }\n  }\n\n  return (\n    <StyledNameForm>\n      <div className=\"field\">\n        <NameField\n          label={t('placeholder.teamName')}\n          onChange={onChange}\n          onEnter={handleRename}\n          validation={validation}\n          value={name}\n        />\n        <Fab color=\"primary\" size=\"small\" aria-label={t('button.rename')} onClick={handleRename}>\n          <Icon>check</Icon>\n        </Fab>\n      </div>\n      <div className=\"buttons\">\n        <ButtonExtended icon=\"cancel\" label={t('button.cancel')} onClick={onClose} />\n        <TeamActionRemove name={name} index={index} />\n      </div>\n    </StyledNameForm>\n  )\n}\n\nexport default GameFormUpdate\n","import React, { useCallback } from 'react'\nimport styled from 'styled-components'\nimport IconButton from '@material-ui/core/IconButton'\nimport Icon from '@material-ui/core/Icon'\n\nimport Flex from 'common/Flex'\n\nconst StyledIcon = styled(Icon)`\n  && {\n    font-size: 0.75rem;\n  }\n`\n\nconst StyledButton = styled(IconButton).attrs({\n  variant: 'text',\n  color: 'primary',\n})`\n  && {\n    padding: 0.5rem;\n  }\n`\n\nconst TeamChampionship = ({ championship, onClick }) => {\n  const handleClick = useCallback(() => onClick(championship), [\n    championship,\n    onClick,\n  ])\n  return (\n    <Flex flex=\"0 1 auto\">\n      <StyledButton onClick={handleClick} onTouchEnd={handleClick}>\n        <StyledIcon>star</StyledIcon>\n      </StyledButton>\n    </Flex>\n  )\n}\n\nexport default TeamChampionship\n","import React, { useState } from 'react'\nimport ListItem from '@material-ui/core/ListItem'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport Typography from '@material-ui/core/Typography'\nimport SlideLongRippleSwitch from 'common/SlideLongRippleSwitch'\nimport useLongRipple from 'common/useLongRipple'\nimport Flex from 'common/Flex'\nimport { flexCenterBetween } from 'utils/flexStyles'\n\nimport TeamFormUpdate from '../form/Update'\nimport TeamChampionship from '../Championship'\n\nconst TeamListItem = ({\n  index,\n  name,\n  championships = [],\n  rounds,\n  round,\n  onClickChampionship,\n}) => {\n  const [newName, setNewName] = useState(null)\n  const handleEditMode = () => setNewName(name)\n  const handleViewMode = () => setNewName(null)\n  const rippleProps = useLongRipple({ onLongPress: handleEditMode })\n\n  return (\n    <SlideLongRippleSwitch active={newName === null ? 1 : 0}>\n      <TeamFormUpdate\n        index={index}\n        name={newName || ''}\n        onChange={setNewName}\n        onClose={handleViewMode}\n        onSuccess={handleViewMode}\n      />\n      <ListItem button {...rippleProps}>\n        <ListItemText disableTypography style={flexCenterBetween}>\n          <div>\n            <Typography variant=\"body1\">{name}</Typography>\n            <Flex display>\n              {championships.map((championship) => (\n                <TeamChampionship\n                  key={championship}\n                  championship={championship}\n                  onClick={onClickChampionship}\n                />\n              ))}\n            </Flex>\n          </div>\n          {round && (\n            <Typography variant=\"overline\">\n              {rounds[round].reduce((sum, value) => value + sum, 0)}\n            </Typography>\n          )}\n        </ListItemText>\n      </ListItem>\n    </SlideLongRippleSwitch>\n  )\n}\n\nexport default TeamListItem\n","import React, { useContext } from 'react'\nimport { isEmpty, noop } from 'lodash'\nimport List from '@material-ui/core/List'\n\nimport GameUsedContext from 'components/game/context/Used'\nimport TeamListEmpty from './Empty'\nimport TeamListItem from './Item'\n\nconst TeamList = ({ onClickChampionship = noop }) => {\n  const [, game] = useContext(GameUsedContext)\n\n  if (!game) {\n    return null\n  }\n  const { teams = [], round } = game\n\n  return isEmpty(teams) ? (\n    <TeamListEmpty />\n  ) : (\n    <List component=\"div\">\n      {teams.map((team, index) => (\n        <TeamListItem\n          key={team.name}\n          index={index}\n          onClickChampionship={onClickChampionship}\n          round={round}\n          {...team}\n        />\n      ))}\n    </List>\n  )\n}\n\nexport default TeamList\n","import React, { useContext } from 'react'\nimport { noop } from 'lodash'\nimport { useTranslation } from 'react-i18next'\n\nimport StickyFabButton from 'common/StickyFabButton'\nimport GameStoreContext from 'components/game/context/Store'\nimport { addRound } from '../actionCreators'\n\nconst GameActionStart = ({ gameKey, game, onStart = noop }) => {\n  const [t] = useTranslation()\n  const [, dispatch] = useContext(GameStoreContext)\n  const handleStart = () => {\n    const { round } = game\n    if (round === null) {\n      const newRound = Date.now().toString(36)\n      dispatch(addRound(gameKey, newRound))\n      onStart(newRound)\n    } else {\n      onStart(round)\n    }\n  }\n\n  return (\n    game\n    && game.teams.length > 1 && (\n      <StickyFabButton\n        tooltip={t('button.startGame')}\n        color=\"primary\"\n        icon=\"play_arrow\"\n        aria-label={t('button.startGame')}\n        onClick={handleStart}\n      />\n    )\n  )\n}\n\nexport default GameActionStart\n","import React from 'react'\n\nimport GameGuard from './game/Guard'\nimport useGame from './game/useGame'\nimport TeamList from './game/team/list/List'\nimport GameActionStart from './game/action/Start'\nimport GameUsedContext from './game/context/Used'\nimport PageViewTracker from './PageViewTracker'\n\nconst Game = ({ gameKey, uri, navigate }) => {\n  const game = useGame({ gameKey })\n  const goToRound = (round) => navigate(`rounds/${round}`)\n  return (\n    <GameUsedContext.Provider value={[gameKey, game]}>\n      <GameGuard game={game}>\n        <TeamList onClickChampionship={goToRound} />\n        <GameActionStart gameKey={gameKey} game={game} onStart={goToRound} />\n      </GameGuard>\n      <PageViewTracker uri={uri} />\n    </GameUsedContext.Provider>\n  )\n}\n\nexport default Game\n","import useGame from 'components/game/useGame';\n\nconst RoundGuard = ({\n  children, gameKey, round, fallback = null,\n}) => {\n  const { teams } = useGame({ gameKey });\n\n  return teams.some(team => Object.keys(team.rounds).includes(round))\n    ? children\n    : fallback;\n};\n\nexport default RoundGuard;\n","import styled from 'styled-components';\n\nconst ButtonsWrapper = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  padding: 0.5rem 1rem;\n\n  > button {\n    flex: 1 1 100%;\n    margin: 0.25rem 0;\n  }\n`;\n\nexport default ButtonsWrapper;\n","import { createContext } from 'react';\n\nexport default createContext([]);\n","import styled from 'styled-components';\nimport MuiCardHeader from '@material-ui/core/CardHeader';\n\nconst CardHeader = styled(MuiCardHeader)`\n  padding: 0.5rem;\n\n  span {\n    font-size: 11px;\n  }\n`;\n\nexport default CardHeader;\n","import styled from 'styled-components'\nimport Typography from '@material-ui/core/Typography'\n\nconst StyledScore = styled(Typography).attrs({\n  align: 'center',\n  component: 'div',\n})`\n  width: 100%;\n`\n\nexport default StyledScore\n","import React, { useContext } from 'react'\nimport styled from 'styled-components'\nimport { noop } from 'lodash'\nimport { useTranslation } from 'react-i18next'\nimport IconButton from '@material-ui/core/IconButton'\nimport Icon from '@material-ui/core/Icon'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport Typography from '@material-ui/core/Typography'\n\nimport ModalConfirm from 'common/modal/Confirm'\nimport GameStoreContext from 'components/game/context/Store'\nimport GameUsedContext from 'components/game/context/Used'\nimport { removeScore } from '../actionCreators'\n\nconst StyledListItemText = styled(ListItemText)`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0;\n`\n\nconst RoundScoreRemove = ({\n  score,\n  index,\n  scoreIndex,\n  onSuccess = noop,\n  onClose = noop,\n}) => {\n  const [, dispatch] = useContext(GameStoreContext)\n  const [t] = useTranslation()\n  const [gameKey, , round] = useContext(GameUsedContext)\n  const handleRemove = () => {\n    dispatch(removeScore(gameKey, round, index, scoreIndex))\n    onSuccess()\n  }\n  return (\n    <StyledListItemText component=\"div\" disableTypography>\n      <ModalConfirm\n        color=\"primary\"\n        cancelText={t('button.cancel')}\n        confirmText={t('button.remove')}\n        title={t('title.removeScore')}\n        subtitle={t('messages.confirmRemoveScore')}\n        onConfirm={handleRemove}\n      />\n      <Typography align=\"center\" variant=\"body2\">\n        {score}\n      </Typography>\n      <IconButton color=\"primary\" aria-label={t('button.cancel')} onClick={onClose}>\n        <Icon>check</Icon>\n      </IconButton>\n    </StyledListItemText>\n  )\n}\n\nexport default RoundScoreRemove\n","export const addScores = (key, round, scores) => ({\n  type: 'S++',\n  key,\n  round,\n  scores,\n});\n\nexport const removeScore = (key, round, index, scoreIndex) => ({\n  type: 'S-',\n  key,\n  round,\n  index,\n  scoreIndex,\n});\n","import React, { useState } from 'react'\nimport ListItem from '@material-ui/core/ListItem'\n\nimport SlideLongRippleSwitch from 'common/SlideLongRippleSwitch'\nimport StyledScore from 'common/StyledScore'\nimport useLongRipple from 'common/useLongRipple'\nimport RoundScoreRemove from './form/ScoreRemove'\n\nconst GameRoundScore = ({ index, score, scoreIndex }) => {\n  const [canClose, setCanClose] = useState(false)\n  const handleEditMode = () => setCanClose(true)\n  const handleViewMode = () => setCanClose(false)\n  const rippleProps = useLongRipple({ onLongPress: handleEditMode })\n\n  return (\n    <SlideLongRippleSwitch active={canClose ? 0 : 1}>\n      <RoundScoreRemove\n        onClose={handleViewMode}\n        onSuccess={handleViewMode}\n        scoreIndex={scoreIndex}\n        score={score}\n        index={index}\n      />\n      <ListItem button dense {...rippleProps}>\n        <StyledScore variant=\"body2\">{score}</StyledScore>\n      </ListItem>\n    </SlideLongRippleSwitch>\n  )\n}\n\nexport default GameRoundScore\n","import React from 'react'\nimport styled from 'styled-components'\nimport ListItem from '@material-ui/core/ListItem'\nimport StyledScore from 'common/StyledScore'\nimport { themeColors } from 'themes'\n\nconst StyledListItem = styled(ListItem)`\n  border-top: 1px solid ${themeColors.border};\n`\n\nconst GameRoundSum = ({ rounds = [], round }) => (\n  <StyledListItem component=\"div\">\n    <StyledScore variant=\"overline\">\n      {rounds[round].reduce((sum, value) => value + sum, 0)}\n    </StyledScore>\n  </StyledListItem>\n)\n\nexport default GameRoundSum\n","import styled from 'styled-components'\nimport TextField from '@material-ui/core/TextField'\n\nconst RoundListField = styled(TextField).attrs({\n  margin: 'dense',\n  variant: 'outlined',\n  type: 'number',\n})`\n  width: 100px;\n\n  input {\n    text-align: center;\n  }\n`\n\nexport default RoundListField\n","import React, { useContext } from 'react'\nimport styled from 'styled-components'\nimport { map } from 'lodash'\nimport Card from '@material-ui/core/Card'\nimport List from '@material-ui/core/List'\n\nimport CardHeader from 'common/card/Header'\nimport GameScoresContext from 'components/game/context/Scores'\nimport GameRoundScore from 'components/game/round/Score'\nimport GameRoundSum from 'components/game/round/Sum'\nimport { onEnter } from 'utils/handlers'\nimport RoundListField from './Field'\n\nconst StyledRoundListItemContent = styled.div`\n  padding: 16px;\n  text-align: center;\n`\n\nconst RoundListItem = ({\n  index,\n  name,\n  rounds,\n  round,\n  onEnter: handleEnter,\n}) => {\n  const teamScores = rounds[round]\n  const [roundScores, setRoundScores] = useContext(GameScoresContext)\n  const teamScoreValue = roundScores[index]\n  const handleChange = ({ target }) => {\n    setRoundScores(\n      roundScores.map((score, i) => (i === index ? target.value : score)),\n    )\n  }\n  return (\n    <li>\n      <Card>\n        <CardHeader title={name} titleTypographyProps={{ align: 'center' }} />\n        <StyledRoundListItemContent>\n          <List component=\"div\" dense>\n            {map(teamScores, (score, key) => (\n              <GameRoundScore\n                key={key}\n                score={score}\n                index={index}\n                scoreIndex={key}\n              />\n            ))}\n            <GameRoundSum rounds={rounds} round={round} />\n          </List>\n          <RoundListField\n            inputProps={{\n              tabIndex: index + 1,\n              pattern: '-?\\\\d*',\n            }}\n            onChange={handleChange}\n            onKeyDown={onEnter(handleEnter)}\n            value={teamScoreValue}\n          />\n        </StyledRoundListItemContent>\n      </Card>\n    </li>\n  )\n}\n\nexport default RoundListItem\n","import styled from 'styled-components'\n\nconst RoundListWrapper = styled.ul`\n  display: grid;\n  gap: 1rem;\n  grid-template-columns: repeat(auto-fill, minmax(130px, 1fr));\n  padding: 1rem;\n`\n\nexport default RoundListWrapper\n","import React from 'react'\nimport { isEmpty, noop } from 'lodash'\nimport TeamListEmpty from 'components/game/team/list/Empty'\n\nimport RoundListItem from './Item'\nimport RoundListWrapper from './Wrapper'\n\nconst RoundList = ({ teams = [], round, onSubmit = noop }) => (isEmpty(teams) ? (\n  <TeamListEmpty />\n) : (\n  <RoundListWrapper>\n    {teams.map((team, key) => (\n      <RoundListItem\n        key={team.name}\n        index={key}\n        round={round}\n        onEnter={onSubmit}\n        {...team}\n      />\n    ))}\n  </RoundListWrapper>\n))\n\nexport default RoundList\n","import React, { useContext, useState } from 'react'\nimport { noop } from 'lodash'\nimport { useTranslation } from 'react-i18next'\nimport Button from '@material-ui/core/Button'\nimport Modal from '@material-ui/core/Modal'\nimport Typography from '@material-ui/core/Typography'\n\nimport ButtonsWrapper from 'common/ButtonsWrapper'\nimport ModalActions from 'common/modal/Actions'\nimport ModalContent from 'common/modal/Content'\nimport GameStoreContext from 'components/game/context/Store'\nimport { endRound } from 'components/game/actionCreators'\n\nconst RoundActionEnd = ({ gameKey, round, onEnd = noop }) => {\n  const [open, setOpen] = useState(false)\n  const [t] = useTranslation()\n  const [, dispatch] = useContext(GameStoreContext)\n  const toggleOpen = () => setOpen(!open)\n  const handleSubmit = () => {\n    dispatch(endRound(gameKey, round))\n    setOpen(false)\n    onEnd(round)\n  }\n  return (\n    <>\n      <ButtonsWrapper>\n        <Button\n          color=\"primary\"\n          variant=\"contained\"\n          aria-owns={open ? 'confirm-end-dialog' : undefined}\n          aria-haspopup=\"true\"\n          onClick={toggleOpen}\n        >\n          {t('button.endGame')}\n        </Button>\n      </ButtonsWrapper>\n      <Modal\n        id=\"confirm-end-dialog\"\n        aria-labelledby=\"confirm-end-title\"\n        aria-describedby=\"confirm-end-description\"\n        open={open}\n        onClose={toggleOpen}\n      >\n        <ModalContent>\n          <Typography variant=\"h6\" id=\"confirm-end-title\">\n            {t('button.endGame')}\n          </Typography>\n          <Typography variant=\"subtitle1\" id=\"confirm-end-description\">\n            {t('messages.confirmEndGame')}\n          </Typography>\n          <ModalActions>\n            <Button onClick={toggleOpen}>{t('button.cancel')}</Button>\n            <Button color=\"primary\" autoFocus onClick={handleSubmit}>\n              {t('button.endGame')}\n            </Button>\n          </ModalActions>\n        </ModalContent>\n      </Modal>\n    </>\n  )\n}\n\nexport default RoundActionEnd\n","import React, { useContext, useState } from 'react'\nimport { useTranslation } from 'react-i18next'\nimport Button from '@material-ui/core/Button'\nimport ButtonsWrapper from 'common/ButtonsWrapper'\nimport GameUsedContext from './context/Used'\nimport GameStoreContext from './context/Store'\nimport GameScoresContext from './context/Scores'\nimport RoundList from './round/list/List'\nimport RoundEnd from './round/action/End'\nimport { addScores } from './round/actionCreators'\n\nconst GameScores = ({ round, onEnd }) => {\n  const [gameKey, { teams = [] }] = useContext(GameUsedContext)\n  const [, dispatch] = useContext(GameStoreContext)\n  const initialState = Array.from({ length: teams.length }, () => '')\n  const state = useState(initialState)\n  const [t] = useTranslation()\n  const handleSubmit = () => {\n    const [scores, setScores] = state\n    if (scores.some((score) => typeof Number(score) === 'number')) {\n      dispatch(\n        addScores(\n          gameKey,\n          round,\n          scores.map((score) => Number.parseInt(score, 10)),\n        ),\n      )\n      setScores(initialState)\n    }\n  }\n  return (\n    <GameScoresContext.Provider value={state}>\n      <RoundList teams={teams} round={round} onSubmit={handleSubmit} />\n      <ButtonsWrapper>\n        <Button\n          icon=\"plus\"\n          color=\"primary\"\n          variant=\"contained\"\n          onClick={handleSubmit}\n        >\n          {t('button.sum')}\n        </Button>\n      </ButtonsWrapper>\n      <RoundEnd gameKey={gameKey} round={round} onEnd={onEnd} />\n    </GameScoresContext.Provider>\n  )\n}\n\nexport default GameScores\n","import React from 'react'\nimport styled from 'styled-components'\nimport { map, sortBy } from 'lodash'\nimport List from '@material-ui/core/List'\nimport ListItem from '@material-ui/core/ListItem'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport Typography from '@material-ui/core/Typography'\nimport Flex from 'common/Flex'\n\nconst StyledSumScore = styled(Typography).attrs({\n  variant: 'overline',\n})`\n  && {\n    font-size: 2rem;\n    text-align: right;\n    line-height: 1.2;\n  }\n`\n\nconst StyledScore = styled(Typography).attrs({\n  variant: 'overline',\n})`\n  && {\n    font-size: 0.875rem;\n    margin-left: 0.875rem;\n  }\n`\n\nconst Championship = ({ teams, round }) => {\n  const sortedTeams = sortBy(\n    teams,\n    ({ rounds }) => -rounds[round].reduce((sum, value) => value + sum, 0),\n  )\n  return (\n    <List component=\"div\">\n      {sortedTeams.map((team) => (\n        <ListItem key={`${team.name}${round}`}>\n          <ListItemText disableTypography>\n            <Flex display items=\"center\" justify=\"space-between\">\n              <Typography variant=\"body1\">{team.name}</Typography>\n              <StyledSumScore>\n                {team.rounds[round].reduce((sum, value) => value + sum, 0)}\n              </StyledSumScore>\n            </Flex>\n            <Flex component=\"ul\" display items=\"center\" justify=\"flex-end\">\n              {map(team.rounds[round], (score, index) => (\n                <li key={index}>\n                  <StyledScore>{score}</StyledScore>\n                </li>\n              ))}\n            </Flex>\n          </ListItemText>\n        </ListItem>\n      ))}\n    </List>\n  )\n}\n\nexport default Championship\n","import React from 'react'\nimport { useTranslation } from 'react-i18next'\n\nimport WarnPlaceholder from 'common/WarnPlaceholder'\nimport GameGuard from './game/Guard'\nimport RoundGuard from './game/round/Guard'\n\nimport useGame from './game/useGame'\nimport GameUsedContext from './game/context/Used'\nimport Scores from './game/Scores'\nimport Championship from './game/round/Championship'\nimport PageViewTracker from './PageViewTracker'\n\nconst Round = ({\n  gameKey, round, uri, navigate,\n}) => {\n  const game = useGame({ gameKey })\n  const [t] = useTranslation()\n\n  const goToGame = () => navigate('../..')\n  const isActive = game && game.round === round\n  return (\n    <GameUsedContext.Provider value={[gameKey, game, round]}>\n      <GameGuard game={game}>\n        <RoundGuard\n          gameKey={gameKey}\n          round={round}\n          fallback={\n            <WarnPlaceholder icon=\"warning\" message={t('text.roundNotFound')} />\n          }\n        >\n          {isActive ? (\n            <Scores round={round} onEnd={goToGame} />\n          ) : (\n            <Championship teams={game ? game.teams : []} round={round} />\n          )}\n        </RoundGuard>\n      </GameGuard>\n      <PageViewTracker uri={uri} />\n    </GameUsedContext.Provider>\n  )\n}\n\nexport default Round\n","import React from 'react'\nimport styled from 'styled-components'\nimport { themeColors } from 'themes'\n\nconst StyledAppBar = styled.div`\n  background-color: ${themeColors.primary};\n  box-shadow: 0px 2px 4px -1px rgba(0, 0, 0, 0.2),\n    0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);\n  flex: 0 0 auto;\n  position: static;\n`\n\nconst StyledToolbar = styled.div`\n  align-items: center;\n  display: grid;\n  grid-template-columns: auto 1fr auto auto;\n  padding: 8px 24px;\n\n  .material-icons {\n    color: ${themeColors.foregroundOnPrimary};\n  }\n`\n\nconst BarToolbar = ({ children }) => (\n  <StyledAppBar>\n    <StyledToolbar>{children}</StyledToolbar>\n  </StyledAppBar>\n)\n\nexport default BarToolbar\n","import styled from 'styled-components';\nimport { themeColors } from 'themes';\n\nconst BarTitle = styled.h2`\n  color: ${themeColors.foregroundOnPrimary};\n  flex: 1;\n  font: 1.2rem/1.2 ${({ theme }) => theme.mui.typography.fontFamily};\n  overflow: hidden;\n  padding: 0 0 0 ${props => props.pl || '0px'};\n  text-overflow: ellipsis;\n  user-select: none;\n  white-space: nowrap;\n`;\n\nexport default BarTitle;\n","import React from 'react'\n\nconst EmptyBlock = () => <div />\n\nexport default EmptyBlock\n","import { createContext } from 'react';\n\nexport default createContext('theme');\n","import React, { useState, useContext } from 'react'\nimport IconButton from '@material-ui/core/IconButton'\nimport Menu from '@material-ui/core/Menu'\nimport MenuItem from '@material-ui/core/MenuItem'\nimport Icon from '@material-ui/core/Icon'\nimport LocaleContext from 'components/locale/Context'\n\nconst LocaleMenu = () => {\n  const [el, setEl] = useState(null)\n  const [locale, setLocale] = useContext(LocaleContext)\n  const handleOpen = ({ currentTarget }) => setEl(currentTarget)\n  const handleClose = () => setEl(null)\n  const handleClick = (value) => () => {\n    setEl(null)\n    setLocale(value)\n  }\n  const items = [\n    { id: 'es', label: 'Español' },\n    { id: 'en', label: 'English' },\n    { id: 'fr', label: 'Français' },\n  ]\n  return (\n    <>\n      <IconButton\n        color=\"inherit\"\n        aria-owns={el ? 'locale-menu' : undefined}\n        aria-haspopup=\"true\"\n        aria-label=\"Locale\"\n        onClick={handleOpen}\n      >\n        <Icon>g_translate</Icon>\n      </IconButton>\n      <Menu\n        id=\"locale-menu\"\n        anchorEl={el}\n        open={Boolean(el)}\n        onClose={handleClose}\n      >\n        {items.map(({ id, label }) => (\n          <MenuItem key={id} selected={id === locale} onClick={handleClick(id)}>\n            {label}\n          </MenuItem>\n        ))}\n      </Menu>\n    </>\n  )\n}\n\nexport default LocaleMenu\n","import { createContext } from 'react';\n\nexport default createContext('theme');\n","import React, { useContext, useState } from 'react'\nimport { useTranslation } from 'react-i18next'\nimport IconButton from '@material-ui/core/IconButton'\nimport Menu from '@material-ui/core/Menu'\nimport MenuItem from '@material-ui/core/MenuItem'\nimport Icon from '@material-ui/core/Icon'\nimport ThemeContext from './Context'\n\nconst ThemeMenu = () => {\n  const [el, setEl] = useState(null)\n  const [t] = useTranslation()\n  const [theme, setTheme] = useContext(ThemeContext)\n  const handleOpen = ({ currentTarget }) => setEl(currentTarget)\n  const handleClose = () => setEl(null)\n  const handleClick = (value) => () => {\n    setEl(null)\n    setTheme(value)\n  }\n\n  const items = [\n    { id: 'minimal', label: t('skins.minimal') },\n    { id: 'girlish', label: t('skins.girlish') },\n    { id: 'dark', label: t('skins.dark') },\n  ]\n  return (\n    <>\n      <IconButton\n        color=\"inherit\"\n        aria-owns={el ? 'theme-menu' : undefined}\n        aria-haspopup=\"true\"\n        aria-label=\"Theme\"\n        onClick={handleOpen}\n      >\n        <Icon>color_lens</Icon>\n      </IconButton>\n      <Menu\n        id=\"theme-menu\"\n        anchorEl={el}\n        open={Boolean(el)}\n        onClose={handleClose}\n      >\n        {items.map(({ id, label }) => (\n          <MenuItem key={id} selected={id === theme} onClick={handleClick(id)}>\n            {label}\n          </MenuItem>\n        ))}\n      </Menu>\n    </>\n  )\n}\n\nexport default ThemeMenu\n","import React from 'react'\nimport { useTranslation } from 'react-i18next'\nimport IconButton from '@material-ui/core/IconButton'\nimport Icon from '@material-ui/core/Icon'\nimport Tooltip from '@material-ui/core/Tooltip'\n\nimport BarToolbar from 'common/bar/Toolbar'\nimport BarTitle from 'common/bar/Title'\nimport EmptyBlock from 'common/EmptyBlock'\nimport Txt from 'common/Txt'\n\nimport useGame from './game/useGame'\nimport LocaleMenu from './locale/Menu'\nimport ThemeMenu from './theme/Menu'\n\nexport const TopLanding = () => (\n  <BarToolbar>\n    <EmptyBlock />\n    <BarTitle>\n      <Txt id=\"messages.selectGame\" />\n    </BarTitle>\n    <LocaleMenu />\n    <ThemeMenu />\n  </BarToolbar>\n)\n\nexport const TopRound = ({ game = {}, navigate }) => {\n  const { name } = game\n  const goToHome = () => navigate('../../../..')\n  const goToGame = () => navigate('../..')\n  return (\n    <BarToolbar>\n      <IconButton color=\"inherit\" onClick={game ? goToGame : goToHome}>\n        <Icon>arrow_back</Icon>\n      </IconButton>\n      <BarTitle pl=\"0.5rem\">{name}</BarTitle>\n      <LocaleMenu />\n      <ThemeMenu />\n    </BarToolbar>\n  )\n}\n\nexport const TopGame = ({ gameKey, navigate }) => {\n  const game = useGame({ gameKey })\n  const goToHome = () => navigate('../..')\n  const goToAddTeam = () => navigate('team')\n\n  const [t] = useTranslation()\n  return (\n    <BarToolbar>\n      <IconButton color=\"inherit\" onClick={goToHome}>\n        <Icon>arrow_back</Icon>\n      </IconButton>\n      <BarTitle pl=\"0.5rem\">{game && game.name}</BarTitle>\n      <Tooltip disableTouchListener title={t('button.addTeam')}>\n        <IconButton\n          color=\"inherit\"\n          aria-label={t('button.addTeam')}\n          onClick={goToAddTeam}\n        >\n          <Icon>add</Icon>\n        </IconButton>\n      </Tooltip>\n      <LocaleMenu />\n    </BarToolbar>\n  )\n}\n","import { Store, get } from 'idb-keyval';\n\nexport const store = new Store('scorespad-db', 'scorespad-store');\n\nexport const getInitialState = async () => {\n  let [games, theme, locale] = await Promise.all([\n    get('gms', store),\n    get('theme', store),\n    get('locale', store),\n  ]);\n\n  if (window.localStorage) {\n    const browserGames = window.localStorage.getItem('gms');\n    const browserTheme = window.localStorage.getItem('theme');\n    const browserLocale = window.localStorage.getItem('locale');\n    if (!games && browserGames) {\n      games = JSON.parse(browserGames || '{}');\n    }\n    if (!theme && browserTheme) {\n      theme = browserTheme;\n    }\n    if (!theme && browserLocale) {\n      locale = browserLocale;\n    }\n    window.localStorage.clear();\n  }\n\n  return { games, theme, locale };\n};\n","import { memo } from 'react';\nimport { set } from 'idb-keyval';\nimport { store } from 'utils/store';\n\nconst LocalStorage = memo(({ index, value }) => {\n  set(index, value, store);\n  return null;\n});\n\nexport default LocalStorage;\n","import React, { useState } from 'react'\nimport { ThemeProvider as StyledThemeProvider } from 'styled-components'\nimport { MuiThemeProvider } from '@material-ui/core/styles'\nimport themes from 'themes'\nimport Storage from 'common/Storage'\n\nimport ThemeContext from './Context'\n\nconst ThemeProvider = ({ initial = 'minimal', children }) => {\n  const storage = 'theme'\n  const [theme, setTheme] = useState(initial)\n  const { globalStyle: Global, ...themeRef } = themes[theme]\n  const handleSetTheme = (value) => {\n    if (window.ga) {\n      window.ga('send', 'event', 'UI', 'theme', value)\n    }\n    setTheme(value)\n  }\n  return (\n    <ThemeContext.Provider value={[theme, handleSetTheme]}>\n      <Storage index={storage} value={theme} />\n      <StyledThemeProvider theme={themeRef}>\n        <MuiThemeProvider theme={themeRef.mui}>\n          <>\n            <Global />\n            {children}\n          </>\n        </MuiThemeProvider>\n      </StyledThemeProvider>\n    </ThemeContext.Provider>\n  )\n}\n\nexport default ThemeProvider\n","import React from 'react'\nimport styled, { keyframes } from 'styled-components'\n\nconst spinKeyframe = keyframes`\n  from { transform: rotate(0deg); }\n  to { transform: rotate(360deg); }\n`\n\nconst SpinnerElement = styled.span`\n  display: inline-block;\n  animation: ${spinKeyframe} 800ms ease-in-out infinite;\n  padding: 2rem 1rem;\n  font-size: 1.2rem;\n`\n\nconst Spinner = () => (\n  // eslint-disable-next-line jsx-a11y/accessible-emoji\n  <SpinnerElement role=\"img\" aria-label=\"Loading...\">\n    ⚙️\n  </SpinnerElement>\n)\n\nexport default Spinner\n","import React, { Suspense, useState, useEffect } from 'react'\n\nimport Storage from 'common/Storage'\nimport Spinner from 'common/Spinner'\nimport LocaleContext from './Context'\n\nconst LocaleProvider = ({ i18n, initial = 'es', children }) => {\n  const storage = 'locale'\n  const [locale, setLocale] = useState(initial)\n  useEffect(() => {\n    if (i18n.language !== locale) {\n      i18n.changeLanguage(locale)\n    }\n  }, [i18n, locale])\n\n  return (\n    <Suspense fallback={Spinner}>\n      <LocaleContext.Provider value={[locale, setLocale]}>\n        <Storage index={storage} value={locale} />\n        {children}\n      </LocaleContext.Provider>\n    </Suspense>\n  )\n}\n\nexport default LocaleProvider\n","import { get } from 'lodash';\n\nconst gaTrackingEnhancer = (reducer) => (state, action) => {\n  if (window.ga) {\n    const { type, ...payload } = action;\n    const { ga } = window;\n    switch (type) {\n      case 'G+':\n        ga('send', 'event', 'Game', 'create', payload.name);\n        break;\n      case 'G-':\n        ga(\n          'send',\n          'event',\n          'Game',\n          'remove',\n          get(state, `${payload.key}.name`, ''),\n        );\n        break;\n      case 'G=':\n        ga('send', 'event', 'Game', 'rename', payload.name);\n        break;\n      case 'G$':\n        ga(\n          'send',\n          'event',\n          'Game',\n          'finish',\n          get(state, `${payload.key}.name`, ''),\n        );\n        break;\n      case 'T+':\n        ga('send', 'event', 'Team', 'create', payload.name);\n        break;\n      case 'T-':\n        ga(\n          'send',\n          'event',\n          'Team',\n          'remove',\n          get(state, `${payload.key}.teams.${payload.index}.name`, ''),\n        );\n        break;\n      case 'T=':\n        ga('send', 'event', 'Team', 'rename', payload.name);\n        break;\n      case 'R+': {\n        const date = new Date(parseInt(payload.round, 36));\n        ga('send', 'event', 'Round', 'add', date.toISOString());\n        break;\n      }\n      case 'S++': {\n        const date = new Date(parseInt(payload.round, 36));\n        ga('send', 'event', 'Round', 'scores', date.toISOString());\n        break;\n      }\n      case 'S-':\n        ga(\n          'send',\n          'event',\n          'Team',\n          'removeScore',\n          get(state, `${payload.key}.teams.${payload.index}.name`, ''),\n        );\n        break;\n      case 'C+':\n        ga(\n          'send',\n          'event',\n          'Team',\n          'champion',\n          get(state, `${payload.key}.teams.${payload.index}.name`, ''),\n        );\n        break;\n      default:\n    }\n  }\n  return reducer(state, action);\n};\n\nexport default gaTrackingEnhancer;\n","import { get } from 'lodash';\n\nconst reduceTeam = (state, { index, ...payload }, reduceFunction) => {\n  if (index > state.length || index < 0) {\n    return state;\n  }\n  const reducedTeam = reduceFunction(state[index], payload);\n  return reducedTeam === state[index]\n    ? state\n    : state.map((team, i) => (index === i ? reducedTeam : team));\n};\n\nexport const createTeam = (state, { name, round }) => {\n  const isNameUsed = state.some(team => team.name === name);\n  return [\n    ...state,\n    {\n      name: isNameUsed ? `${name} (${state.length + 1})` : name,\n      championships: [],\n      rounds: round === null ? {} : { [round]: [] },\n    },\n  ];\n};\n\nexport const removeTeam = (state, { index }) => (index > state.length || index < 0\n  ? state\n  : state.filter((_, i) => index !== i));\n\nexport const renameTeam = (team, { name }) => (team.name === name ? team : { ...team, name });\n\nexport const addRound = (state, { round }) => (state.every(team => Object.keys(team.rounds).includes(round))\n  ? state\n  : state.map(team => ({\n    ...team,\n    rounds: {\n      ...team.rounds,\n      [round]: [],\n    },\n  })));\n\nexport const addChampionship = (state, { index, round }) => (index > state.length || index < 0\n  ? state\n  : state.map((team, i) => (i === index\n    ? {\n      ...team,\n      championships: [...team.championships, round],\n    }\n    : team)));\n\nexport const removeScore = (team, { round, scoreIndex }) => (get(team.rounds, `${round}.${scoreIndex}`) === undefined\n  ? team\n  : {\n    ...team,\n    rounds: {\n      ...team.rounds,\n      [round]: team.rounds[round].filter((_, i) => i !== scoreIndex),\n    },\n  });\n\nexport const addScores = (state, { round, scores }) => (scores.length === 0\n  ? state\n  : state.map((team, index) => ({\n    ...team,\n    rounds: {\n      ...team.rounds,\n      [round]:\n            typeof scores[index] !== 'number' || Number.isNaN(scores[index])\n              ? team.rounds[round] || []\n              : [...(team.rounds[round] || []), scores[index]],\n    },\n  })));\n\nexport const reducer = (state = [], { type, ...payload }) => {\n  switch (type) {\n    case 'T+':\n      return createTeam(state, payload);\n    case 'T-':\n      return removeTeam(state, payload);\n    case 'T=':\n      return reduceTeam(state, payload, renameTeam);\n    case 'R+':\n      return addRound(state, payload);\n    case 'S++':\n      return addScores(state, payload);\n    case 'S-':\n      return reduceTeam(state, payload, removeScore);\n    case 'C+':\n      return addChampionship(state, payload);\n    default:\n      return state;\n  }\n};\n","import { reducer as teamsReducer } from './team/reducer';\n\nconst reduceGame = (state, { key, ...payload }, reduceFunction) => {\n  if (state[key]) {\n    const game = reduceFunction(state[key], payload);\n    return game === state[key] ? state : { ...state, [key]: game };\n  }\n  return state;\n};\n\nconst gameTeamsReducer = (state, payload) => {\n  const teams = teamsReducer(state.teams, payload);\n  return teams === state.teams ? state : { ...state, teams };\n};\n\nexport const createGame = (state, { key, name }) => {\n  const isNameUsed = Object.keys(state).some(\n    gameKey => state[gameKey].name === name,\n  );\n  return {\n    ...state,\n    [key]: {\n      name: isNameUsed ? `${name} (${key})` : name,\n      round: null,\n      teams: [],\n    },\n  };\n}\n\nexport const importGame = (state, { key, game }) => ({\n  ...state,\n  [key]: game,\n})\n\nexport const removeGame = (state, { key }) => (state[key]\n  ? Object.keys(state).reduce(\n    (games, k) => (k === key ? games : { ...games, [k]: state[k] }),\n    {},\n  )\n  : state);\n\nexport const renameGame = (state, { name }) => (state.name === name ? state : { ...state, name });\n\nexport const selectRound = (state, { round }) => (state.round === round ? state : { ...state, round });\n\nexport const endRound = (state, { round }) => {\n  if (state.round === null) {\n    return state;\n  }\n  const totals = state.teams.map(({ rounds }) => rounds[round].reduce((sum, score) => sum + score, 0));\n  const [, ...scores] = totals;\n  const winnerIndex = scores.reduce(\n    (winner, score, index) => (score > totals[winner] ? index + 1 : winner),\n    0,\n  );\n\n  return gameTeamsReducer(\n    { ...state, round: null },\n    { type: 'C+', index: winnerIndex, round },\n  );\n};\n\nconst reducer = (state = {}, { type, ...payload }) => {\n  switch (type) {\n    case '-- --':\n      return payload;\n    case 'G+':\n      return createGame(state, payload);\n    case 'G++':\n      return importGame(state, payload);\n    case 'G-':\n      return removeGame(state, payload);\n    case 'G=':\n      return reduceGame(state, payload, renameGame);\n    case 'G$':\n      return reduceGame(state, payload, endRound);\n    case 'R+':\n      return reduceGame(\n        reduceGame(state, { type, ...payload }, gameTeamsReducer),\n        payload,\n        selectRound,\n      );\n    default:\n      return reduceGame(state, { type, ...payload }, gameTeamsReducer);\n  }\n};\n\nexport default reducer;\n","import React, { useReducer } from 'react'\nimport Storage from 'common/Storage'\nimport GameStoreContext from 'components/game/context/Store'\nimport gaTracking from 'utils/gaTracking'\nimport reducer from './reducer'\n\nconst GameProvider = ({ initial = {}, children }) => {\n  const storage = 'gms'\n  const gameStore = useReducer(\n    gaTracking(reducer),\n    initial,\n  )\n  const [gameState] = gameStore\n  return (\n    <GameStoreContext.Provider value={gameStore}>\n      <Storage index={storage} value={gameState} />\n      {children}\n    </GameStoreContext.Provider>\n  )\n}\n\nexport default GameProvider\n","import React, { useContext, useState, useEffect } from 'react'\nimport { useTranslation } from 'react-i18next'\nimport Button from '@material-ui/core/Button'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport DialogContent from '@material-ui/core/DialogContent'\n\nimport SlideUp from 'common/SlideUp'\nimport DialogTitle from 'common/dialog/Title'\nimport DialogHeadline from 'common/dialog/Headline'\nimport NameField from 'common/NameField'\nimport GameStoreContext from 'components/game/context/Store'\n\nimport { createTeam } from '../actionCreators'\nimport useTeamValidation from './useValidation'\nimport useGame from '../../useGame'\n\nconst TeamFormCreate = ({ gameKey, navigate }) => {\n  const game = useGame({ gameKey })\n  const { round } = game\n  const [open, setOpen] = useState(false)\n  const [name, setName] = useState('')\n  const [t] = useTranslation()\n  const [, dispatch] = useContext(GameStoreContext)\n  const validation = useTeamValidation({ name })\n  const { touch, valid } = validation\n\n  const handleClose = () => navigate('..')\n  const handleAdd = () => {\n    touch()\n    if (valid) {\n      dispatch(createTeam(gameKey, round, name))\n      handleClose()\n    }\n  }\n\n  useEffect(() => {\n    if (!open) {\n      setOpen(true)\n    }\n  }, [open])\n\n  return (\n    <Dialog\n      fullScreen\n      id=\"team-add-dialog\"\n      onClose={handleClose}\n      aria-labelledby=\"team-add-dialog-title\"\n      open={open}\n      TransitionComponent={SlideUp}\n    >\n      <DialogTitle id=\"team-add-dialog-title\" onClose={handleClose}>\n        {t('button.addTeam')}\n      </DialogTitle>\n      <DialogContent>\n        <DialogHeadline>{t('text.addNewTeam')}</DialogHeadline>\n        <NameField\n          label={t('placeholder.teamName')}\n          onChange={setName}\n          onEnter={handleAdd}\n          validation={validation}\n          value={name}\n        />\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={handleClose}>{t('button.cancel')}</Button>\n        <Button variant=\"contained\" color=\"primary\" autoFocus onClick={handleAdd}>\n          {t('button.addTeam')}\n        </Button>\n      </DialogActions>\n    </Dialog>\n  )\n}\n\nexport default TeamFormCreate\n","import React from 'react'\nimport Paper from '@material-ui/core/Paper'\nimport { makeStyles } from '@material-ui/styles'\n\nconst useStyles = makeStyles({\n  root: {\n    alignItems: 'stretch',\n    display: 'flex',\n    flex: '1 1 100%',\n    flexDirection: 'column',\n    justifyContent: 'space-between',\n    margin: '0',\n    padding: '1.5rem',\n  },\n})\n\nconst CommonRoutePaper = ({ children, ...props }) => {\n  const { root } = useStyles()\n  return <Paper classes={{ root }} role=\"tabpanel\" elevation={5} {...props}>{children}</Paper>\n}\n\nexport default CommonRoutePaper\n","import React, { useState } from 'react'\nimport { useTranslation } from 'react-i18next'\nimport Fab from '@material-ui/core/Fab'\n\nimport NameField from 'common/NameField'\nimport CommonRoutePaper from 'common/styled/RoutePaper'\n\nimport useGameValidation from './useValidation'\n\nconst GameFormByName = ({ onSuccess }) => {\n  const [newName, setNewName] = useState('')\n  const [t] = useTranslation()\n  const validation = useGameValidation({\n    name: newName,\n  })\n  const { touch, valid } = validation\n  const handleAdd = () => {\n    touch()\n    if (valid) {\n      const id = Date.now().toString(36)\n      onSuccess(id, newName)\n    }\n  }\n  return (\n    <CommonRoutePaper>\n      <NameField\n        variant=\"outlined\"\n        label={t('placeholder.gameName')}\n        onChange={setNewName}\n        onEnter={handleAdd}\n        validation={validation}\n        value={newName}\n      />\n      <Fab variant=\"extended\" color=\"primary\" size=\"large\" aria-label={t('button.createGame')} onClick={handleAdd}>\n        {t('button.createGame')}\n      </Fab>\n    </CommonRoutePaper>\n  )\n}\n\nexport default GameFormByName\n","const isSafari = () => {\n  const ua = navigator.userAgent.toLowerCase();\n  return ((ua.indexOf('safari') !== -1) && (ua.indexOf('chrome') === -1));\n}\n\nexport default isSafari\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport isSafari from 'utils/isSafari'\n\nconst videoStyles = {\n  display: 'flex',\n};\n\nclass CommonVideoStream extends Component {\n  stream = null;\n  streamWidth = 0;\n  streamHeight = 0;\n  video = null;\n  canvasContext = null;\n  state = {}\n\n  async componentDidMount() {\n    const { onInit } = this.props\n    try {\n      await this.startCamera();\n      const { strean, video, canvasContext } = this\n      onInit({ strean, video, canvasContext }, this.drawFrame);\n    } catch (e) {\n      this.setState({ error: `Browser camera init error: ${e}` });\n    }\n  }\n\n  componentWillUnmount() {\n    this.stopCamera();\n  }\n\n  stopCamera = () => {\n    if (!this.stream) return;\n    this.stream.getTracks().map(t => t.stop());\n    this.stream = null;\n    this.streamWidth = 0;\n    this.streamHeight = 0;\n    this.canvasContext = null;\n  };\n\n  startCamera = async () => {\n    this.stopCamera();\n\n    if (!(navigator.mediaDevices && navigator.mediaDevices.getUserMedia)) {\n      throw new Error('WebRTC API not supported in this browser');\n    }\n\n    const devices = await navigator.mediaDevices.enumerateDevices();\n    const cameras = devices.filter(device => device.kind === 'videoinput');\n    let videoMode = { facingMode: 'user' };\n    if (cameras.length > 1) {\n      const cameraIndex = this.props.rearCamera ? 1 : 0;\n      const cameraEnv = this.props.rearCamera ? 'environment' : 'user';\n      videoMode = isSafari() ? { facingMode: { exact: cameraEnv } } : { deviceId: cameras[cameraIndex].deviceId };\n    }\n\n    this.stream = await navigator.mediaDevices.getUserMedia({\n      audio: false,\n      video: videoMode,\n    });\n\n    if (this.video.srcObject !== undefined) {\n      this.video.srcObject = this.stream;\n    } else if (this.video.mozSrcObject !== undefined) {\n      this.video.mozSrcObject = this.stream;\n    } else if (window.URL.createObjectURL) {\n      this.video.src = window.URL.createObjectURL(this.stream);\n    } else if (window.webkitURL) {\n      this.video.src = window.webkitURL.createObjectURL(this.stream);\n    } else {\n      this.video.src = this.stream;\n    }\n\n    this.video.playsInline = true;\n    this.video.play(); // firefox does not emit `loadeddata` if video not playing\n    await this.streamLoadedPromise();\n\n    this.streamWidth = this.video.videoWidth;\n    this.streamHeight = this.video.videoHeight;\n\n    if (!this.canvasContext) {\n      const canvas = document.createElement('canvas');\n      canvas.width = this.streamWidth;\n      canvas.height = this.streamHeight;\n      this.canvasContext = canvas.getContext('2d');\n    }\n  };\n\n  streamLoadedPromise = () => new Promise((resolve, reject) => {\n    this.video.addEventListener('loadeddata', resolve, { once: true });\n    this.video.addEventListener('error', reject, { once: true });\n  });\n\n  captureFrame = () => {\n    this.canvasContext.drawImage(this.video, 0, 0, this.streamWidth, this.streamHeight);\n    return this.canvasContext.getImageData(0, 0, this.streamWidth, this.streamHeight);\n  }\n\n  drawFrame = () => {\n    window.requestAnimationFrame(() => {\n      if (!this.canvasContext) return;\n      const { data } = this.captureFrame();\n      this.props.onFrame({\n        data,\n        width: this.streamWidth,\n        height: this.streamHeight,\n      });\n    });\n  };\n\n  render() {\n    const { style, fallback } = this.props\n    const { error } = this.state\n    return error ? fallback : <video style={{ ...videoStyles, ...style }} ref={v => (this.video = v)} />\n  }\n};\n\nCommonVideoStream.propTypes = {\n  onInit: PropTypes.func.isRequired,\n  onFrame: PropTypes.func.isRequired,\n  style: PropTypes.object,\n  rearCamera: PropTypes.bool,\n};\n\nCommonVideoStream.defaultProps = {\n  style: {},\n  rearCamera: true,\n  fallback: null,\n};\n\nexport default CommonVideoStream;","import React, {\n  useRef, useEffect, useCallback, useState,\n} from 'react'\nimport { noop } from 'lodash'\nimport DialogActions from '@material-ui/core/DialogActions'\n\nimport VideoStream from './VideoStream'\nimport ButtonExtended from '../button/Extended'\n\nconst CommonQrScan = ({\n  className,\n  style,\n  rearCamera = true,\n  videoStyle,\n  shouldDecode = true,\n  fallbackCode = null,\n  fallbackMedia = null,\n  tryAgainButtonLabel = 'retry',\n  giveUpButtonLabel = 'give up',\n  onInit = noop,\n  onCode = noop,\n  onClose = noop,\n}) => {\n  const webWorker = useRef(null)\n  const drawVideoFrame = useRef(noop)\n  const [codeError, setCodeError] = useState(false)\n  const handleTryAgain = () => setCodeError(false)\n  const onVideoStreamInit = (state, drawFrame) => {\n    if (onInit) {\n      onInit(state)\n    }\n    drawVideoFrame.current = drawFrame\n    if (shouldDecode) {\n      drawVideoFrame.current()\n    }\n  }\n\n  const onFrame = (frameData) => webWorker.current.postMessage(frameData)\n\n  const onFrameDecoded = useCallback((event) => {\n    const code = event.data\n    if (code) {\n      const { data } = code\n      if (onCode && data.length > 0) {\n        try {\n          onCode(JSON.parse(data))\n        } catch (e) {\n          setCodeError(true)\n        }\n      }\n    }\n\n    if (shouldDecode) {\n      drawVideoFrame.current()\n    }\n  }, [onCode, shouldDecode])\n\n  useEffect(() => {\n    webWorker.current = new Worker(`${process.env.PUBLIC_URL || ''}/qr-worker.js`)\n    webWorker.current.addEventListener('message', onFrameDecoded)\n    return () => {\n      if (webWorker.current) {\n        webWorker.current.terminate()\n        webWorker.current = null\n      }\n    }\n  }, [onFrameDecoded])\n\n  const appliedStyle = {\n    display: 'grid',\n    justifyContent: 'center',\n    maxWidth: '100%',\n    margin: '0 auto',\n    overflow: 'hidden',\n    ...style,\n  }\n  return (\n    <div className={className} style={appliedStyle}>\n      {codeError ? (\n        <>\n          {fallbackCode}\n          <DialogActions style={{ paddingRight: 0 }}>\n            <ButtonExtended color=\"default\" size=\"large\" icon=\"arrow_back\" label={giveUpButtonLabel} onClick={onClose} />\n            <ButtonExtended size=\"large\" icon=\"replay\" label={tryAgainButtonLabel} onClick={handleTryAgain} />\n          </DialogActions>\n        </>\n      ) : (\n        <VideoStream\n          onFrame={onFrame}\n          onInit={onVideoStreamInit}\n          rearCamera={rearCamera}\n          style={videoStyle}\n          fallback={fallbackMedia}\n        />\n      )}\n    </div>\n  )\n}\n\nexport default CommonQrScan\n","import React, { useMemo, useState, useCallback } from 'react'\nimport { useTranslation } from 'react-i18next'\nimport CardHeader from '@material-ui/core/CardHeader'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport Fab from '@material-ui/core/Fab'\nimport Typography from '@material-ui/core/Typography'\n\nimport CommaList from 'common/CommaList'\nimport CommonQrScan from 'common/qr/Scan'\nimport CommonRoutePaper from 'common/styled/RoutePaper'\nimport DialogTitle from 'common/dialog/Title'\nimport SlideUp from 'common/SlideUp'\nimport WarnPlaceholder from 'common/WarnPlaceholder'\n\nconst GameFormByScan = ({ onClose, onSuccess }) => {\n  const [t] = useTranslation()\n  const [code, setCode] = useState(null)\n  const handleScan = useCallback(({ data }) => {\n    try {\n      setCode(JSON.parse(data))\n    } catch (e) {\n      console.log(e)\n      // TODO open snackbar\n    }\n  }, [])\n  const handleAdd = () => {\n    const { id, ...newGame } = code\n    onSuccess(id, newGame)\n  }\n  const createdAt = useMemo(() => {\n    if (code) {\n      const date = new Date(parseInt(code.id, 36))\n      return date.toDateString()\n    }\n    return ''\n  }, [code])\n  return (\n    <CommonRoutePaper>\n      <Dialog\n        id=\"game-scan-dialog\"\n        onClose={onClose}\n        aria-labelledby=\"game-scan-dialog-title\"\n        open={!code}\n        fullScreen\n        TransitionComponent={SlideUp}\n      >\n        <DialogTitle id=\"game-share-dialog-title\" onClose={onClose}>\n          {t('game_scan_title')}\n        </DialogTitle>\n        <DialogContent>\n          <CommonQrScan\n            fallbackCode={<WarnPlaceholder icon=\"mobile_off\" message={t('game_scan_wrong_code')} />}\n            fallbackMedia={<WarnPlaceholder icon=\"videocam_off\" message={t('game_scan_no_camera')} />}\n            tryAgainButtonLabel={t('button.tryAgain')}\n            giveUpButtonLabel={t('button.back')}\n            onCode={handleScan}\n            onClose={onClose}\n          />\n        </DialogContent>\n      </Dialog>\n      {code && (\n        <>\n          <CardHeader title={code.name} subheader={t('messages.createdAt', { date: createdAt })} />\n          {code.teams.length > 0 && (\n            <Typography variant=\"overline\">\n              <CommaList items={code.teams} keyedBy=\"name\" attribute=\"name\" />\n            </Typography>\n          )}\n          <Fab variant=\"extended\" color=\"primary\" size=\"large\" aria-label={t('button.createGame')} onClick={handleAdd}>\n            {t('button.confirmAndCreate')}\n          </Fab>\n        </>\n      )}\n    </CommonRoutePaper>\n  )\n}\n\nexport default GameFormByScan\n","import React, { useContext } from 'react'\nimport { useTranslation } from 'react-i18next'\nimport { Router } from '@reach/router'\n\nimport Tabs from '@material-ui/core/Tabs'\nimport Tab from '@material-ui/core/Tab'\nimport KeyboardIcon from '@material-ui/icons/Keyboard'\nimport SpeakerPhoneIcon from '@material-ui/icons/SpeakerPhone'\n\nimport DialogTitle from 'common/dialog/Title'\nimport GameStoreContext from 'components/game/context/Store'\nimport { createGame, importGame } from 'components/game/actionCreators'\n\nimport GameFormByName from './ByName'\nimport GameFormByScan from './ByScan'\n\nconst GameFormCreate = ({ navigate, '*': current }) => {\n  const [t] = useTranslation()\n  const [, dispatch] = useContext(GameStoreContext)\n\n  const goToGame = (id) => navigate(`../games/${id}`)\n  const handleClose = () => navigate('..')\n  const handleCloseScan = () => navigate('.')\n\n  const handleCreate = (id, newName) => {\n    dispatch(createGame(id, newName))\n    goToGame(id)\n  }\n  const handleImport = (id, newGame) => {\n    dispatch(importGame(id, newGame))\n    goToGame(id)\n  }\n\n  const handleChange = (_, route) => {\n    navigate(route || '.')\n  }\n\n  return (\n    <div\n      style={{\n        flex: '1 1 100%',\n        display: 'flex',\n        flexDirection: 'column',\n      }}\n    >\n      <DialogTitle id=\"game-add-dialog-title\" onClose={handleClose}>\n        {t('game_title')}\n      </DialogTitle>\n      <Tabs value={current} onChange={handleChange} variant=\"fullWidth\">\n        <Tab label={t('game_tab_byName')} value=\"\" icon={<KeyboardIcon />} />\n        <Tab label={t('game_tab_byScan')} value=\"scan\" icon={<SpeakerPhoneIcon />} />\n      </Tabs>\n      <Router style={{ display: 'flex', flex: '1 1 100%', flexDirection: 'column' }}>\n        <GameFormByName path=\"/\" onSuccess={handleCreate} />\n        <GameFormByScan path=\"scan\" onClose={handleCloseScan} onSuccess={handleImport} />\n      </Router>\n    </div>\n  )\n}\n\nexport default GameFormCreate\n","import React, {\n  Fragment, Suspense, useState, useEffect,\n} from 'react'\nimport { Router, Redirect } from '@reach/router'\n\nimport Layout from 'common/Layout'\nimport CommonSnackbar from 'common/Snackbar'\n\nimport Landing from './Landing'\nimport Game from './Game'\nimport Round from './Round'\nimport { TopLanding, TopGame, TopRound } from './Top'\nimport ThemeProvider from './theme/Provider'\nimport LocaleProvider from './locale/Provider'\nimport GameProvider from './game/Provider'\n\nimport TeamFormCreate from './game/team/form/Create'\nimport GameFormCreate from './game/form/Create'\n\nconst Fragoute = ({ children }) => <>{children}</>\n\nconst Root = ({\n  locale, i18n, theme, games, hasUpdate, onUpdate,\n}) => {\n  const [updateWarning, setUpdateWarning] = useState(hasUpdate)\n  const handleClose = () => setUpdateWarning(false)\n\n  useEffect(() => {\n    setUpdateWarning(hasUpdate)\n  }, [hasUpdate])\n  return (\n    <LocaleProvider initial={locale} i18n={i18n}>\n      <ThemeProvider initial={theme}>\n        <Layout>\n          <Suspense>\n            <GameProvider initial={games}>\n              <Router\n                basepath={process.env.PUBLIC_URL}\n                primary={false}\n                component={Fragment}\n              >\n                <TopLanding path=\"/\" />\n                <Fragoute path=\"games/:gameKey\">\n                  <TopGame path=\"/\" />\n                  <TopRound path=\"rounds/:round\" />\n                  <TeamFormCreate path=\"team\" />\n                </Fragoute>\n              </Router>\n              <Router\n                basepath={process.env.PUBLIC_URL}\n                primary={false}\n                component={Fragoute}\n              >\n                <Landing path=\"/\" />\n                <Redirect from=\"index.html\" to={process.env.PUBLIC_URL || '/'} />\n                <GameFormCreate path=\"game/*\" />\n                <Game path=\"games/:gameKey\" />\n                <Round path=\"games/:gameKey/rounds/:round\" />\n              </Router>\n            </GameProvider>\n            <CommonSnackbar open={updateWarning} onUpdate={onUpdate} onClose={handleClose} />\n          </Suspense>\n        </Layout>\n      </ThemeProvider>\n    </LocaleProvider>\n  )\n}\n\nexport default Root\n","import i18n from 'i18next';\nimport { initReactI18next } from 'react-i18next';\nimport es from './es';\nimport en from './en';\nimport fr from './fr';\n\nconst getI18n = initial => i18n.use(initReactI18next).init({\n  fallbackLng: ['es', 'fr', 'en'],\n  lng: initial,\n  debug: false,\n  resources: {\n    es: { translation: es },\n    en: { translation: en },\n    fr: { translation: fr },\n  },\n});\n\nexport default getI18n;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost'\n    // [::1] is the IPv6 localhost address.\n    || window.location.hostname === '[::1]'\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    || window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/,\n    ),\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service '\n              + 'worker. To learn more, visit https://bit.ly/CRA-PWA',\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all '\n                  + 'tabs for this page are closed. See https://bit.ly/CRA-PWA.',\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404\n        || (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.',\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react'\nimport { render } from 'react-dom'\nimport i18n from 'i18next'\nimport 'reset-css/reset.css'\n\nimport Root from './components/Root'\nimport getI18n from './i18n'\nimport { getInitialState } from './utils/store'\nimport * as serviceWorker from './serviceWorker'\nimport './index.css'\n\nconst rootElement = document.getElementById('root')\n\nconst start = async (props) => {\n  const initialState = await getInitialState()\n  await getI18n(initialState.locale)\n  render(<Root {...initialState} {...props} i18n={i18n} />, rootElement)\n}\n\nstart()\nserviceWorker.register({\n  async onUpdate(registration) {\n    const handleUpdate = async () => {\n      const [cache] = await caches.keys()\n      const requests = await cache.keys()\n      await Promise.all(requests.map((request) => cache.delete(request)))\n      await registration.unregister()\n      window.location.reload()\n    }\n    start({ hasUpdate: true, onUpdate: handleUpdate })\n  },\n  onSuccess() {\n    console.log('something got offline? did not know') // eslint-disable-line no-console\n  },\n})\n"],"sourceRoot":""}