(this.webpackJsonpscorespad=this.webpackJsonpscorespad||[]).push([[5],{260:function(e,t,n){"use strict";var a=n(1),r=n(2),c=n(0),o=(n(6),n(3)),l=n(4),i=n(50),s=c.forwardRef((function(e,t){var n=e.action,l=e.avatar,s=e.classes,m=e.className,u=e.component,d=void 0===u?"div":u,b=e.disableTypography,p=void 0!==b&&b,E=e.subheader,f=e.subheaderTypographyProps,y=e.title,g=e.titleTypographyProps,j=Object(r.a)(e,["action","avatar","classes","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"]),v=y;null==v||v.type===i.a||p||(v=c.createElement(i.a,Object(a.a)({variant:l?"body2":"h5",className:s.title,component:"span",display:"block"},g),v));var O=E;return null==O||O.type===i.a||p||(O=c.createElement(i.a,Object(a.a)({variant:l?"body2":"body1",className:s.subheader,color:"textSecondary",component:"span",display:"block"},f),O)),c.createElement(d,Object(a.a)({className:Object(o.a)(s.root,m),ref:t},j),l&&c.createElement("div",{className:s.avatar},l),c.createElement("div",{className:s.content},v,O),n&&c.createElement("div",{className:s.action},n))}));t.a=Object(l.a)({root:{display:"flex",alignItems:"center",padding:16},avatar:{flex:"0 0 auto",marginRight:16},action:{flex:"0 0 auto",alignSelf:"flex-start",marginTop:-8,marginRight:-8},content:{flex:"1 1 auto"},title:{},subheader:{}},{name:"MuiCardHeader"})(s)},277:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(16),o=n(7),l=n(55),i=n(105),s=n(35),m=({children:e,fallback:t=null})=>{const{round:n}=Object(o.h)(),{teams:a}=Object(s.a)();return a.some(e=>Object.keys(e.rounds).includes(n))?e:t},u=n(97),d=n(11),b=n(10);function p(){const e=Object(d.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  padding: 0.5rem 1rem;\n\n  > button {\n    flex: 1 1 100%;\n    margin: 0.25rem 0;\n  }\n"]);return p=function(){return e},e}var E=b.d.div(p()),f=n(26),y=Object(a.createContext)([]),g=n(8),j=n(117),v=n(1),O=n(2),x=(n(6),n(3)),h=n(208),k=n(4),C=a.forwardRef((function(e,t){var n=e.classes,r=e.className,c=e.raised,o=void 0!==c&&c,l=Object(O.a)(e,["classes","className","raised"]);return a.createElement(h.a,Object(v.a)({className:Object(x.a)(n.root,r),elevation:o?8:1,ref:t},l))})),w=Object(k.a)({root:{overflow:"hidden"}},{name:"MuiCard"})(C),S=n(213),T=n(260);function N(){const e=Object(d.a)(["\n  padding: 0.5rem;\n\n  span {\n    font-size: 11px;\n  }\n"]);return N=function(){return e},e}var I=Object(b.d)(T.a)(N()),P=n(176),K=n(79),R=n(50);function z(){const e=Object(d.a)(["\n  width: 100%;\n  display: flex;\n  justify-content: center;\n"]);return z=function(){return e},e}var F=Object(b.d)(R.a).attrs({align:"center",component:"div"})(z()),D=n(78),G=n(98),J=n(66),M=n(214),A=n(73);function B(){const e=Object(d.a)(["\n  display: grid;\n  grid-auto-flow: column;\n  align-items: center;\n  justify-content: center;\n  padding: 0;\n  gap: 5px;\n"]);return B=function(){return e},e}const H=Object(b.d)(M.a)(B());var L=({score:e,index:t,scoreIndex:n,onSuccess:l=g.noop,onClose:i=g.noop})=>{const{gameKey:s,round:m}=Object(o.h)(),[,u]=Object(a.useContext)(f.a),[d]=Object(c.b)();return r.a.createElement(H,{component:"div",disableTypography:!0},r.a.createElement(A.a,{color:"primary",cancelText:d("button.cancel"),confirmText:d("button.remove"),title:d("title.removeScore"),subtitle:d("messages.confirmRemoveScore"),size:"small",onConfirm:()=>{u(((e,t,n,a)=>({type:"S-",key:e,round:t,index:n,scoreIndex:a}))(s,m,t,n)),l()}}),r.a.createElement(R.a,{align:"center",variant:"body2"},e),r.a.createElement(G.a,{color:"primary",size:"small","aria-label":d("button.cancel"),onClick:i},r.a.createElement(J.a,null,"check")))},_=({index:e,score:t,scoreIndex:n})=>{const[c,o]=Object(a.useState)(!1),l=()=>o(!1),i=Object(D.a)({onLongPress:()=>o(!0)});return r.a.createElement(K.a,{active:c?0:1},r.a.createElement(L,{onClose:l,onSuccess:l,scoreIndex:n,score:t,index:e}),r.a.createElement(P.a,Object.assign({button:!0,dense:!0},i),r.a.createElement(F,{variant:"body2"},t)))},q=n(24);function Q(){const e=Object(d.a)(["\n  border-top: 1px solid ",";\n"]);return Q=function(){return e},e}const U=Object(b.d)(P.a)(Q(),q.b.border);var V=({rounds:e=[],round:t})=>r.a.createElement(U,{component:"div"},r.a.createElement(F,{variant:"overline"},e[t].reduce((e,t)=>t+e,0))),W=n(94),X=n(177);function Y(){const e=Object(d.a)(["\n  width: 100px;\n\n  input {\n    text-align: center;\n  }\n"]);return Y=function(){return e},e}var Z=Object(b.d)(X.a).attrs({margin:"dense",variant:"outlined",type:"text"})(Y());function $(){const e=Object(d.a)(["\n  padding: 16px;\n  text-align: center;\n"]);return $=function(){return e},e}const ee=b.d.div($());var te=({index:e,name:t,rounds:n,round:c,onEnter:o})=>{const l=n[c],[i,s]=Object(a.useContext)(y),m=i[e];return r.a.createElement("li",null,r.a.createElement(w,null,r.a.createElement(I,{title:t,titleTypographyProps:{align:"center"}}),r.a.createElement(ee,null,r.a.createElement(S.a,{component:"div",dense:!0},Object(g.map)(l,(t,n)=>r.a.createElement(_,{key:n,score:t,index:e,scoreIndex:n})),r.a.createElement(V,{rounds:n,round:c})),r.a.createElement(Z,{inputProps:{tabIndex:e+1,pattern:"-?\\d*"},onChange:({target:t})=>{s(i.map((n,a)=>a===e?t.value:n))},onKeyDown:Object(W.b)(o,e=>!!(e.key.length>1||/[0-9]|-|\.|,/.test(e.key))||(e.preventDefault(),!1)),value:m}))))};function ne(){const e=Object(d.a)(["\n  display: grid;\n  gap: 1rem;\n  grid-template-columns: repeat(auto-fill, minmax(130px, 1fr));\n  padding: 1rem;\n"]);return ne=function(){return e},e}var ae=b.d.ul(ne()),re=({teams:e=[],round:t,onSubmit:n=g.noop})=>Object(g.isEmpty)(e)?r.a.createElement(j.a,null):r.a.createElement(ae,null,e.map((e,a)=>r.a.createElement(te,Object.assign({key:e.name,index:a,round:t,onEnter:n},e)))),ce=n(179),oe=n(115),le=n(116),ie=n(53),se=({gameKey:e,round:t,onEnd:n=g.noop})=>{const[o,l]=Object(a.useState)(!1),[i]=Object(c.b)(),[,s]=Object(a.useContext)(f.a),m=()=>l(!o);return r.a.createElement(r.a.Fragment,null,r.a.createElement(E,null,r.a.createElement(u.a,{color:"primary",variant:"contained","aria-owns":o?"confirm-end-dialog":void 0,"aria-haspopup":"true",onClick:m},i("button.endGame"))),r.a.createElement(ce.a,{id:"confirm-end-dialog","aria-labelledby":"confirm-end-title","aria-describedby":"confirm-end-description",open:o,onClose:m},r.a.createElement(le.a,null,r.a.createElement(R.a,{variant:"h6",id:"confirm-end-title"},i("button.endGame")),r.a.createElement(R.a,{variant:"subtitle1",id:"confirm-end-description"},i("messages.confirmEndGame")),r.a.createElement(oe.a,null,r.a.createElement(u.a,{onClick:m},i("button.cancel")),r.a.createElement(u.a,{color:"primary",autoFocus:!0,onClick:()=>{s(Object(ie.c)(e,t)),l(!1),n(t)}},i("button.endGame"))))))},me=({round:e,onEnd:t})=>{const{gameKey:n}=Object(o.h)(),{teams:l=[]}=Object(s.a)(),[,i]=Object(a.useContext)(f.a),m=Array.from({length:l.length},()=>""),d=Object(a.useState)(m),[b]=Object(c.b)(),p=()=>{const[t,a]=d;t.some(e=>"number"===typeof Number(e))&&(i(((e,t,n)=>({type:"S++",key:e,round:t,scores:n}))(n,e,t.map(e=>Number.parseInt(e,10)))),a(m))};return r.a.createElement(y.Provider,{value:d},r.a.createElement(re,{teams:l,round:e,onSubmit:p}),r.a.createElement(E,null,r.a.createElement(u.a,{icon:"plus",color:"primary",variant:"contained",onClick:p},b("button.sum"))),r.a.createElement(se,{gameKey:n,round:e,onEnd:t}))},ue=n(58),de=n(75),be=({round:e,onSuccess:t=g.noop})=>{const[,n]=Object(a.useContext)(f.a),{gameKey:l}=Object(o.h)(),[i]=Object(c.b)();return r.a.createElement(A.a,{cancelText:i("button.cancel"),confirmText:i("button.remove"),title:i("title.removeTeam"),subtitle:i("messages.confirmRemoveRound"),color:"primary",fab:!0,size:"small",variant:"contained",onConfirm:()=>{t(),n(Object(de.b)(l,e))}})};function pe(){const e=Object(d.a)(["\n  && {\n    font-size: 0.875rem;\n    margin-left: 0.875rem;\n  }\n"]);return pe=function(){return e},e}function Ee(){const e=Object(d.a)(["\n  && {\n    font-size: 2rem;\n    text-align: right;\n    line-height: 1.2;\n  }\n"]);return Ee=function(){return e},e}const fe=Object(b.d)(R.a).attrs({variant:"overline"})(Ee()),ye=Object(b.d)(R.a).attrs({variant:"overline"})(pe());var ge=({teams:e,round:t,onDelete:n=g.noop})=>{const a=Object(g.sortBy)(e,({rounds:e})=>-e[t].reduce((e,t)=>t+e,0));return r.a.createElement(r.a.Fragment,null,r.a.createElement(S.a,{component:"div"},a.map(e=>r.a.createElement(P.a,{key:"".concat(e.name).concat(t)},r.a.createElement(M.a,{disableTypography:!0},r.a.createElement(ue.a,{display:!0,items:"center",justify:"space-between"},r.a.createElement(R.a,{variant:"body1"},e.name),r.a.createElement(fe,null,e.rounds[t].reduce((e,t)=>t+e,0))),r.a.createElement(ue.a,{component:"ul",display:!0,items:"center",justify:"flex-end"},Object(g.map)(e.rounds[t],(e,t)=>r.a.createElement("li",{key:t},r.a.createElement(ye,null,e)))))))),r.a.createElement(E,null,r.a.createElement(be,{round:t,onSuccess:n})))},je=n(69),ve=n(70),Oe=n(103),xe=n(104),he=()=>{const e=Object(o.g)();return r.a.createElement(je.a,null,r.a.createElement(G.a,{color:"inherit",onClick:()=>e(-1)},r.a.createElement(J.a,null,"arrow_back")),r.a.createElement(ve.a,{pl:"0.5rem"}),r.a.createElement(Oe.a,null),r.a.createElement(xe.a,null))},ke=n(74);t.default=()=>{const{gameKey:e,round:t}=Object(o.h)(),n=Object(s.a)(),[a]=Object(c.b)(),u=Object(o.g)(),d=()=>u("/games/".concat(e)),b=n&&n.round===t;return r.a.createElement(r.a.Fragment,null,r.a.createElement(he,null),r.a.createElement(i.a,null,r.a.createElement(m,{fallback:r.a.createElement(l.a,{icon:"warning",message:a("text.roundNotFound")})},b?r.a.createElement(me,{round:t,onEnd:d}):r.a.createElement(ge,{teams:n?n.teams:[],round:t,onDelete:d}))),r.a.createElement(ke.a,null))}}}]);
//# sourceMappingURL=r.05c09691.chunk.js.map