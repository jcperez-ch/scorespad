{"version":3,"sources":["themes/dark.js","themes/girlish.js","themes/colors.js","themes/screenSizes.js","themes/index.js","themes/minimal.js","common/Layout.js","common/Txt.js","common/Snackbar.js","common/StickyFabButton.js","components/game/context/Store.js","common/WarnPlaceholder.js","components/game/list/Empty.js","common/SlideItem.js","common/SlideLongRippleSwitch.js","common/useLongRipple.js","common/CommaList.js","common/button/Extended.js","common/styled/NameForm.js","utils/handlers.js","common/NameField.js","utils/validation.js","common/modal/Actions.js","common/modal/Content.js","common/modal/Confirm.js","components/game/action/Remove.js","components/game/actionCreators.js","components/game/form/Update.js","components/game/list/Item.js","components/game/list/List.js","components/PageViewTracker.js","components/Landing.js","components/game/Guard.js","components/game/useGame.js","components/game/context/Used.js","components/game/team/list/Empty.js","common/Flex.js","utils/flexStyles.js","components/game/team/action/Remove.js","components/game/team/actionCreators.js","components/game/team/form/Update.js","components/game/team/Championship.js","components/game/team/list/Item.js","components/game/team/list/List.js","components/game/action/Start.js","components/Game.js","components/game/round/Guard.js","common/ButtonsWrapper.js","components/game/context/Scores.js","common/card/Header.js","common/StyledScore.js","components/game/round/form/ScoreRemove.js","components/game/round/actionCreators.js","components/game/round/Score.js","components/game/round/Sum.js","components/game/round/list/Field.js","components/game/round/list/Item.js","components/game/round/list/Wrapper.js","components/game/round/list/List.js","components/game/round/action/End.js","components/game/Scores.js","components/game/round/Championship.js","components/Round.js","common/bar/Toolbar.js","common/bar/Title.js","common/EmptyBlock.js","components/locale/Context.js","components/locale/Menu.js","components/theme/Context.js","components/theme/Menu.js","components/Top.js","utils/store.js","common/Storage.js","components/theme/Provider.js","common/Spinner.js","components/locale/Provider.js","utils/gaTracking.js","components/game/team/reducer.js","components/game/reducer.js","components/game/Provider.js","common/SlideUp.js","common/dialog/Title.js","common/dialog/Headline.js","components/game/team/form/Create.js","common/styled/RoutePaper.js","components/game/form/ByName.js","utils/isSafari.js","common/qr/VideoStream.js","common/qr/Scan.js","components/game/form/ByScan.js","components/game/form/Create.js","components/game/action/Share.js","components/Root.js","i18n/index.js","serviceWorker.js","index.js"],"names":["fonts","screenSizes","smallerScreenMin","smallerScreenMax","smallScreenMin","smallScreenMax","mediumScreenMin","mediumScreenMax","largeScreenMin","largeScreenMax","extraLargeScreenMin","mui","createMuiTheme","palette","primary","main","light","dark","contrastText","secondary","background","default","paper","error","text","disabled","divider","typography","useNextVariants","fontFamily","fontSize","body1","body2","fontWeight","globalStyle","createGlobalStyle","themeColors","theme","paperBackground","border","actionDisabled","action","textDisabled","foregroundOnBackground","foregroundOnPrimary","foregroundOnSecondary","primaryDark","primaryLight","secondaryDark","secondaryLight","errorDark","errorLight","themeScreenSizes","minimal","overrides","girlish","Layout","styled","div","Txt","id","useTranslation","t","CommonSnackbar","children","onClose","onUpdate","props","Snackbar","anchorOrigin","vertical","horizontal","ContentProps","message","Button","key","variant","color","size","onClick","IconButton","aria-label","useStyles","makeStyles","fab","position","bottom","spacing","right","StickyFabButton","icon","tooltip","Tooltip","title","Fab","className","Icon","createContext","FullViewportHeight","WarnPlaceholder","Typography","component","GameListEmpty","activeCss","css","inactiveCss","SlideItem","ul","active","SlideLongRippleSwitch","count","Children","map","child","useLongRipple","onLongPress","noop","rippleDelay","useState","ripple","setRipple","handleTouchStart","handleTouchEnd","e","preventDefault","useEffect","timeout","setTimeout","clearTimeout","onMouseDown","onTouchStart","onTouchEnd","StyledCommaListItem","span","CommaList","items","attribute","keyedBy","item","startIcon","marginLeft","marginRight","ButtonExtended","label","hideLabel","classes","undefined","StyledNameForm","TARGET_NAME","Symbol","onEnter","cb","next","event","keyCode","onChange","prop","target","name","value","isNil","isFunction","NameField","handleChange","handleEnter","TextField","fullWidth","helperText","onKeyDown","useTeamValidation","onSubmit","errorMessage","submitCount","setSubmitCount","ModalActions","ModalContent","shadows","maxWidth","ModalConfirm","cancelText","confirmText","buttonText","subtitle","onConfirm","open","setOpen","toggleOpen","aria-owns","aria-haspopup","Modal","aria-labelledby","aria-describedby","autoFocus","GameActionRemove","onSuccess","useContext","GameStoreContext","dispatch","type","removeGame","GameFormUpdate","useValidation","renameGame","navigate","from","GameListItem","teams","newName","setNewName","handleViewMode","createdAt","Date","parseInt","rippleProps","ListItem","button","ListItemText","disableTypography","date","toDateString","length","GameList","onItemClick","games","isEmpty","List","game","PageViewTracker","memo","uri","window","ga","Landing","GameGuard","fallback","useGame","gameKey","useMemo","find","_","GameUsedContext","TeamListEmpty","Flex","Cmp","display","basis","direction","flex","justify","wrap","shrink","grow","style","Object","assign","flexDirection","flexBasis","alignItems","justifyContent","flexWrap","flexRow","flexCenterBetween","TeamActionRemove","index","teamName","removeTeam","TeamFormUpdate","renameTeam","StyledIcon","StyledButton","attrs","TeamChampionship","championship","handleClick","useCallback","TeamListItem","championships","rounds","round","onClickChampionship","reduce","sum","TeamList","team","GameActionStart","onStart","get","newRound","now","toString","addRound","Game","goToRound","Provider","RoundGuard","some","keys","includes","ButtonsWrapper","CardHeader","MuiCardHeader","StyledScore","align","StyledListItemText","RoundScoreRemove","score","scoreIndex","removeScore","GameRoundScore","canClose","setCanClose","dense","StyledListItem","GameRoundSum","RoundListField","margin","StyledRoundListItemContent","RoundListItem","teamScores","GameScoresContext","roundScores","setRoundScores","teamScoreValue","Card","titleTypographyProps","inputProps","tabIndex","pattern","i","RoundListWrapper","RoundList","RoundActionEnd","onEnd","endRound","GameScores","initialState","Array","state","handleSubmit","scores","setScores","Number","addScores","StyledSumScore","Championship","sortedTeams","sortBy","Round","isActive","StyledAppBar","StyledToolbar","BarToolbar","BarTitle","h2","pl","EmptyBlock","LocaleMenu","el","setEl","LocaleContext","locale","setLocale","currentTarget","Menu","anchorEl","Boolean","MenuItem","selected","ThemeMenu","ThemeContext","setTheme","TopLanding","TopRound","TopGame","disableTouchListener","store","Store","LocalStorage","set","ThemeProvider","initial","themes","Global","themeRef","Storage","MuiThemeProvider","spinKeyframe","keyframes","SpinnerElement","Spinner","role","LocaleProvider","i18n","language","changeLanguage","gaTrackingEnhancer","reducer","payload","toISOString","reduceTeam","reduceFunction","reducedTeam","filter","isNameUsed","createTeam","every","isNaN","addChampionship","reduceGame","gameTeamsReducer","teamsReducer","selectRound","totals","winnerIndex","winner","createGame","importGame","k","GameProvider","gameStore","useReducer","gaTracking","gameState","forwardRef","ref","Slide","StyledWrapper","h4","StyledContainer","StyledText","DialogHeadline","gutterBottom","TeamFormCreate","setName","handleClose","Dialog","fullScreen","TransitionComponent","SlideUp","DialogContent","DialogActions","root","padding","CommonRoutePaper","Paper","elevation","GameFormByName","isSafari","ua","navigator","userAgent","toLowerCase","indexOf","videoStyles","CommonVideoStream","Component","stream","streamWidth","streamHeight","video","canvasContext","stopCamera","this","getTracks","stop","startCamera","async","mediaDevices","getUserMedia","Error","cameras","enumerateDevices","device","kind","videoMode","facingMode","cameraIndex","rearCamera","cameraEnv","exact","deviceId","audio","srcObject","mozSrcObject","URL","createObjectURL","src","webkitURL","playsInline","play","streamLoadedPromise","videoWidth","videoHeight","canvas","document","createElement","width","height","getContext","Promise","resolve","reject","addEventListener","once","captureFrame","drawImage","getImageData","drawFrame","requestAnimationFrame","data","onFrame","onInit","strean","setState","componentWillUnmount","render","v","defaultProps","CommonQrScan","videoStyle","shouldDecode","fallbackCode","fallbackMedia","tryAgainButtonLabel","giveUpButtonLabel","onCode","webWorker","useRef","drawVideoFrame","codeError","setCodeError","onFrameDecoded","code","JSON","parse","current","Worker","process","terminate","appliedStyle","overflow","paddingRight","VideoStream","frameData","postMessage","GameFormByScan","setCode","handleScan","newCode","subheader","newGame","GameFormCreate","goToGame","Tabs","route","Tab","path","GameActionShare","location","dataUrl","setDataUrl","matchesLarge","useMediaQuery","handleGenerate","QRCode","toDataURL","getElementById","stringify","onExited","textAlign","alt","Fragoute","Root","hasUpdate","updateWarning","setUpdateWarning","basepath","Fragment","to","getI18n","use","initReactI18next","init","fallbackLng","lng","debug","resources","es","translation","en","fr","isLocalhost","hostname","match","registerValidSW","swUrl","config","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","log","catch","rootElement","start","all","localStorage","browserGames","getItem","browserTheme","browserLocale","clear","getInitialState","href","origin","fetch","response","contentType","headers","status","ready","unregister","reload","checkValidServiceWorker","caches","cacheKey","cache","requests","request","delete"],"mappings":"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","file":"static/js/main.ff662cf4.chunk.js","sourcesContent":["import { createGlobalStyle } from 'styled-components'\nimport { createMuiTheme } from '@material-ui/core/styles'\n\nconst mui = createMuiTheme({\n  palette: {\n    primary: {\n      main: '#607d8b',\n      light: '#ffff00',\n      dark: '#78909c',\n      contrastText: '#eceff1',\n    },\n    secondary: {\n      main: '#b0bec5',\n      light: '#90a4ae',\n      dark: '#60748e',\n      contrastText: '#cfd8dc',\n    },\n    background: {\n      default: '#212121',\n      paper: '#455a64',\n    },\n    error: {\n      main: '#d84315',\n    },\n    text: {\n      primary: '#e0e0e0',\n      secondary: '#eeeeee',\n      disabled: '#9e9e9e',\n    },\n    divider: 'rgba(200, 210, 220, 0.42)',\n  },\n  typography: {\n    useNextVariants: true,\n    fontFamily: ['Raleway'],\n    fontSize: 17,\n    body1: {\n      fontSize: '1.4rem',\n    },\n    body2: {\n      fontWeight: 400,\n      fontSize: '0.8rem',\n    },\n  },\n})\n\nexport default {\n  fonts: ['Raleway'],\n  screenSizes: {\n    smallerScreenMin: '321px',\n    smallerScreenMax: '480px',\n    smallScreenMin: '481px',\n    smallScreenMax: '768px',\n    mediumScreenMin: '769px',\n    mediumScreenMax: '1024px',\n    largeScreenMin: '1025px',\n    largeScreenMax: '1440px',\n    extraLargeScreenMin: '1441px',\n  },\n  mui,\n  globalStyle: createGlobalStyle`\n    @import url('https://fonts.googleapis.com/css?family=Raleway&display=swap');\n  `,\n}\n","import { createGlobalStyle } from 'styled-components'\nimport { createMuiTheme } from '@material-ui/core/styles'\n\nconst mui = createMuiTheme({\n  palette: {\n    primary: {\n      main: '#e91e63',\n      light: '#f06292',\n      dark: '#c2185b',\n      contrastText: '#fce4ec',\n    },\n    secondary: {\n      main: '#b50b70',\n      light: '#c33b8c',\n      dark: '#7e074e',\n      contrastText: '#ffffff',\n    },\n    background: {\n      default: '#78d7e6',\n      paper: '#fce4ec',\n    },\n    error: {\n      main: '#ffeb3b',\n    },\n    text: {\n      primary: '#ad1457',\n      secondary: '#ec407a',\n      disabled: '#FD1687',\n    },\n    divider: 'rgba(0, 0, 0, 0.42)',\n  },\n  typography: {\n    useNextVariants: true,\n    fontFamily: ['Fredoka One'],\n    fontSize: 17,\n    body1: {\n      fontSize: '1.4rem',\n    },\n    body2: {\n      fontWeight: 400,\n      fontSize: '0.8rem',\n    },\n  },\n})\n\nexport default {\n  fonts: ['Fredoka One'],\n  screenSizes: {\n    smallerScreenMin: '321px',\n    smallerScreenMax: '480px',\n    smallScreenMin: '481px',\n    smallScreenMax: '768px',\n    mediumScreenMin: '769px',\n    mediumScreenMax: '1024px',\n    largeScreenMin: '1025px',\n    largeScreenMax: '1440px',\n    extraLargeScreenMin: '1441px',\n  },\n  mui,\n  globalStyle: createGlobalStyle`\n    @import url('https://fonts.googleapis.com/css?family=Fredoka+One');\n  `,\n}\n","const themeColors = {\n  background: ({ theme = {} } = {}) => theme.mui.palette.background.default,\n  paperBackground: ({ theme = {} } = {}) => theme.mui.palette.background.paper,\n  border: ({ theme = {} } = {}) => theme.mui.palette.divider,\n  actionDisabled: ({ theme = {} } = {}) => theme.mui.palette.action.disabled,\n  textDisabled: ({ theme = {} } = {}) => theme.mui.palette.text.disabled,\n  foregroundOnBackground: ({ theme = {} } = {}) => theme.mui.palette.secondary.main,\n  foregroundOnPrimary: ({ theme = {} } = {}) => theme.mui.palette.primary.contrastText,\n  foregroundOnSecondary: ({ theme = {} } = {}) => theme.mui.palette.secondary.contrastText,\n  primary: ({ theme = {} } = {}) => theme.mui.palette.primary.main,\n  primaryDark: ({ theme = {} } = {}) => theme.mui.palette.primary.dark,\n  primaryLight: ({ theme = {} } = {}) => theme.mui.palette.primary.light,\n  secondary: ({ theme = {} } = {}) => theme.mui.palette.secondary.main,\n  secondaryDark: ({ theme = {} } = {}) => theme.mui.palette.secondary.dark,\n  secondaryLight: ({ theme = {} } = {}) => theme.mui.palette.secondary.light,\n  error: ({ theme = {} } = {}) => theme.mui.palette.error.main,\n  errorDark: ({ theme = {} } = {}) => theme.mui.palette.error.dark,\n  errorLight: ({ theme = {} } = {}) => theme.mui.palette.error.light,\n}\n\nexport default themeColors\n","const themeScreenSizes = {\n  smallerScreenMin: ({ theme = {} } = {}) => theme.screenSizes.smallerScreenMin,\n  smallerScreenMax: ({ theme = {} } = {}) => theme.screenSizes.smallerScreenMax,\n  smallScreenMin: ({ theme = {} } = {}) => theme.screenSizes.smallScreenMin,\n  smallScreenMax: ({ theme = {} } = {}) => theme.screenSizes.smallScreenMax,\n  mediumScreenMin: ({ theme = {} } = {}) => theme.screenSizes.mediumScreenMin,\n  mediumScreenMax: ({ theme = {} } = {}) => theme.screenSizes.mediumScreenMax,\n  largeScreenMin: ({ theme = {} } = {}) => theme.screenSizes.largeScreenMin,\n  largeScreenMax: ({ theme = {} } = {}) => theme.screenSizes.largeScreenMax,\n  extraLargeScreenMin: ({ theme = {} } = {}) => theme.screenSizes.extraLargeScreenMin,\n}\n\nexport default themeScreenSizes\n","import dark from './dark'\nimport girlish from './girlish'\nimport minimal from './minimal'\nimport themeColors from './colors'\nimport themeScreenSizes from './screenSizes'\n\nexport { themeColors, themeScreenSizes }\n\nexport default { minimal, girlish, dark }\n","import { createGlobalStyle } from 'styled-components'\nimport { createMuiTheme } from '@material-ui/core/styles'\n\nconst mui = createMuiTheme({\n  palette: {\n    primary: {\n      main: '#2b73bd',\n      light: '#558fca',\n      dark: '#1e5084',\n      contrastText: '#FFFFFF',\n    },\n    secondary: {\n      main: '#03a9f4',\n      light: '#35baf6',\n      dark: '#0276aa',\n      contrastText: '#CCCCCC',\n    },\n    background: {\n      default: '#f3f3f3',\n      paper: '#fff',\n    },\n    error: {\n      main: '#d9534f',\n    },\n  },\n  typography: {\n    useNextVariants: true,\n    fontFamily: ['Montserrat Alternates'],\n    fontSize: 16,\n    body1: {\n      fontSize: '1.2rem',\n    },\n    body2: {\n      fontWeight: 400,\n      fontSize: '0.75rem',\n    },\n  },\n  overrides: {},\n})\n\nexport default {\n  fonts: ['Montserrat Alternates'],\n  screenSizes: {\n    smallerScreenMin: '321px',\n    smallerScreenMax: '480px',\n    smallScreenMin: '481px',\n    smallScreenMax: '768px',\n    mediumScreenMin: '769px',\n    mediumScreenMax: '1024px',\n    largeScreenMin: '1025px',\n    largeScreenMax: '1440px',\n    extraLargeScreenMin: '1441px',\n  },\n  mui,\n  globalStyle: createGlobalStyle`\n    @import url('https://fonts.googleapis.com/css?family=Montserrat+Alternates:400,500,800&subset=latin-ext');\n  `,\n}\n","import styled from 'styled-components'\nimport { themeColors } from 'themes'\n\nconst Layout = styled.div`\n  background-color: ${themeColors.background};\n  color: ${themeColors.foregroundOnBackground};\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  height: auto;\n  min-height: 100vh;\n`\n\nexport default Layout\n","import { useTranslation } from 'react-i18next'\n\nconst Txt = ({ id }) => {\n  const [t] = useTranslation()\n\n  return t(id)\n}\n\nexport default Txt\n","import React from 'react'\nimport Button from '@material-ui/core/Button'\nimport Snackbar from '@material-ui/core/Snackbar'\nimport IconButton from '@material-ui/core/IconButton'\nimport CloseIcon from '@material-ui/icons/Close'\n\nimport Txt from 'common/Txt'\n\nconst CommonSnackbar = ({\n  children, onClose, onUpdate, ...props\n}) => (\n  <Snackbar\n    anchorOrigin={{\n      vertical: 'bottom',\n      horizontal: 'center',\n    }}\n    ContentProps={{\n      'aria-describedby': 'message-id',\n    }}\n    message={children}\n    action={[\n      onUpdate && (\n        <Button key=\"undo\" variant=\"outlined\" color=\"primary\" size=\"small\" onClick={onUpdate}>\n          <Txt id=\"button.update\" />\n        </Button>\n      ),\n      <IconButton\n        key=\"close\"\n        aria-label=\"close\"\n        color=\"primary\"\n        onClick={onClose}\n      >\n        <CloseIcon />\n      </IconButton>,\n    ]}\n    {...props}\n    onClose={onClose}\n  />\n)\n\nexport default CommonSnackbar\n","import React from 'react'\nimport Fab from '@material-ui/core/Fab'\nimport Icon from '@material-ui/core/Icon'\nimport Tooltip from '@material-ui/core/Tooltip'\nimport { makeStyles } from '@material-ui/styles'\n\nconst useStyles = makeStyles((theme) => ({\n  fab: {\n    position: 'absolute',\n    bottom: theme.spacing(2),\n    right: theme.spacing(2),\n  },\n}))\n\nconst StickyFabButton = ({ icon, tooltip, ...props }) => {\n  const { fab } = useStyles()\n  return (\n    <Tooltip title={tooltip}>\n      <Fab className={fab} {...props}>\n        <Icon>{icon}</Icon>\n      </Fab>\n    </Tooltip>\n  )\n}\n\nexport default StickyFabButton\n","import { createContext } from 'react'\n\nexport default createContext(null)\n","import React from 'react'\nimport styled from 'styled-components'\nimport Icon from '@material-ui/core/Icon'\nimport Typography from '@material-ui/core/Typography'\nimport { themeColors, themeScreenSizes } from 'themes'\n\nconst FullViewportHeight = styled.div`\n  align-items: center;\n  background-color: ${themeColors.paperBackground};\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  max-height: 100vh;\n  justify-content: center;\n\n  > aside {\n    flex: 0 0 auto;\n    font-size: 60vw;\n\n    @media (min-width: ${themeScreenSizes.smallScreenMin}) {\n      font-size: 35vw;\n    }\n    @media (min-width: ${themeScreenSizes.mediumScreenMin}) {\n      font-size: 400px;\n    }\n  }\n  > div {\n    flex: 0 0 auto;\n    padding: ${({ theme = {} } = {}) => theme.mui.spacing(1)}px;\n    text-align: center;\n  }\n`\n\nconst WarnPlaceholder = ({ color = 'primary', icon, message }) => (\n  <FullViewportHeight>\n    <aside>\n      <Icon color={color} fontSize=\"inherit\">\n        {icon}\n      </Icon>\n    </aside>\n    <Typography color={color} component=\"div\" variant=\"body1\">\n      {message}\n    </Typography>\n  </FullViewportHeight>\n)\n\nexport default WarnPlaceholder\n","import React from 'react'\nimport { useTranslation } from 'react-i18next'\nimport WarnPlaceholder from 'common/WarnPlaceholder'\n\nconst GameListEmpty = () => {\n  const [t] = useTranslation()\n  return <WarnPlaceholder icon=\"games\" message={t('text.noGames')} />\n}\n\nexport default GameListEmpty\n","import styled, { css } from 'styled-components'\n\nconst activeCss = css`\n  transition-delay: 0s;\n  opacity: 1;\n  max-height: none;\n`\n\nconst inactiveCss = css`\n  visibility: hidden;\n  opacity: 0;\n  max-height: 0;\n`\n\nconst SlideItem = styled.ul`\n  display: grid;\n  grid-template: 'unique' auto / auto;\n  position: relative;\n\n  & > li {\n    grid-area: unique;\n    transition: opacity 250ms ease, visibility 0s ease 240ms;\n\n    &:first-child {\n      ${({ active = false }) => (active ? inactiveCss : activeCss)}\n    }\n    &:last-child {\n      ${({ active = false }) => (active ? activeCss : inactiveCss)}\n    }\n  }\n`\n\nexport default SlideItem\n","import React, { Children } from 'react'\nimport SlideItem from 'common/SlideItem'\n\nconst SlideLongRippleSwitch = ({\n  children, active = 0,\n}) => {\n  const count = Children.count(children)\n  return (\n    <SlideItem active={active} count={count}>\n      {Children.map(children, (child) => (\n        <li key={child.key}>{child}</li>\n      ))}\n    </SlideItem>\n  )\n}\n\nexport default SlideLongRippleSwitch\n","import { useState, useEffect } from 'react'\nimport { noop } from 'lodash'\n\nconst useLongRipple = ({\n  onLongPress = noop,\n  onClick = noop,\n  rippleDelay = 800,\n}) => {\n  const [ripple, setRipple] = useState(null)\n  const handleTouchStart = () => setRipple(true)\n  const handleTouchEnd = (e) => {\n    e.preventDefault()\n    if (ripple) {\n      onClick(e)\n      setRipple(null)\n    } else if (ripple === false) {\n      setRipple(null)\n    }\n  }\n  useEffect(() => {\n    if (ripple) {\n      const timeout = setTimeout(() => {\n        setRipple(false)\n        onLongPress()\n      }, rippleDelay)\n      return () => clearTimeout(timeout)\n    }\n    return noop\n  }, [ripple, onLongPress, rippleDelay])\n  return {\n    onMouseDown: handleTouchStart,\n    onTouchStart: handleTouchStart,\n    onTouchEnd: handleTouchEnd,\n    onClick: handleTouchEnd,\n  }\n}\n\nexport default useLongRipple\n","import React from 'react'\nimport styled from 'styled-components'\n\nconst StyledCommaListItem = styled.span`\n  &:after {\n    content: ', ';\n  }\n  &:last-child:after {\n    content: none;\n  }\n`\n\nconst CommaList = ({ items, attribute = 'name', keyedBy = 'id' }) => items.map((item) => (\n  <StyledCommaListItem key={item[keyedBy]}>\n    {item[attribute]}\n  </StyledCommaListItem>\n))\n\nexport default CommaList\n","import React from 'react'\nimport Button from '@material-ui/core/Button'\nimport Icon from '@material-ui/core/Icon'\nimport { makeStyles } from '@material-ui/styles'\n\nconst useStyles = makeStyles({\n  startIcon: {\n    marginLeft: '0',\n    marginRight: '0',\n  },\n})\n\nconst ButtonExtended = ({\n  label, hideLabel = false, icon, color = 'primary', size = 'small', ...props\n}) => {\n  const { startIcon } = useStyles()\n  return (\n    <Button\n      variant=\"outlined\"\n      classes={hideLabel ? { startIcon } : undefined}\n      startIcon={typeof icon === 'string' ? <Icon className=\"icon\">{icon}</Icon> : icon}\n      aria-label={label}\n      color={color}\n      size={size}\n      {...props}\n    >\n      {!hideLabel && <span className=\"label\">{label}</span>}\n    </Button>\n  )\n}\n\nexport default ButtonExtended\n","import styled from 'styled-components'\n\nconst StyledNameForm = styled.div`\n  display: grid;\n  gap: 10px;\n  padding: 10px;\n\n  > .field {\n    display: grid;\n    gap: 10px;\n    grid-template-columns: 1fr auto;\n  }\n  > .buttons {\n    display: grid;\n    gap: 10px;\n    grid-auto-flow: column;\n    justify-content: start;\n  }\n`\n\nexport default StyledNameForm\n","import { isFunction, isNil, noop } from 'lodash';\n\nexport const TARGET_NAME = Symbol('TARGET_NAME');\n\nexport const onEnter = (cb, next = noop) => (event) => {\n  if (event.keyCode === 13) {\n    event.preventDefault();\n    cb();\n  }\n  next(event);\n};\n\nexport const onChange = (cb, prop = null, next = noop) => (event) => {\n  event.preventDefault();\n  const { name, value } = event.target;\n  if (isNil(prop) || isFunction(prop)) {\n    cb(value);\n  } else {\n    cb(prop === TARGET_NAME ? { [name]: value } : { [prop]: value });\n  }\n\n  if (isFunction(prop)) {\n    prop(event);\n  } else {\n    next(event);\n  }\n};\n\nconst handlers = {\n  onEnter,\n};\n\nexport default handlers;\n","import React from 'react'\nimport TextField from '@material-ui/core/TextField'\n\nimport { onChange, onEnter } from 'utils/handlers'\n\nconst NameField = ({ onChange: handleChange, onEnter: handleEnter, error = null, ...props }) => (\n  <TextField error={!!error} fullWidth helperText={error} onChange={onChange(handleChange)} onKeyDown={onEnter(handleEnter)} {...props} />\n)\n\nexport default NameField\n","import { useState } from 'react'\nimport { useTranslation } from 'react-i18next'\n\nconst useTeamValidation = ({ name, onSubmit, errorMessage }) => {\n  const [t] = useTranslation()\n  const [submitCount, setSubmitCount] = useState(0)\n  return {\n    error: submitCount === 0 || name ? null : t(errorMessage),\n    onSubmit: () => {\n      setSubmitCount(submitCount + 1)\n      if (name) {\n        onSubmit()\n      }\n    },\n  }\n}\n\nexport default useTeamValidation\n","import styled from 'styled-components'\n\nconst ModalActions = styled.div`\n  padding: 2.5rem 0 0;\n  display: grid;\n  gap: 10px;\n  grid-auto-flow: column;\n  justify-content: end;\n`\n\nexport default ModalActions\n","import styled from 'styled-components'\nimport { themeColors, themeScreenSizes } from 'themes'\n\nconst ModalContent = styled.div`\n  background-color: ${themeColors.paperBackground};\n  box-shadow: ${({ theme = {} } = {}) => theme.mui.shadows[5]};\n  left: 50%;\n  padding: 1.5rem;\n  position: absolute;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  width: 80vw;\n\n  @media (min-width: ${themeScreenSizes.smallScreenMin}) {\n    width: auto;\n    max-width: 65vw;\n  }\n  @media (min-width: ${themeScreenSizes.mediumScreenMin}) {\n    max-width: ${(props) => props.maxWidth || '400px'};\n  }\n`\n\nexport default ModalContent\n","import React, { useState } from 'react'\nimport Button from '@material-ui/core/Button'\nimport IconButton from '@material-ui/core/IconButton'\nimport Icon from '@material-ui/core/Icon'\nimport Modal from '@material-ui/core/Modal'\nimport Typography from '@material-ui/core/Typography'\n\nimport ButtonExtended from '../button/Extended'\nimport ModalActions from './Actions'\nimport ModalContent from './Content'\n\nconst ModalConfirm = ({\n  children,\n  cancelText,\n  confirmText,\n  buttonText = confirmText,\n  title,\n  subtitle,\n  icon = 'delete_outline',\n  fab = false,\n  onConfirm,\n  ...props\n}) => {\n  const [open, setOpen] = useState(false)\n  const toggleOpen = () => setOpen(!open)\n  const handleClose = () => setOpen(false)\n  return (\n    <>\n      {fab ? (\n        <ButtonExtended {...props} icon={icon} label={buttonText} onClick={toggleOpen} />\n      ) : (\n        <IconButton\n          {...props}\n          aria-label={buttonText}\n          aria-owns={open ? 'confirm-dialog' : undefined}\n          aria-haspopup=\"true\"\n          onClick={toggleOpen}\n        >\n          <Icon>{icon}</Icon>\n        </IconButton>\n      )}\n      <Modal\n        id=\"confirm-dialog\"\n        aria-labelledby=\"confirm-title\"\n        aria-describedby=\"confirm-description\"\n        open={open}\n        onClose={toggleOpen}\n      >\n        <ModalContent>\n          <Typography variant=\"h6\" id=\"confirm-title\">\n            {title}\n          </Typography>\n          <Typography variant=\"subtitle1\" id=\"confirm-description\">\n            {subtitle}\n          </Typography>\n          {children}\n          <ModalActions>\n            {cancelText && <Button variant=\"contained\" onClick={toggleOpen}>{cancelText}</Button>}\n            <Button variant=\"contained\" color=\"primary\" autoFocus onClick={onConfirm || handleClose}>\n              {confirmText}\n            </Button>\n          </ModalActions>\n        </ModalContent>\n      </Modal>\n    </>\n  )\n}\n\nexport default ModalConfirm\n","import React, { useContext } from 'react'\nimport { noop } from 'lodash'\nimport { useTranslation } from 'react-i18next'\n\nimport ModalConfirm from 'common/modal/Confirm'\n\nimport GameStoreContext from 'components/game/context/Store'\nimport { removeGame } from '../actionCreators'\n\nconst GameActionRemove = ({ id, onSuccess = noop }) => {\n  const [, dispatch] = useContext(GameStoreContext)\n  const [t] = useTranslation()\n  const handleRemove = () => {\n    dispatch(removeGame(id))\n    onSuccess()\n  }\n  return (\n    <ModalConfirm\n      cancelText={t('button.cancel')}\n      confirmText={t('button.remove')}\n      title={t('title.removeGame')}\n      subtitle={t('messages.confirmRemoveGame')}\n      hideLabel\n      fab\n      color=\"primary\"\n      size=\"small\"\n      onConfirm={handleRemove}\n    />\n  )\n}\n\nexport default GameActionRemove\n","export const createState = (state) => ({\n  type: '-- --',\n  ...state,\n})\n\nexport const createGame = (key, name) => ({\n  type: 'G+',\n  key,\n  name,\n})\n\nexport const importGame = (key, game) => ({\n  type: 'G++',\n  key,\n  game,\n})\n\nexport const removeGame = (key) => ({\n  type: 'G-',\n  key,\n})\n\nexport const renameGame = (key, name) => ({\n  type: 'G=',\n  key,\n  name,\n})\n\nexport const endRound = (key, round) => ({\n  type: 'G$',\n  key,\n  round,\n})\n\nexport const addRound = (key, round) => ({\n  type: 'R+',\n  key,\n  round,\n})\n","import React, { useContext } from 'react'\nimport { useTranslation } from 'react-i18next'\nimport { navigate } from '@reach/router'\nimport { noop } from 'lodash'\nimport Fab from '@material-ui/core/Fab'\nimport Icon from '@material-ui/core/Icon'\n\nimport ButtonExtended from 'common/button/Extended'\nimport StyledNameForm from 'common/styled/NameForm'\nimport NameField from 'common/NameField'\nimport GameStoreContext from 'components/game/context/Store'\nimport useValidation from 'utils/validation'\n\nimport GameActionRemove from '../action/Remove'\nimport { renameGame } from '../actionCreators'\n\nconst GameFormUpdate = ({ id, name, onChange = noop, onSuccess = noop, onClose = noop }) => {\n  const [, dispatch] = useContext(GameStoreContext)\n  const [t] = useTranslation()\n  const { error, onSubmit } = useValidation({\n    name,\n    errorMessage: 'errors.requiredGameName',\n    onSubmit: () => {\n      dispatch(renameGame(id, name))\n      onSuccess()\n    },\n  })\n  const handleShare = () => navigate(`share/${id}`, { from: '../..' })\n\n  return (\n    <StyledNameForm component=\"div\">\n      <div className=\"field\">\n        <NameField label={t('placeholder.gameName')} onChange={onChange} onEnter={onSubmit} error={error} value={name} />\n        <Fab color=\"primary\" size=\"small\" aria-label={t('button.rename')} onClick={onSubmit}>\n          <Icon>check</Icon>\n        </Fab>\n      </div>\n      <div className=\"buttons\">\n        <ButtonExtended icon=\"cancel\" label={t('button.cancel')} onClick={onClose} />\n        <ButtonExtended icon=\"mobile_screen_share\" label={t('button.share')} onClick={handleShare} />\n        <GameActionRemove id={id} />\n      </div>\n    </StyledNameForm>\n  )\n}\n\nexport default GameFormUpdate\n","import React, { useState } from 'react'\nimport { useTranslation } from 'react-i18next'\nimport ListItem from '@material-ui/core/ListItem'\nimport Typography from '@material-ui/core/Typography'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport SlideLongRippleSwitch from 'common/SlideLongRippleSwitch'\nimport useLongRipple from 'common/useLongRipple'\nimport CommaList from 'common/CommaList'\n\nimport GameFormUpdate from '../form/Update'\n\nconst GameListItem = ({\n  onClick, id, name, teams,\n}) => {\n  const [newName, setNewName] = useState(null)\n  const [t] = useTranslation()\n  const handleEditMode = () => setNewName(name)\n  const handleViewMode = () => setNewName(null)\n  const handleClick = () => onClick(id)\n  const createdAt = new Date(parseInt(id, 36))\n  const rippleProps = useLongRipple({ onLongPress: handleEditMode, onClick: handleClick })\n\n  return (\n    <SlideLongRippleSwitch active={newName === null ? 1 : 0}>\n      <GameFormUpdate\n        id={id}\n        name={newName || ''}\n        onChange={setNewName}\n        onClose={handleViewMode}\n        onSuccess={handleViewMode}\n      />\n      <ListItem button {...rippleProps}>\n        <ListItemText\n          disableTypography\n          secondary={(\n            <>\n              <Typography variant=\"body2\">\n                {t('messages.createdAt', { date: createdAt.toDateString() })}\n              </Typography>\n              {teams.length > 0 && (\n                <Typography variant=\"overline\">\n                  <CommaList items={teams} keyedBy=\"name\" attribute=\"name\" />\n                </Typography>\n              )}\n            </>\n          )}\n        >\n          <Typography variant=\"body1\">{name}</Typography>\n        </ListItemText>\n      </ListItem>\n    </SlideLongRippleSwitch>\n  )\n}\n\nexport default GameListItem\n","import React, { useContext } from 'react'\nimport { isEmpty, map } from 'lodash'\nimport List from '@material-ui/core/List'\n\nimport GameStoreContext from 'components/game/context/Store'\nimport GameListEmpty from './Empty'\nimport GameListItem from './Item'\n\nconst GameList = ({ onItemClick }) => {\n  const [games] = useContext(GameStoreContext)\n  return isEmpty(games) ? (\n    <GameListEmpty />\n  ) : (\n    <List component=\"div\">\n      {map(games, (game, key) => (\n        <GameListItem key={key} id={key} onClick={onItemClick} {...game} />\n      ))}\n    </List>\n  )\n}\n\nexport default GameList\n","import { memo } from 'react'\n\nconst PageViewTracker = memo(({ uri }) => {\n  if (window.ga) {\n    window.ga('send', 'pageview', uri)\n  }\n  return null\n})\n\nexport default PageViewTracker\n","import React from 'react'\nimport { useTranslation } from 'react-i18next'\nimport StickyFabButton from 'common/StickyFabButton'\n\nimport GameList from './game/list/List'\nimport PageViewTracker from './PageViewTracker'\n\nconst Landing = ({ navigate, uri }) => {\n  const [t] = useTranslation()\n  const goToGame = (id) => navigate(`games/${id}`)\n  const goToCreateGame = () => navigate('game')\n\n  return (\n    <>\n      <GameList onItemClick={goToGame} />\n      <StickyFabButton\n        tooltip={t('button.createGame')}\n        color=\"primary\"\n        aria-haspopup=\"true\"\n        aria-label={t('button.createGame')}\n        icon=\"add\"\n        onClick={goToCreateGame}\n      />\n      <PageViewTracker uri={uri} />\n    </>\n  )\n}\n\nexport default Landing\n","import React from 'react'\nimport { useTranslation } from 'react-i18next'\nimport WarnPlaceholder from 'common/WarnPlaceholder'\n\nconst GameGuard = ({ children, game, fallback }) => {\n  const [t] = useTranslation()\n\n  if (game) {\n    return children\n  }\n\n  return fallback === undefined ? <WarnPlaceholder icon=\"warning\" message={t('text.gameNotFound')} /> : fallback\n}\n\nexport default GameGuard\n","import { useContext, useMemo } from 'react'\nimport { find } from 'lodash'\n\nimport GameStoreContext from 'components/game/context/Store'\n\nconst useGame = ({ gameKey }) => {\n  const [games] = useContext(GameStoreContext)\n  return useMemo(() => find(games, (_, key) => gameKey === key), [games, gameKey])\n}\n\nexport default useGame\n","import { createContext } from 'react'\n\nconst GameUsedContext = createContext(null)\n\nexport default GameUsedContext\n","import React from 'react'\nimport { useTranslation } from 'react-i18next'\nimport WarnPlaceholder from 'common/WarnPlaceholder'\n\nconst TeamListEmpty = () => {\n  const [t] = useTranslation()\n  return <WarnPlaceholder icon=\"people\" message={t('text.noTeams')} />\n}\n\nexport default TeamListEmpty\n","import React from 'react'\n\nconst Flex = ({\n  component: Cmp = 'div',\n  display,\n  basis,\n  direction,\n  flex,\n  items,\n  justify,\n  wrap,\n  children,\n  shrink,\n  grow,\n  ...props\n}) => {\n  const style = Object.assign(\n    display ? { display: 'flex' } : {},\n    flex ? { flex } : {},\n    direction ? { flexDirection: direction } : {},\n    basis ? { flexBasis: basis } : {},\n    items ? { alignItems: items } : {},\n    justify ? { justifyContent: justify } : {},\n    wrap ? { flexWrap: wrap } : {},\n    shrink ? { flexWrap: shrink } : {},\n    grow ? { flexWrap: grow } : {},\n  )\n  return (\n    <Cmp style={style} {...props}>\n      {children}\n    </Cmp>\n  )\n}\n\nexport default Flex\n","export const flexRow = {\n  display: 'flex',\n  flexDirection: 'row',\n};\n\nexport const flexCenterBetween = {\n  ...flexRow,\n  alignItems: 'center',\n  justifyContent: 'space-between',\n};\n\nexport const flexCenterEnd = {\n  ...flexRow,\n  alignItems: 'center',\n  justifyContent: 'flex-end',\n};\n\nexport const flexCenterStart = {\n  ...flexRow,\n  alignItems: 'center',\n  justifyContent: 'flex-start',\n};\n\nexport const flexCenterWrap = {\n  ...flexRow,\n  flexWrap: 'wrap',\n  alignItems: 'center',\n  justifyContent: 'center',\n};\n\nconst flexStyles = {\n  flexCenterBetween,\n  flexCenterStart,\n  flexCenterWrap,\n};\n\nexport default flexStyles;\n","import React, { useContext } from 'react'\nimport { noop } from 'lodash'\nimport { useTranslation } from 'react-i18next'\n\nimport ModalConfirm from 'common/modal/Confirm'\nimport GameStoreContext from 'components/game/context/Store'\nimport GameUsedContext from 'components/game/context/Used'\nimport { removeTeam } from '../actionCreators'\n\nconst TeamActionRemove = ({ index, name, onSuccess = noop }) => {\n  const [, dispatch] = useContext(GameStoreContext)\n  const [gameKey] = useContext(GameUsedContext)\n  const [t] = useTranslation()\n  const handleRemove = () => {\n    dispatch(removeTeam(gameKey, index))\n    onSuccess()\n  }\n  return (\n    <ModalConfirm\n      cancelText={t('button.cancel')}\n      confirmText={t('button.remove')}\n      title={t('title.removeTeam')}\n      subtitle={t('messages.confirmRemoveTeam', { teamName: name })}\n      fab\n      color=\"primary\"\n      size=\"small\"\n      onConfirm={handleRemove}\n    />\n  )\n}\n\nexport default TeamActionRemove\n","export const createTeam = (key, round, name) => ({\n  type: 'T+',\n  key,\n  round,\n  name,\n})\n\nexport const removeTeam = (key, index) => ({\n  type: 'T-',\n  key,\n  index,\n})\n\nexport const renameTeam = (key, index, name) => ({\n  type: 'T=',\n  key,\n  index,\n  name,\n})\n","import React, { useContext } from 'react'\nimport { useTranslation } from 'react-i18next'\nimport { noop } from 'lodash'\nimport Fab from '@material-ui/core/Fab'\nimport Icon from '@material-ui/core/Icon'\n\nimport ButtonExtended from 'common/button/Extended'\nimport StyledNameForm from 'common/styled/NameForm'\nimport NameField from 'common/NameField'\nimport GameStoreContext from 'components/game/context/Store'\nimport GameUsedContext from 'components/game/context/Used'\nimport useValidation from 'utils/validation'\n\nimport TeamActionRemove from '../action/Remove'\nimport { renameTeam } from '../actionCreators'\n\nconst TeamFormUpdate = ({ index, name, onChange = noop, onSuccess = noop, onClose = noop }) => {\n  const [, dispatch] = useContext(GameStoreContext)\n  const [gameKey] = useContext(GameUsedContext)\n  const [t] = useTranslation()\n  const { error, onSubmit } = useValidation({\n    name,\n    errorMessage: 'errors.requiredTeamName',\n    onSubmit: () => {\n      dispatch(renameTeam(gameKey, index, name))\n      onSuccess()\n    },\n  })\n\n  return (\n    <StyledNameForm>\n      <div className=\"field\">\n        <NameField label={t('placeholder.teamName')} onChange={onChange} onEnter={onSubmit} error={error} value={name} />\n        <Fab color=\"primary\" size=\"small\" aria-label={t('button.rename')} onClick={onSubmit}>\n          <Icon>check</Icon>\n        </Fab>\n      </div>\n      <div className=\"buttons\">\n        <ButtonExtended icon=\"cancel\" label={t('button.cancel')} onClick={onClose} />\n        <TeamActionRemove name={name} index={index} />\n      </div>\n    </StyledNameForm>\n  )\n}\n\nexport default TeamFormUpdate\n","import React, { useCallback } from 'react'\nimport styled from 'styled-components'\nimport IconButton from '@material-ui/core/IconButton'\nimport Icon from '@material-ui/core/Icon'\n\nimport Flex from 'common/Flex'\n\nconst StyledIcon = styled(Icon)`\n  && {\n    font-size: 0.75rem;\n  }\n`\n\nconst StyledButton = styled(IconButton).attrs({\n  variant: 'text',\n  color: 'primary',\n})`\n  && {\n    padding: 0.5rem;\n  }\n`\n\nconst TeamChampionship = ({ championship, onClick }) => {\n  const handleClick = useCallback(() => onClick(championship), [championship, onClick])\n  return (\n    <Flex flex=\"0 1 auto\">\n      <StyledButton onClick={handleClick} onTouchEnd={handleClick}>\n        <StyledIcon>star</StyledIcon>\n      </StyledButton>\n    </Flex>\n  )\n}\n\nexport default TeamChampionship\n","import React, { useState } from 'react'\nimport ListItem from '@material-ui/core/ListItem'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport Typography from '@material-ui/core/Typography'\nimport SlideLongRippleSwitch from 'common/SlideLongRippleSwitch'\nimport useLongRipple from 'common/useLongRipple'\nimport Flex from 'common/Flex'\nimport { flexCenterBetween } from 'utils/flexStyles'\n\nimport TeamFormUpdate from '../form/Update'\nimport TeamChampionship from '../Championship'\n\nconst TeamListItem = ({ index, name, championships = [], rounds, round, onClickChampionship }) => {\n  const [newName, setNewName] = useState(null)\n  const handleEditMode = () => setNewName(name)\n  const handleViewMode = () => setNewName(null)\n  const rippleProps = useLongRipple({ onLongPress: handleEditMode })\n\n  return (\n    <SlideLongRippleSwitch active={newName === null ? 1 : 0}>\n      <TeamFormUpdate index={index} name={newName || ''} onChange={setNewName} onClose={handleViewMode} onSuccess={handleViewMode} />\n      <ListItem button {...rippleProps}>\n        <ListItemText disableTypography style={flexCenterBetween}>\n          <div>\n            <Typography variant=\"body1\">{name}</Typography>\n            <Flex display>\n              {championships.map((championship) => (\n                <TeamChampionship key={championship} championship={championship} onClick={onClickChampionship} />\n              ))}\n            </Flex>\n          </div>\n          {round && <Typography variant=\"overline\">{rounds[round].reduce((sum, value) => value + sum, 0)}</Typography>}\n        </ListItemText>\n      </ListItem>\n    </SlideLongRippleSwitch>\n  )\n}\n\nexport default TeamListItem\n","import React, { useContext } from 'react'\nimport { isEmpty, noop } from 'lodash'\nimport List from '@material-ui/core/List'\n\nimport GameUsedContext from 'components/game/context/Used'\nimport TeamListEmpty from './Empty'\nimport TeamListItem from './Item'\n\nconst TeamList = ({ onClickChampionship = noop }) => {\n  const [, game] = useContext(GameUsedContext)\n\n  if (!game) {\n    return null\n  }\n  const { teams = [], round } = game\n\n  return isEmpty(teams) ? (\n    <TeamListEmpty />\n  ) : (\n    <List component=\"div\">\n      {teams.map((team, index) => (\n        <TeamListItem key={team.name} index={index} onClickChampionship={onClickChampionship} round={round} {...team} />\n      ))}\n    </List>\n  )\n}\n\nexport default TeamList\n","import React, { useContext } from 'react'\nimport { get, noop } from 'lodash'\nimport { useTranslation } from 'react-i18next'\n\nimport StickyFabButton from 'common/StickyFabButton'\nimport GameStoreContext from 'components/game/context/Store'\nimport { addRound } from '../actionCreators'\n\nconst GameActionStart = ({ gameKey, game, onStart = noop }) => {\n  const [t] = useTranslation()\n  const [, dispatch] = useContext(GameStoreContext)\n  const handleStart = () => {\n    const { round } = game\n    if (round === null) {\n      const newRound = Date.now().toString(36)\n      dispatch(addRound(gameKey, newRound))\n      onStart(newRound)\n    } else {\n      onStart(round)\n    }\n  }\n\n  return (\n    get(game, 'teams.length', 0) > 1 && (\n      <StickyFabButton tooltip={t('button.startGame')} color=\"primary\" icon=\"play_arrow\" aria-label={t('button.startGame')} onClick={handleStart} />\n    )\n  )\n}\n\nexport default GameActionStart\n","import React from 'react'\n\nimport GameGuard from './game/Guard'\nimport useGame from './game/useGame'\nimport TeamList from './game/team/list/List'\nimport GameActionStart from './game/action/Start'\nimport GameUsedContext from './game/context/Used'\nimport PageViewTracker from './PageViewTracker'\n\nconst Game = ({ gameKey, uri, navigate }) => {\n  const game = useGame({ gameKey })\n  const goToRound = (round) => navigate(`rounds/${round}`)\n  return (\n    <GameUsedContext.Provider value={[gameKey, game]}>\n      <GameGuard game={game}>\n        <TeamList onClickChampionship={goToRound} />\n        <GameActionStart gameKey={gameKey} game={game} onStart={goToRound} />\n      </GameGuard>\n      <PageViewTracker uri={uri} />\n    </GameUsedContext.Provider>\n  )\n}\n\nexport default Game\n","import useGame from 'components/game/useGame'\n\nconst RoundGuard = ({ children, gameKey, round, fallback = null }) => {\n  const { teams } = useGame({ gameKey })\n\n  return teams.some((team) => Object.keys(team.rounds).includes(round)) ? children : fallback\n}\n\nexport default RoundGuard\n","import styled from 'styled-components';\n\nconst ButtonsWrapper = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  padding: 0.5rem 1rem;\n\n  > button {\n    flex: 1 1 100%;\n    margin: 0.25rem 0;\n  }\n`;\n\nexport default ButtonsWrapper;\n","import { createContext } from 'react'\n\nexport default createContext([])\n","import styled from 'styled-components';\nimport MuiCardHeader from '@material-ui/core/CardHeader';\n\nconst CardHeader = styled(MuiCardHeader)`\n  padding: 0.5rem;\n\n  span {\n    font-size: 11px;\n  }\n`;\n\nexport default CardHeader;\n","import styled from 'styled-components'\nimport Typography from '@material-ui/core/Typography'\n\nconst StyledScore = styled(Typography).attrs({\n  align: 'center',\n  component: 'div',\n})`\n  width: 100%;\n  display: flex;\n  justify-content: center;\n`\n\nexport default StyledScore\n","import React, { useContext } from 'react'\nimport styled from 'styled-components'\nimport { noop } from 'lodash'\nimport { useTranslation } from 'react-i18next'\nimport IconButton from '@material-ui/core/IconButton'\nimport Icon from '@material-ui/core/Icon'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport Typography from '@material-ui/core/Typography'\n\nimport ModalConfirm from 'common/modal/Confirm'\nimport GameStoreContext from 'components/game/context/Store'\nimport GameUsedContext from 'components/game/context/Used'\nimport { removeScore } from '../actionCreators'\n\nconst StyledListItemText = styled(ListItemText)`\n  display: grid;\n  grid-auto-flow: column;\n  align-items: center;\n  justify-content: center;\n  padding: 0;\n  gap: 5px;\n`\n\nconst RoundScoreRemove = ({ score, index, scoreIndex, onSuccess = noop, onClose = noop }) => {\n  const [, dispatch] = useContext(GameStoreContext)\n  const [t] = useTranslation()\n  const [gameKey, , round] = useContext(GameUsedContext)\n  const handleRemove = () => {\n    dispatch(removeScore(gameKey, round, index, scoreIndex))\n    onSuccess()\n  }\n  return (\n    <StyledListItemText component=\"div\" disableTypography>\n      <ModalConfirm\n        color=\"primary\"\n        cancelText={t('button.cancel')}\n        confirmText={t('button.remove')}\n        title={t('title.removeScore')}\n        subtitle={t('messages.confirmRemoveScore')}\n        size=\"small\"\n        onConfirm={handleRemove}\n      />\n      <Typography align=\"center\" variant=\"body2\">\n        {score}\n      </Typography>\n      <IconButton color=\"primary\" size=\"small\" aria-label={t('button.cancel')} onClick={onClose}>\n        <Icon>check</Icon>\n      </IconButton>\n    </StyledListItemText>\n  )\n}\n\nexport default RoundScoreRemove\n","export const addScores = (key, round, scores) => ({\n  type: 'S++',\n  key,\n  round,\n  scores,\n})\n\nexport const removeScore = (key, round, index, scoreIndex) => ({\n  type: 'S-',\n  key,\n  round,\n  index,\n  scoreIndex,\n})\n","import React, { useState } from 'react'\nimport ListItem from '@material-ui/core/ListItem'\n\nimport SlideLongRippleSwitch from 'common/SlideLongRippleSwitch'\nimport StyledScore from 'common/StyledScore'\nimport useLongRipple from 'common/useLongRipple'\nimport RoundScoreRemove from './form/ScoreRemove'\n\nconst GameRoundScore = ({ index, score, scoreIndex }) => {\n  const [canClose, setCanClose] = useState(false)\n  const handleEditMode = () => setCanClose(true)\n  const handleViewMode = () => setCanClose(false)\n  const rippleProps = useLongRipple({ onLongPress: handleEditMode })\n\n  return (\n    <SlideLongRippleSwitch active={canClose ? 0 : 1}>\n      <RoundScoreRemove onClose={handleViewMode} onSuccess={handleViewMode} scoreIndex={scoreIndex} score={score} index={index} />\n      <ListItem button dense {...rippleProps}>\n        <StyledScore variant=\"body2\">{score}</StyledScore>\n      </ListItem>\n    </SlideLongRippleSwitch>\n  )\n}\n\nexport default GameRoundScore\n","import React from 'react'\nimport styled from 'styled-components'\nimport ListItem from '@material-ui/core/ListItem'\nimport StyledScore from 'common/StyledScore'\nimport { themeColors } from 'themes'\n\nconst StyledListItem = styled(ListItem)`\n  border-top: 1px solid ${themeColors.border};\n`\n\nconst GameRoundSum = ({ rounds = [], round }) => (\n  <StyledListItem component=\"div\">\n    <StyledScore variant=\"overline\">{rounds[round].reduce((sum, value) => value + sum, 0)}</StyledScore>\n  </StyledListItem>\n)\n\nexport default GameRoundSum\n","import styled from 'styled-components'\nimport TextField from '@material-ui/core/TextField'\n\nconst RoundListField = styled(TextField).attrs({\n  margin: 'dense',\n  variant: 'outlined',\n  type: 'number',\n})`\n  width: 100px;\n\n  input {\n    text-align: center;\n  }\n`\n\nexport default RoundListField\n","import React, { useContext } from 'react'\nimport styled from 'styled-components'\nimport { map } from 'lodash'\nimport Card from '@material-ui/core/Card'\nimport List from '@material-ui/core/List'\n\nimport CardHeader from 'common/card/Header'\nimport GameScoresContext from 'components/game/context/Scores'\nimport GameRoundScore from 'components/game/round/Score'\nimport GameRoundSum from 'components/game/round/Sum'\nimport { onEnter } from 'utils/handlers'\nimport RoundListField from './Field'\n\nconst StyledRoundListItemContent = styled.div`\n  padding: 16px;\n  text-align: center;\n`\n\nconst RoundListItem = ({ index, name, rounds, round, onEnter: handleEnter }) => {\n  const teamScores = rounds[round]\n  const [roundScores, setRoundScores] = useContext(GameScoresContext)\n  const teamScoreValue = roundScores[index]\n  const handleChange = ({ target }) => {\n    setRoundScores(roundScores.map((score, i) => (i === index ? target.value : score)))\n  }\n  return (\n    <li>\n      <Card>\n        <CardHeader title={name} titleTypographyProps={{ align: 'center' }} />\n        <StyledRoundListItemContent>\n          <List component=\"div\" dense>\n            {map(teamScores, (score, key) => (\n              <GameRoundScore key={key} score={score} index={index} scoreIndex={key} />\n            ))}\n            <GameRoundSum rounds={rounds} round={round} />\n          </List>\n          <RoundListField\n            inputProps={{\n              tabIndex: index + 1,\n              pattern: '-?\\\\d*',\n            }}\n            onChange={handleChange}\n            onKeyDown={onEnter(handleEnter)}\n            value={teamScoreValue}\n          />\n        </StyledRoundListItemContent>\n      </Card>\n    </li>\n  )\n}\n\nexport default RoundListItem\n","import styled from 'styled-components'\n\nconst RoundListWrapper = styled.ul`\n  display: grid;\n  gap: 1rem;\n  grid-template-columns: repeat(auto-fill, minmax(130px, 1fr));\n  padding: 1rem;\n`\n\nexport default RoundListWrapper\n","import React from 'react'\nimport { isEmpty, noop } from 'lodash'\nimport TeamListEmpty from 'components/game/team/list/Empty'\n\nimport RoundListItem from './Item'\nimport RoundListWrapper from './Wrapper'\n\nconst RoundList = ({ teams = [], round, onSubmit = noop }) =>\n  isEmpty(teams) ? (\n    <TeamListEmpty />\n  ) : (\n    <RoundListWrapper>\n      {teams.map((team, key) => (\n        <RoundListItem key={team.name} index={key} round={round} onEnter={onSubmit} {...team} />\n      ))}\n    </RoundListWrapper>\n  )\n\nexport default RoundList\n","import React, { useContext, useState } from 'react'\nimport { noop } from 'lodash'\nimport { useTranslation } from 'react-i18next'\nimport Button from '@material-ui/core/Button'\nimport Modal from '@material-ui/core/Modal'\nimport Typography from '@material-ui/core/Typography'\n\nimport ButtonsWrapper from 'common/ButtonsWrapper'\nimport ModalActions from 'common/modal/Actions'\nimport ModalContent from 'common/modal/Content'\nimport GameStoreContext from 'components/game/context/Store'\nimport { endRound } from 'components/game/actionCreators'\n\nconst RoundActionEnd = ({ gameKey, round, onEnd = noop }) => {\n  const [open, setOpen] = useState(false)\n  const [t] = useTranslation()\n  const [, dispatch] = useContext(GameStoreContext)\n  const toggleOpen = () => setOpen(!open)\n  const handleSubmit = () => {\n    dispatch(endRound(gameKey, round))\n    setOpen(false)\n    onEnd(round)\n  }\n  return (\n    <>\n      <ButtonsWrapper>\n        <Button color=\"primary\" variant=\"contained\" aria-owns={open ? 'confirm-end-dialog' : undefined} aria-haspopup=\"true\" onClick={toggleOpen}>\n          {t('button.endGame')}\n        </Button>\n      </ButtonsWrapper>\n      <Modal id=\"confirm-end-dialog\" aria-labelledby=\"confirm-end-title\" aria-describedby=\"confirm-end-description\" open={open} onClose={toggleOpen}>\n        <ModalContent>\n          <Typography variant=\"h6\" id=\"confirm-end-title\">\n            {t('button.endGame')}\n          </Typography>\n          <Typography variant=\"subtitle1\" id=\"confirm-end-description\">\n            {t('messages.confirmEndGame')}\n          </Typography>\n          <ModalActions>\n            <Button onClick={toggleOpen}>{t('button.cancel')}</Button>\n            <Button color=\"primary\" autoFocus onClick={handleSubmit}>\n              {t('button.endGame')}\n            </Button>\n          </ModalActions>\n        </ModalContent>\n      </Modal>\n    </>\n  )\n}\n\nexport default RoundActionEnd\n","import React, { useContext, useState } from 'react'\nimport { useTranslation } from 'react-i18next'\nimport Button from '@material-ui/core/Button'\nimport ButtonsWrapper from 'common/ButtonsWrapper'\nimport GameUsedContext from './context/Used'\nimport GameStoreContext from './context/Store'\nimport GameScoresContext from './context/Scores'\nimport RoundList from './round/list/List'\nimport RoundEnd from './round/action/End'\nimport { addScores } from './round/actionCreators'\n\nconst GameScores = ({ round, onEnd }) => {\n  const [gameKey, { teams = [] }] = useContext(GameUsedContext)\n  const [, dispatch] = useContext(GameStoreContext)\n  const initialState = Array.from({ length: teams.length }, () => '')\n  const state = useState(initialState)\n  const [t] = useTranslation()\n  const handleSubmit = () => {\n    const [scores, setScores] = state\n    if (scores.some((score) => typeof Number(score) === 'number')) {\n      dispatch(addScores(gameKey, round, scores.map((score) => Number.parseInt(score, 10))))\n      setScores(initialState)\n    }\n  }\n  return (\n    <GameScoresContext.Provider value={state}>\n      <RoundList teams={teams} round={round} onSubmit={handleSubmit} />\n      <ButtonsWrapper>\n        <Button icon=\"plus\" color=\"primary\" variant=\"contained\" onClick={handleSubmit}>\n          {t('button.sum')}\n        </Button>\n      </ButtonsWrapper>\n      <RoundEnd gameKey={gameKey} round={round} onEnd={onEnd} />\n    </GameScoresContext.Provider>\n  )\n}\n\nexport default GameScores\n","import React from 'react'\nimport styled from 'styled-components'\nimport { map, sortBy } from 'lodash'\nimport List from '@material-ui/core/List'\nimport ListItem from '@material-ui/core/ListItem'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport Typography from '@material-ui/core/Typography'\nimport Flex from 'common/Flex'\n\nconst StyledSumScore = styled(Typography).attrs({\n  variant: 'overline',\n})`\n  && {\n    font-size: 2rem;\n    text-align: right;\n    line-height: 1.2;\n  }\n`\n\nconst StyledScore = styled(Typography).attrs({\n  variant: 'overline',\n})`\n  && {\n    font-size: 0.875rem;\n    margin-left: 0.875rem;\n  }\n`\n\nconst Championship = ({ teams, round }) => {\n  const sortedTeams = sortBy(teams, ({ rounds }) => -rounds[round].reduce((sum, value) => value + sum, 0))\n  return (\n    <List component=\"div\">\n      {sortedTeams.map((team) => (\n        <ListItem key={`${team.name}${round}`}>\n          <ListItemText disableTypography>\n            <Flex display items=\"center\" justify=\"space-between\">\n              <Typography variant=\"body1\">{team.name}</Typography>\n              <StyledSumScore>{team.rounds[round].reduce((sum, value) => value + sum, 0)}</StyledSumScore>\n            </Flex>\n            <Flex component=\"ul\" display items=\"center\" justify=\"flex-end\">\n              {map(team.rounds[round], (score, index) => (\n                <li key={index}>\n                  <StyledScore>{score}</StyledScore>\n                </li>\n              ))}\n            </Flex>\n          </ListItemText>\n        </ListItem>\n      ))}\n    </List>\n  )\n}\n\nexport default Championship\n","import React from 'react'\nimport { useTranslation } from 'react-i18next'\n\nimport WarnPlaceholder from 'common/WarnPlaceholder'\nimport GameGuard from './game/Guard'\nimport RoundGuard from './game/round/Guard'\n\nimport useGame from './game/useGame'\nimport GameUsedContext from './game/context/Used'\nimport Scores from './game/Scores'\nimport Championship from './game/round/Championship'\nimport PageViewTracker from './PageViewTracker'\n\nconst Round = ({ gameKey, round, uri, navigate }) => {\n  const game = useGame({ gameKey })\n  const [t] = useTranslation()\n\n  const goToGame = () => navigate('../..')\n  const isActive = game && game.round === round\n  return (\n    <GameUsedContext.Provider value={[gameKey, game, round]}>\n      <GameGuard game={game}>\n        <RoundGuard gameKey={gameKey} round={round} fallback={<WarnPlaceholder icon=\"warning\" message={t('text.roundNotFound')} />}>\n          {isActive ? <Scores round={round} onEnd={goToGame} /> : <Championship teams={game ? game.teams : []} round={round} />}\n        </RoundGuard>\n      </GameGuard>\n      <PageViewTracker uri={uri} />\n    </GameUsedContext.Provider>\n  )\n}\n\nexport default Round\n","import React from 'react'\nimport styled from 'styled-components'\nimport { themeColors } from 'themes'\n\nconst StyledAppBar = styled.div`\n  background-color: ${themeColors.primary};\n  box-shadow: 0px 2px 4px -1px rgba(0, 0, 0, 0.2),\n    0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);\n  flex: 0 0 auto;\n  position: static;\n`\n\nconst StyledToolbar = styled.div`\n  align-items: center;\n  display: grid;\n  grid-template-columns: auto 1fr auto auto;\n  padding: 8px 24px;\n\n  .material-icons {\n    color: ${themeColors.foregroundOnPrimary};\n  }\n`\n\nconst BarToolbar = ({ children }) => (\n  <StyledAppBar>\n    <StyledToolbar>{children}</StyledToolbar>\n  </StyledAppBar>\n)\n\nexport default BarToolbar\n","import styled from 'styled-components';\nimport { themeColors } from 'themes';\n\nconst BarTitle = styled.h2`\n  color: ${themeColors.foregroundOnPrimary};\n  flex: 1;\n  font: 1.2rem/1.2 ${({ theme }) => theme.mui.typography.fontFamily};\n  overflow: hidden;\n  padding: 0 0 0 ${props => props.pl || '0px'};\n  text-overflow: ellipsis;\n  user-select: none;\n  white-space: nowrap;\n`;\n\nexport default BarTitle;\n","import React from 'react'\n\nconst EmptyBlock = () => <div />\n\nexport default EmptyBlock\n","import { createContext } from 'react';\n\nexport default createContext('theme');\n","import React, { useState, useContext } from 'react'\nimport IconButton from '@material-ui/core/IconButton'\nimport Menu from '@material-ui/core/Menu'\nimport MenuItem from '@material-ui/core/MenuItem'\nimport Icon from '@material-ui/core/Icon'\nimport LocaleContext from 'components/locale/Context'\n\nconst LocaleMenu = () => {\n  const [el, setEl] = useState(null)\n  const [locale, setLocale] = useContext(LocaleContext)\n  const handleOpen = ({ currentTarget }) => setEl(currentTarget)\n  const handleClose = () => setEl(null)\n  const handleClick = (value) => () => {\n    setEl(null)\n    setLocale(value)\n  }\n  const items = [\n    { id: 'es', label: 'Espaol' },\n    { id: 'en', label: 'English' },\n    { id: 'fr', label: 'Franais' },\n  ]\n  return (\n    <>\n      <IconButton\n        color=\"inherit\"\n        aria-owns={el ? 'locale-menu' : undefined}\n        aria-haspopup=\"true\"\n        aria-label=\"Locale\"\n        onClick={handleOpen}\n      >\n        <Icon>g_translate</Icon>\n      </IconButton>\n      <Menu\n        id=\"locale-menu\"\n        anchorEl={el}\n        open={Boolean(el)}\n        onClose={handleClose}\n      >\n        {items.map(({ id, label }) => (\n          <MenuItem key={id} selected={id === locale} onClick={handleClick(id)}>\n            {label}\n          </MenuItem>\n        ))}\n      </Menu>\n    </>\n  )\n}\n\nexport default LocaleMenu\n","import { createContext } from 'react'\n\nexport default createContext('theme')\n","import React, { useContext, useState } from 'react'\nimport { useTranslation } from 'react-i18next'\nimport IconButton from '@material-ui/core/IconButton'\nimport Menu from '@material-ui/core/Menu'\nimport MenuItem from '@material-ui/core/MenuItem'\nimport Icon from '@material-ui/core/Icon'\nimport ThemeContext from './Context'\n\nconst ThemeMenu = () => {\n  const [el, setEl] = useState(null)\n  const [t] = useTranslation()\n  const [theme, setTheme] = useContext(ThemeContext)\n  const handleOpen = ({ currentTarget }) => setEl(currentTarget)\n  const handleClose = () => setEl(null)\n  const handleClick = (value) => () => {\n    setEl(null)\n    setTheme(value)\n  }\n\n  const items = [{ id: 'minimal', label: t('skins.minimal') }, { id: 'girlish', label: t('skins.girlish') }, { id: 'dark', label: t('skins.dark') }]\n  return (\n    <>\n      <IconButton color=\"inherit\" aria-owns={el ? 'theme-menu' : undefined} aria-haspopup=\"true\" aria-label=\"Theme\" onClick={handleOpen}>\n        <Icon>color_lens</Icon>\n      </IconButton>\n      <Menu id=\"theme-menu\" anchorEl={el} open={Boolean(el)} onClose={handleClose}>\n        {items.map(({ id, label }) => (\n          <MenuItem key={id} selected={id === theme} onClick={handleClick(id)}>\n            {label}\n          </MenuItem>\n        ))}\n      </Menu>\n    </>\n  )\n}\n\nexport default ThemeMenu\n","import React from 'react'\nimport { useTranslation } from 'react-i18next'\nimport IconButton from '@material-ui/core/IconButton'\nimport Icon from '@material-ui/core/Icon'\nimport Tooltip from '@material-ui/core/Tooltip'\n\nimport BarToolbar from 'common/bar/Toolbar'\nimport BarTitle from 'common/bar/Title'\nimport EmptyBlock from 'common/EmptyBlock'\nimport Txt from 'common/Txt'\n\nimport useGame from './game/useGame'\nimport LocaleMenu from './locale/Menu'\nimport ThemeMenu from './theme/Menu'\n\nexport const TopLanding = () => (\n  <BarToolbar>\n    <EmptyBlock />\n    <BarTitle>\n      <Txt id=\"messages.selectGame\" />\n    </BarTitle>\n    <LocaleMenu />\n    <ThemeMenu />\n  </BarToolbar>\n)\n\nexport const TopRound = ({ game = {}, navigate }) => {\n  const { name } = game\n  const goToHome = () => navigate('../../../..')\n  const goToGame = () => navigate('../..')\n  return (\n    <BarToolbar>\n      <IconButton color=\"inherit\" onClick={game ? goToGame : goToHome}>\n        <Icon>arrow_back</Icon>\n      </IconButton>\n      <BarTitle pl=\"0.5rem\">{name}</BarTitle>\n      <LocaleMenu />\n      <ThemeMenu />\n    </BarToolbar>\n  )\n}\n\nexport const TopGame = ({ gameKey, navigate }) => {\n  const game = useGame({ gameKey })\n  const goToHome = () => navigate('../..')\n  const goToAddTeam = () => navigate('team')\n  const goToShareTeam = () => navigate(`../../share/${gameKey}`, { state: { from: `../../games/${gameKey}` } })\n\n  const [t] = useTranslation()\n  return (\n    <BarToolbar>\n      <IconButton color=\"inherit\" onClick={goToHome}>\n        <Icon>arrow_back</Icon>\n      </IconButton>\n      <BarTitle pl=\"0.5rem\">{game && game.name}</BarTitle>\n      <Tooltip disableTouchListener title={t('button.addTeam')}>\n        <IconButton color=\"inherit\" aria-label={t('button.addTeam')} onClick={goToAddTeam}>\n          <Icon>add</Icon>\n        </IconButton>\n      </Tooltip>\n      <Tooltip disableTouchListener title={t('button.share')}>\n        <IconButton color=\"inherit\" aria-label={t('button.share')} onClick={goToShareTeam}>\n          <Icon>share</Icon>\n        </IconButton>\n      </Tooltip>\n    </BarToolbar>\n  )\n}\n","import { Store, get } from 'idb-keyval';\n\nexport const store = new Store('scorespad-db', 'scorespad-store');\n\nexport const getInitialState = async () => {\n  let [games, theme, locale] = await Promise.all([\n    get('gms', store),\n    get('theme', store),\n    get('locale', store),\n  ]);\n\n  if (window.localStorage) {\n    const browserGames = window.localStorage.getItem('gms');\n    const browserTheme = window.localStorage.getItem('theme');\n    const browserLocale = window.localStorage.getItem('locale');\n    if (!games && browserGames) {\n      games = JSON.parse(browserGames || '{}');\n    }\n    if (!theme && browserTheme) {\n      theme = browserTheme;\n    }\n    if (!theme && browserLocale) {\n      locale = browserLocale;\n    }\n    window.localStorage.clear();\n  }\n\n  return { games, theme, locale };\n};\n","import { memo } from 'react';\nimport { set } from 'idb-keyval';\nimport { store } from 'utils/store';\n\nconst LocalStorage = memo(({ index, value }) => {\n  set(index, value, store);\n  return null;\n});\n\nexport default LocalStorage;\n","import React, { useState } from 'react'\nimport { ThemeProvider as StyledThemeProvider } from 'styled-components'\nimport { MuiThemeProvider } from '@material-ui/core/styles'\nimport themes from 'themes'\nimport Storage from 'common/Storage'\n\nimport ThemeContext from './Context'\n\nconst ThemeProvider = ({ initial = 'minimal', children }) => {\n  const storage = 'theme'\n  const [theme, setTheme] = useState(initial)\n  const { globalStyle: Global, ...themeRef } = themes[theme]\n  const handleSetTheme = (value) => {\n    if (window.ga) {\n      window.ga('send', 'event', 'UI', 'theme', value)\n    }\n    setTheme(value)\n  }\n  return (\n    <ThemeContext.Provider value={[theme, handleSetTheme]}>\n      <Storage index={storage} value={theme} />\n      <StyledThemeProvider theme={themeRef}>\n        <MuiThemeProvider theme={themeRef.mui}>\n          <>\n            <Global />\n            {children}\n          </>\n        </MuiThemeProvider>\n      </StyledThemeProvider>\n    </ThemeContext.Provider>\n  )\n}\n\nexport default ThemeProvider\n","import React from 'react'\nimport styled, { keyframes } from 'styled-components'\n\nconst spinKeyframe = keyframes`\n  from { transform: rotate(0deg); }\n  to { transform: rotate(360deg); }\n`\n\nconst SpinnerElement = styled.span`\n  display: inline-block;\n  animation: ${spinKeyframe} 800ms ease-in-out infinite;\n  padding: 2rem 1rem;\n  font-size: 1.2rem;\n`\n\nconst Spinner = () => (\n  // eslint-disable-next-line jsx-a11y/accessible-emoji\n  <SpinnerElement role=\"img\" aria-label=\"Loading...\">\n    \n  </SpinnerElement>\n)\n\nexport default Spinner\n","import React, { Suspense, useState, useEffect } from 'react'\n\nimport Storage from 'common/Storage'\nimport Spinner from 'common/Spinner'\nimport LocaleContext from './Context'\n\nconst LocaleProvider = ({ i18n, initial = 'es', children }) => {\n  const storage = 'locale'\n  const [locale, setLocale] = useState(initial)\n  useEffect(() => {\n    if (i18n.language !== locale) {\n      i18n.changeLanguage(locale)\n    }\n  }, [i18n, locale])\n\n  return (\n    <Suspense fallback={Spinner}>\n      <LocaleContext.Provider value={[locale, setLocale]}>\n        <Storage index={storage} value={locale} />\n        {children}\n      </LocaleContext.Provider>\n    </Suspense>\n  )\n}\n\nexport default LocaleProvider\n","import { get } from 'lodash';\n\nconst gaTrackingEnhancer = (reducer) => (state, action) => {\n  if (window.ga) {\n    const { type, ...payload } = action;\n    const { ga } = window;\n    switch (type) {\n      case 'G+':\n        ga('send', 'event', 'Game', 'create', payload.name);\n        break;\n      case 'G-':\n        ga(\n          'send',\n          'event',\n          'Game',\n          'remove',\n          get(state, `${payload.key}.name`, ''),\n        );\n        break;\n      case 'G=':\n        ga('send', 'event', 'Game', 'rename', payload.name);\n        break;\n      case 'G$':\n        ga(\n          'send',\n          'event',\n          'Game',\n          'finish',\n          get(state, `${payload.key}.name`, ''),\n        );\n        break;\n      case 'T+':\n        ga('send', 'event', 'Team', 'create', payload.name);\n        break;\n      case 'T-':\n        ga(\n          'send',\n          'event',\n          'Team',\n          'remove',\n          get(state, `${payload.key}.teams.${payload.index}.name`, ''),\n        );\n        break;\n      case 'T=':\n        ga('send', 'event', 'Team', 'rename', payload.name);\n        break;\n      case 'R+': {\n        const date = new Date(parseInt(payload.round, 36));\n        ga('send', 'event', 'Round', 'add', date.toISOString());\n        break;\n      }\n      case 'S++': {\n        const date = new Date(parseInt(payload.round, 36));\n        ga('send', 'event', 'Round', 'scores', date.toISOString());\n        break;\n      }\n      case 'S-':\n        ga(\n          'send',\n          'event',\n          'Team',\n          'removeScore',\n          get(state, `${payload.key}.teams.${payload.index}.name`, ''),\n        );\n        break;\n      case 'C+':\n        ga(\n          'send',\n          'event',\n          'Team',\n          'champion',\n          get(state, `${payload.key}.teams.${payload.index}.name`, ''),\n        );\n        break;\n      default:\n    }\n  }\n  return reducer(state, action);\n};\n\nexport default gaTrackingEnhancer;\n","import { get } from 'lodash'\n\nconst reduceTeam = (state, { index, ...payload }, reduceFunction) => {\n  if (index > state.length || index < 0) {\n    return state\n  }\n  const reducedTeam = reduceFunction(state[index], payload)\n  return reducedTeam === state[index] ? state : state.map((team, i) => (index === i ? reducedTeam : team))\n}\n\nexport const createTeam = (state, { name, round }) => {\n  const isNameUsed = state.some((team) => team.name === name)\n  return [\n    ...state,\n    {\n      name: isNameUsed ? `${name} (${state.length + 1})` : name,\n      championships: [],\n      rounds: round === null ? {} : { [round]: [] },\n    },\n  ]\n}\n\nexport const removeTeam = (state, { index }) => (index > state.length || index < 0 ? state : state.filter((_, i) => index !== i))\n\nexport const renameTeam = (team, { name }) => (team.name === name ? team : { ...team, name })\n\nexport const addRound = (state, { round }) =>\n  state.every((team) => Object.keys(team.rounds).includes(round))\n    ? state\n    : state.map((team) => ({\n        ...team,\n        rounds: {\n          ...team.rounds,\n          [round]: [],\n        },\n      }))\n\nexport const addChampionship = (state, { index, round }) =>\n  index > state.length || index < 0\n    ? state\n    : state.map((team, i) =>\n        i === index\n          ? {\n              ...team,\n              championships: [...team.championships, round],\n            }\n          : team)\n\nexport const removeScore = (team, { round, scoreIndex }) =>\n  get(team.rounds, `${round}.${scoreIndex}`) === undefined\n    ? team\n    : {\n        ...team,\n        rounds: {\n          ...team.rounds,\n          [round]: team.rounds[round].filter((_, i) => i !== scoreIndex),\n        },\n      }\n\nexport const addScores = (state, { round, scores }) =>\n  scores.length === 0\n    ? state\n    : state.map((team, index) => ({\n        ...team,\n        rounds: {\n          ...team.rounds,\n          [round]: typeof scores[index] !== 'number' || Number.isNaN(scores[index]) ? team.rounds[round] || [] : [...(team.rounds[round] || []), scores[index]],\n        },\n      }))\n\nexport const reducer = (state = [], { type, ...payload }) => {\n  switch (type) {\n    case 'T+':\n      return createTeam(state, payload)\n    case 'T-':\n      return removeTeam(state, payload)\n    case 'T=':\n      return reduceTeam(state, payload, renameTeam)\n    case 'R+':\n      return addRound(state, payload)\n    case 'S++':\n      return addScores(state, payload)\n    case 'S-':\n      return reduceTeam(state, payload, removeScore)\n    case 'C+':\n      return addChampionship(state, payload)\n    default:\n      return state\n  }\n}\n","import { reducer as teamsReducer } from './team/reducer'\n\nconst reduceGame = (state, { key, ...payload }, reduceFunction) => {\n  if (state[key]) {\n    const game = reduceFunction(state[key], payload)\n    return game === state[key] ? state : { ...state, [key]: game }\n  }\n  return state\n}\n\nconst gameTeamsReducer = (state, payload) => {\n  const teams = teamsReducer(state.teams, payload)\n  return teams === state.teams ? state : { ...state, teams }\n}\n\nexport const createGame = (state, { key, name }) => {\n  const isNameUsed = Object.keys(state).some((gameKey) => state[gameKey].name === name)\n  return {\n    ...state,\n    [key]: {\n      name: isNameUsed ? `${name} (${key})` : name,\n      round: null,\n      teams: [],\n    },\n  }\n}\n\nexport const importGame = (state, { key, game }) => ({\n  ...state,\n  [key]: game,\n})\n\nexport const removeGame = (state, { key }) =>\n  state[key] ? Object.keys(state).reduce((games, k) => (k === key ? games : { ...games, [k]: state[k] }), {}) : state\n\nexport const renameGame = (state, { name }) => (state.name === name ? state : { ...state, name })\n\nexport const selectRound = (state, { round }) => (state.round === round ? state : { ...state, round })\n\nexport const endRound = (state, { round }) => {\n  if (state.round === null) {\n    return state\n  }\n  const totals = state.teams.map(({ rounds }) => rounds[round].reduce((sum, score) => sum + score, 0))\n  const [, ...scores] = totals\n  const winnerIndex = scores.reduce((winner, score, index) => (score > totals[winner] ? index + 1 : winner), 0)\n\n  return gameTeamsReducer({ ...state, round: null }, { type: 'C+', index: winnerIndex, round })\n}\n\nconst reducer = (state = {}, { type, ...payload }) => {\n  switch (type) {\n    case '-- --':\n      return payload\n    case 'G+':\n      return createGame(state, payload)\n    case 'G++':\n      return importGame(state, payload)\n    case 'G-':\n      return removeGame(state, payload)\n    case 'G=':\n      return reduceGame(state, payload, renameGame)\n    case 'G$':\n      return reduceGame(state, payload, endRound)\n    case 'R+':\n      return reduceGame(reduceGame(state, { type, ...payload }, gameTeamsReducer), payload, selectRound)\n    default:\n      return reduceGame(state, { type, ...payload }, gameTeamsReducer)\n  }\n}\n\nexport default reducer\n","import React, { useReducer } from 'react'\nimport Storage from 'common/Storage'\nimport GameStoreContext from 'components/game/context/Store'\nimport gaTracking from 'utils/gaTracking'\nimport reducer from './reducer'\n\nconst GameProvider = ({ initial = {}, children }) => {\n  const storage = 'gms'\n  const gameStore = useReducer(gaTracking(reducer), initial)\n  const [gameState] = gameStore\n  return (\n    <GameStoreContext.Provider value={gameStore}>\n      <Storage index={storage} value={gameState} />\n      {children}\n    </GameStoreContext.Provider>\n  )\n}\n\nexport default GameProvider\n","import React, { forwardRef } from 'react'\nimport Slide from '@material-ui/core/Slide'\n\nconst SlideUp = (props, ref) => <Slide ref={ref} direction=\"up\" {...props} />\n\nexport default forwardRef(SlideUp)\n","import React, { forwardRef } from 'react'\nimport IconButton from '@material-ui/core/IconButton'\nimport Icon from '@material-ui/core/Icon'\nimport Typography from '@material-ui/core/Typography'\nimport styled from 'styled-components'\n\nimport { themeColors } from 'themes'\n\nconst StyledWrapper = styled.h4`\n  border-bottom: 1px solid ${themeColors.border};\n`\n\nconst StyledContainer = styled.div`\n  align-items: center;\n  display: flex;\n  justify-content: flex-start;\n`\n\nconst StyledText = styled(Typography).attrs({\n  component: 'h4',\n  variant: 'overline',\n})`\n  && {\n    margin-left: 0.75rem;\n  }\n`\n\nconst DialogTitle = ({ children, onClose, ...props }, ref) => (\n  <StyledWrapper ref={ref} {...props}>\n    <StyledContainer>\n      <IconButton color=\"primary\" onClick={onClose}>\n        <Icon>close</Icon>\n      </IconButton>\n      <StyledText>{children}</StyledText>\n    </StyledContainer>\n  </StyledWrapper>\n)\n\nexport default forwardRef(DialogTitle)\n","import styled from 'styled-components';\nimport Typography from '@material-ui/core/Typography';\n\nconst DialogHeadline = styled(Typography).attrs({\n  variant: 'body2',\n  gutterBottom: true,\n})`\n  padding: 1rem 0 0.5rem;\n`;\n\nexport default DialogHeadline;\n","import React, { useContext, useState, useEffect } from 'react'\nimport { useTranslation } from 'react-i18next'\nimport Button from '@material-ui/core/Button'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport DialogContent from '@material-ui/core/DialogContent'\n\nimport SlideUp from 'common/SlideUp'\nimport DialogTitle from 'common/dialog/Title'\nimport DialogHeadline from 'common/dialog/Headline'\nimport NameField from 'common/NameField'\nimport GameStoreContext from 'components/game/context/Store'\nimport useValidation from 'utils/validation'\n\nimport { createTeam } from '../actionCreators'\nimport useGame from '../../useGame'\n\nconst TeamFormCreate = ({ gameKey, navigate }) => {\n  const game = useGame({ gameKey })\n  const { round } = game\n  const [open, setOpen] = useState(false)\n  const [name, setName] = useState('')\n  const [t] = useTranslation()\n  const [, dispatch] = useContext(GameStoreContext)\n\n  const handleClose = () => navigate('..')\n  const { error, onSubmit } = useValidation({\n    name,\n    errorMessage: 'errors.requiredTeamName',\n    onSubmit: () => {\n      dispatch(createTeam(gameKey, round, name))\n      handleClose()\n    },\n  })\n\n  useEffect(() => {\n    if (!open) {\n      setOpen(true)\n    }\n  }, [open])\n\n  return (\n    <Dialog fullScreen id=\"team-add-dialog\" onClose={handleClose} aria-labelledby=\"team-add-dialog-title\" open={open} TransitionComponent={SlideUp}>\n      <DialogTitle id=\"team-add-dialog-title\" onClose={handleClose}>\n        {t('button.addTeam')}\n      </DialogTitle>\n      <DialogContent>\n        <DialogHeadline>{t('text.addNewTeam')}</DialogHeadline>\n        <NameField label={t('placeholder.teamName')} onChange={setName} onEnter={onSubmit} error={error} value={name} />\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={handleClose}>{t('button.cancel')}</Button>\n        <Button variant=\"contained\" color=\"primary\" autoFocus onClick={onSubmit}>\n          {t('button.addTeam')}\n        </Button>\n      </DialogActions>\n    </Dialog>\n  )\n}\n\nexport default TeamFormCreate\n","import React from 'react'\nimport Paper from '@material-ui/core/Paper'\nimport { makeStyles } from '@material-ui/styles'\n\nconst useStyles = makeStyles({\n  root: {\n    alignItems: 'stretch',\n    display: 'flex',\n    flex: '1 1 100%',\n    flexDirection: 'column',\n    justifyContent: 'space-between',\n    margin: '0',\n    padding: '1.5rem',\n  },\n})\n\nconst CommonRoutePaper = ({ children, ...props }) => {\n  const { root } = useStyles()\n  return <Paper classes={{ root }} role=\"tabpanel\" elevation={5} {...props}>{children}</Paper>\n}\n\nexport default CommonRoutePaper\n","import React, { useState } from 'react'\nimport { useTranslation } from 'react-i18next'\nimport Fab from '@material-ui/core/Fab'\n\nimport NameField from 'common/NameField'\nimport CommonRoutePaper from 'common/styled/RoutePaper'\nimport useValidation from 'utils/validation'\n\nconst GameFormByName = ({ onSuccess }) => {\n  const [newName, setNewName] = useState('')\n  const [t] = useTranslation()\n  const { error, onSubmit } = useValidation({\n    name: newName,\n    errorMessage: 'errors.requiredGameName',\n    onSubmit: () => {\n      const id = Date.now().toString(36)\n      onSuccess(id, newName)\n    },\n  })\n\n  return (\n    <CommonRoutePaper>\n      <NameField variant=\"outlined\" label={t('placeholder.gameName')} onChange={setNewName} onEnter={onSubmit} error={error} value={newName} />\n      <Fab variant=\"extended\" color=\"primary\" size=\"large\" aria-label={t('button.createGame')} onClick={onSubmit}>\n        {t('button.createGame')}\n      </Fab>\n    </CommonRoutePaper>\n  )\n}\n\nexport default GameFormByName\n","const isSafari = () => {\n  const ua = navigator.userAgent.toLowerCase();\n  return ((ua.indexOf('safari') !== -1) && (ua.indexOf('chrome') === -1));\n}\n\nexport default isSafari\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport isSafari from 'utils/isSafari'\n\nconst videoStyles = {\n  display: 'flex',\n};\n\nclass CommonVideoStream extends Component {\n  stream = null;\n  streamWidth = 0;\n  streamHeight = 0;\n  video = null;\n  canvasContext = null;\n  state = {}\n\n  async componentDidMount() {\n    const { onInit } = this.props\n    try {\n      await this.startCamera();\n      const { strean, video, canvasContext } = this\n      onInit({ strean, video, canvasContext }, this.drawFrame);\n    } catch (e) {\n      this.setState({ error: `Browser camera init error: ${e}` });\n    }\n  }\n\n  componentWillUnmount() {\n    this.stopCamera();\n  }\n\n  stopCamera = () => {\n    if (!this.stream) return;\n    this.stream.getTracks().map(t => t.stop());\n    this.stream = null;\n    this.streamWidth = 0;\n    this.streamHeight = 0;\n    this.canvasContext = null;\n  };\n\n  startCamera = async () => {\n    this.stopCamera();\n\n    if (!(navigator.mediaDevices && navigator.mediaDevices.getUserMedia)) {\n      throw new Error('WebRTC API not supported in this browser');\n    }\n\n    const devices = await navigator.mediaDevices.enumerateDevices();\n    const cameras = devices.filter(device => device.kind === 'videoinput');\n    let videoMode = { facingMode: 'user' };\n    if (cameras.length > 1) {\n      const cameraIndex = this.props.rearCamera ? 1 : 0;\n      const cameraEnv = this.props.rearCamera ? 'environment' : 'user';\n      videoMode = isSafari() ? { facingMode: { exact: cameraEnv } } : { deviceId: cameras[cameraIndex].deviceId };\n    }\n\n    this.stream = await navigator.mediaDevices.getUserMedia({\n      audio: false,\n      video: videoMode,\n    });\n\n    if (this.video.srcObject !== undefined) {\n      this.video.srcObject = this.stream;\n    } else if (this.video.mozSrcObject !== undefined) {\n      this.video.mozSrcObject = this.stream;\n    } else if (window.URL.createObjectURL) {\n      this.video.src = window.URL.createObjectURL(this.stream);\n    } else if (window.webkitURL) {\n      this.video.src = window.webkitURL.createObjectURL(this.stream);\n    } else {\n      this.video.src = this.stream;\n    }\n\n    this.video.playsInline = true;\n    this.video.play(); // firefox does not emit `loadeddata` if video not playing\n    await this.streamLoadedPromise();\n\n    this.streamWidth = this.video.videoWidth;\n    this.streamHeight = this.video.videoHeight;\n\n    if (!this.canvasContext) {\n      const canvas = document.createElement('canvas');\n      canvas.width = this.streamWidth;\n      canvas.height = this.streamHeight;\n      this.canvasContext = canvas.getContext('2d');\n    }\n  };\n\n  streamLoadedPromise = () => new Promise((resolve, reject) => {\n    this.video.addEventListener('loadeddata', resolve, { once: true });\n    this.video.addEventListener('error', reject, { once: true });\n  });\n\n  captureFrame = () => {\n    this.canvasContext.drawImage(this.video, 0, 0, this.streamWidth, this.streamHeight);\n    return this.canvasContext.getImageData(0, 0, this.streamWidth, this.streamHeight);\n  }\n\n  drawFrame = () => {\n    window.requestAnimationFrame(() => {\n      if (!this.canvasContext) return;\n      const { data } = this.captureFrame();\n      this.props.onFrame({\n        data,\n        width: this.streamWidth,\n        height: this.streamHeight,\n      });\n    });\n  };\n\n  render() {\n    const { style, fallback } = this.props\n    const { error } = this.state\n    return error ? fallback : <video style={{ ...videoStyles, ...style }} ref={v => (this.video = v)} />\n  }\n};\n\nCommonVideoStream.propTypes = {\n  onInit: PropTypes.func.isRequired,\n  onFrame: PropTypes.func.isRequired,\n  style: PropTypes.object,\n  rearCamera: PropTypes.bool,\n};\n\nCommonVideoStream.defaultProps = {\n  style: {},\n  rearCamera: true,\n  fallback: null,\n};\n\nexport default CommonVideoStream;","import React, {\n  useRef, useEffect, useCallback, useState,\n} from 'react'\nimport { noop } from 'lodash'\nimport DialogActions from '@material-ui/core/DialogActions'\n\nimport VideoStream from './VideoStream'\nimport ButtonExtended from '../button/Extended'\n\nconst CommonQrScan = ({\n  className,\n  style,\n  rearCamera = true,\n  videoStyle,\n  shouldDecode = true,\n  fallbackCode = null,\n  fallbackMedia = null,\n  tryAgainButtonLabel = 'retry',\n  giveUpButtonLabel = 'give up',\n  onInit = noop,\n  onCode = noop,\n  onClose = noop,\n}) => {\n  const webWorker = useRef(null)\n  const drawVideoFrame = useRef(noop)\n  const [codeError, setCodeError] = useState(false)\n  const handleTryAgain = () => setCodeError(false)\n  const onVideoStreamInit = (state, drawFrame) => {\n    if (onInit) {\n      onInit(state)\n    }\n    drawVideoFrame.current = drawFrame\n    if (shouldDecode) {\n      drawVideoFrame.current()\n    }\n  }\n\n  const onFrame = (frameData) => webWorker.current.postMessage(frameData)\n\n  const onFrameDecoded = useCallback((event) => {\n    const code = event.data\n    if (code) {\n      const { data } = code\n      if (onCode && data.length > 0) {\n        try {\n          onCode(JSON.parse(data))\n        } catch (e) {\n          setCodeError(true)\n        }\n      }\n    }\n\n    if (shouldDecode) {\n      drawVideoFrame.current()\n    }\n  }, [onCode, shouldDecode])\n\n  useEffect(() => {\n    webWorker.current = new Worker(`${process.env.PUBLIC_URL || ''}/qr-worker.js`)\n    webWorker.current.addEventListener('message', onFrameDecoded)\n    return () => {\n      if (webWorker.current) {\n        webWorker.current.terminate()\n        webWorker.current = null\n      }\n    }\n  }, [onFrameDecoded])\n\n  const appliedStyle = {\n    display: 'grid',\n    justifyContent: 'center',\n    maxWidth: '100%',\n    margin: '0 auto',\n    overflow: 'hidden',\n    ...style,\n  }\n  return (\n    <div className={className} style={appliedStyle}>\n      {codeError ? (\n        <>\n          {fallbackCode}\n          <DialogActions style={{ paddingRight: 0 }}>\n            <ButtonExtended color=\"default\" size=\"large\" icon=\"arrow_back\" label={giveUpButtonLabel} onClick={onClose} />\n            <ButtonExtended size=\"large\" icon=\"replay\" label={tryAgainButtonLabel} onClick={handleTryAgain} />\n          </DialogActions>\n        </>\n      ) : (\n        <VideoStream\n          onFrame={onFrame}\n          onInit={onVideoStreamInit}\n          rearCamera={rearCamera}\n          style={videoStyle}\n          fallback={fallbackMedia}\n        />\n      )}\n    </div>\n  )\n}\n\nexport default CommonQrScan\n","import React, { useMemo, useState, useCallback } from 'react'\nimport { useTranslation } from 'react-i18next'\nimport CardHeader from '@material-ui/core/CardHeader'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport Fab from '@material-ui/core/Fab'\nimport Typography from '@material-ui/core/Typography'\n\nimport CommaList from 'common/CommaList'\nimport CommonQrScan from 'common/qr/Scan'\nimport CommonRoutePaper from 'common/styled/RoutePaper'\nimport DialogTitle from 'common/dialog/Title'\nimport SlideUp from 'common/SlideUp'\nimport WarnPlaceholder from 'common/WarnPlaceholder'\n\nconst GameFormByScan = ({ onClose, onSuccess }) => {\n  const [t] = useTranslation()\n  const [code, setCode] = useState(null)\n  const handleScan = useCallback((newCode) => {\n    setCode(newCode)\n  }, [])\n  const handleAdd = () => {\n    const { id, ...newGame } = code\n    onSuccess(id, newGame)\n  }\n  const createdAt = useMemo(() => {\n    if (code) {\n      const date = new Date(parseInt(code.id, 36))\n      return date.toDateString()\n    }\n    return ''\n  }, [code])\n  return (\n    <CommonRoutePaper>\n      <Dialog id=\"game-scan-dialog\" onClose={onClose} aria-labelledby=\"game-scan-dialog-title\" open={!code} fullScreen TransitionComponent={SlideUp}>\n        <DialogTitle id=\"game-share-dialog-title\" onClose={onClose}>\n          {t('game_scan_title')}\n        </DialogTitle>\n        <DialogContent>\n          <CommonQrScan\n            fallbackCode={<WarnPlaceholder icon=\"mobile_off\" message={t('game_scan_wrong_code')} />}\n            fallbackMedia={<WarnPlaceholder icon=\"videocam_off\" message={t('game_scan_no_camera')} />}\n            tryAgainButtonLabel={t('button.tryAgain')}\n            giveUpButtonLabel={t('button.back')}\n            onCode={handleScan}\n            onClose={onClose}\n          />\n        </DialogContent>\n      </Dialog>\n      {code && (\n        <>\n          <CardHeader title={code.name} subheader={t('messages.createdAt', { date: createdAt })} />\n          {code.teams.length > 0 && (\n            <Typography variant=\"overline\">\n              <CommaList items={code.teams} keyedBy=\"name\" attribute=\"name\" />\n            </Typography>\n          )}\n          <Fab variant=\"extended\" color=\"primary\" size=\"large\" aria-label={t('button.createGame')} onClick={handleAdd}>\n            {t('button.confirmAndCreate')}\n          </Fab>\n        </>\n      )}\n    </CommonRoutePaper>\n  )\n}\n\nexport default GameFormByScan\n","import React, { useContext } from 'react'\nimport { useTranslation } from 'react-i18next'\nimport { Router } from '@reach/router'\n\nimport Tabs from '@material-ui/core/Tabs'\nimport Tab from '@material-ui/core/Tab'\nimport KeyboardIcon from '@material-ui/icons/Keyboard'\nimport SpeakerPhoneIcon from '@material-ui/icons/SpeakerPhone'\n\nimport DialogTitle from 'common/dialog/Title'\nimport GameStoreContext from 'components/game/context/Store'\nimport { createGame, importGame } from 'components/game/actionCreators'\n\nimport GameFormByName from './ByName'\nimport GameFormByScan from './ByScan'\n\nconst GameFormCreate = ({ navigate, '*': current }) => {\n  const [t] = useTranslation()\n  const [, dispatch] = useContext(GameStoreContext)\n\n  const goToGame = (id) => navigate(`../games/${id}`)\n  const handleClose = () => navigate('..')\n  const handleCloseScan = () => navigate('.')\n\n  const handleCreate = (id, newName) => {\n    dispatch(createGame(id, newName))\n    goToGame(id)\n  }\n  const handleImport = (id, newGame) => {\n    dispatch(importGame(id, newGame))\n    goToGame(id)\n  }\n\n  const handleChange = (_, route) => {\n    navigate(route || '.')\n  }\n\n  return (\n    <div\n      style={{\n        flex: '1 1 100%',\n        display: 'flex',\n        flexDirection: 'column',\n      }}\n    >\n      <DialogTitle id=\"game-add-dialog-title\" onClose={handleClose}>\n        {t('game_title')}\n      </DialogTitle>\n      <Tabs value={current} onChange={handleChange} variant=\"fullWidth\">\n        <Tab label={t('game_tab_byName')} value=\"\" icon={<KeyboardIcon />} />\n        <Tab label={t('game_tab_byScan')} value=\"scan\" icon={<SpeakerPhoneIcon />} />\n      </Tabs>\n      <Router style={{ display: 'flex', flex: '1 1 100%', flexDirection: 'column' }}>\n        <GameFormByName path=\"/\" onSuccess={handleCreate} />\n        <GameFormByScan path=\"scan\" onClose={handleCloseScan} onSuccess={handleImport} />\n      </Router>\n    </div>\n  )\n}\n\nexport default GameFormCreate\n","import React, { useCallback, useContext, useEffect, useMemo, useState } from 'react'\nimport { useTranslation } from 'react-i18next'\nimport QRCode from 'qrcode'\nimport Button from '@material-ui/core/Button'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport useMediaQuery from '@material-ui/core/useMediaQuery'\n\nimport SlideUp from 'common/SlideUp'\nimport DialogTitle from 'common/dialog/Title'\nimport DialogHeadline from 'common/dialog/Headline'\nimport GameStoreContext from 'components/game/context/Store'\n\nconst GameActionShare = ({ gameKey, location, navigate }) => {\n  const [games] = useContext(GameStoreContext)\n  const [dataUrl, setDataUrl] = useState()\n  const [open, setOpen] = useState(true)\n  const [t] = useTranslation()\n  const matchesLarge = useMediaQuery('(min-width: 481px)')\n  const handleClose = () => {\n    setOpen(false)\n  }\n  const handleExited = () => {\n    navigate(location.state.from || '../..')\n  }\n\n  const handleGenerate = useCallback(async (code) => {\n    setDataUrl(await QRCode.toDataURL(document.getElementById('qrcode'), code, { width: 290 }))\n  }, [])\n\n  useEffect(() => {\n    const game = games[gameKey]\n    if (game) {\n      handleGenerate(JSON.stringify({ id: gameKey, ...game }))\n    }\n  }, [gameKey, games, handleGenerate])\n  return (\n    <Dialog\n      fullScreen\n      id=\"game-share-dialog\"\n      aria-labelledby=\"game-share-dialog-title\"\n      open={open}\n      TransitionComponent={SlideUp}\n      onClose={handleClose}\n      onExited={handleExited}\n    >\n      <DialogTitle id=\"game-share-dialog-title\" onClose={handleClose}>\n        {t('title.shareGame')}\n      </DialogTitle>\n      <DialogContent>\n        <DialogHeadline>{t('messages.confirmShareGame')}</DialogHeadline>\n        {useMemo(\n          () => (\n            <div style={matchesLarge ? {} : { textAlign: 'center' }}>{dataUrl && <img src={dataUrl} alt=\"qr code\" />}</div>\n          ),\n          [dataUrl, matchesLarge],\n        )}\n        <DialogHeadline>\n          {t('messages.confirmShareGame_step1')}\n          <br />\n          {t('messages.confirmShareGame_step2')}\n          <br />\n          {t('messages.confirmShareGame_step3')}\n          <br />\n          {t('messages.confirmShareGame_step4')}\n        </DialogHeadline>\n      </DialogContent>\n      <DialogActions>\n        <Button variant=\"contained\" color=\"primary\" autoFocus onClick={handleClose}>\n          {t('button.ok')}\n        </Button>\n      </DialogActions>\n    </Dialog>\n  )\n}\n\nexport default GameActionShare\n","import React, { Fragment, Suspense, useState, useEffect } from 'react'\nimport { Router, Redirect } from '@reach/router'\n\nimport Layout from 'common/Layout'\nimport CommonSnackbar from 'common/Snackbar'\nimport Txt from 'common/Txt'\n\nimport Landing from './Landing'\nimport Game from './Game'\nimport Round from './Round'\nimport { TopLanding, TopGame, TopRound } from './Top'\nimport ThemeProvider from './theme/Provider'\nimport LocaleProvider from './locale/Provider'\nimport GameProvider from './game/Provider'\n\nimport TeamFormCreate from './game/team/form/Create'\nimport GameFormCreate from './game/form/Create'\nimport GameActionShare from './game/action/Share'\n\nconst Fragoute = ({ children }) => <>{children}</>\n\nconst Root = ({ locale, i18n, theme, games, hasUpdate, onUpdate }) => {\n  const [updateWarning, setUpdateWarning] = useState(hasUpdate)\n  const handleClose = () => setUpdateWarning(false)\n\n  useEffect(() => {\n    setUpdateWarning(hasUpdate)\n  }, [hasUpdate])\n  return (\n    <LocaleProvider initial={locale} i18n={i18n}>\n      <ThemeProvider initial={theme}>\n        <Layout>\n          <Suspense>\n            <GameProvider initial={games}>\n              <Router basepath={process.env.PUBLIC_URL} primary={false} component={Fragment}>\n                <TopLanding path=\"/\" />\n                <Fragoute path=\"games/:gameKey\">\n                  <TopGame path=\"/\" />\n                  <TopRound path=\"rounds/:round\" />\n                  <TeamFormCreate path=\"team\" />\n                </Fragoute>\n              </Router>\n              <Router basepath={process.env.PUBLIC_URL} primary={false} component={Fragoute}>\n                <Landing path=\"/\" />\n                <Redirect from=\"index.html\" to={process.env.PUBLIC_URL || '/'} />\n                <GameFormCreate path=\"game/*\" />\n                <Game path=\"games/:gameKey\" />\n                <GameActionShare path=\"/share/:gameKey\" />\n                <Round path=\"games/:gameKey/rounds/:round\" />\n              </Router>\n            </GameProvider>\n            <CommonSnackbar open={updateWarning} onUpdate={onUpdate} onClose={handleClose}>\n              <span id=\"message-id\">\n                <Txt id=\"text.newVersion\" />\n              </span>\n            </CommonSnackbar>\n          </Suspense>\n        </Layout>\n      </ThemeProvider>\n    </LocaleProvider>\n  )\n}\n\nexport default Root\n","import i18n from 'i18next';\nimport { initReactI18next } from 'react-i18next';\nimport es from './es';\nimport en from './en';\nimport fr from './fr';\n\nconst getI18n = initial => i18n.use(initReactI18next).init({\n  fallbackLng: ['es', 'fr', 'en'],\n  lng: initial,\n  debug: false,\n  resources: {\n    es: { translation: es },\n    en: { translation: en },\n    fr: { translation: fr },\n  },\n});\n\nexport default getI18n;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost'\n    // [::1] is the IPv6 localhost address.\n    || window.location.hostname === '[::1]'\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    || window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/,\n    ),\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service '\n              + 'worker. To learn more, visit https://bit.ly/CRA-PWA',\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all '\n                  + 'tabs for this page are closed. See https://bit.ly/CRA-PWA.',\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404\n        || (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.',\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react'\nimport { render } from 'react-dom'\nimport i18n from 'i18next'\nimport 'reset-css/reset.css'\n\nimport Root from './components/Root'\nimport getI18n from './i18n'\nimport { getInitialState } from './utils/store'\nimport * as serviceWorker from './serviceWorker'\nimport './index.css'\n\nconst rootElement = document.getElementById('root')\n\nconst start = async (props) => {\n  const initialState = await getInitialState()\n  await getI18n(initialState.locale)\n  render(<Root {...initialState} {...props} i18n={i18n} />, rootElement)\n}\n\nstart()\nserviceWorker.register({\n  async onUpdate(registration) {\n    const handleUpdate = async () => {\n      const [cacheKey] = await caches.keys()\n      if (cacheKey) {\n        const cache = await caches.open(cacheKey)\n        const requests = await cache.keys()\n        await Promise.all((requests || []).map((request) => cache.delete(request)))\n      }\n      await registration.unregister()\n      setTimeout(() => window.location.reload(), 350)\n    }\n    start({ hasUpdate: true, onUpdate: handleUpdate })\n  },\n})\n"],"sourceRoot":""}